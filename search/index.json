[{"content":"ä½¿ç”¨ ghproxy åŠ é€Ÿ å®˜ç½‘ï¼šhttps://mirror.ghproxy.com\nåŠ é€Ÿæ–¹æ³•ï¼š åœ¨é“¾æ¥å‰é¢æ·»åŠ ï¼šhttps://mirror.ghproxy.com/ï¼Œå¦‚ï¼š\nhttps://mirror.ghproxy.com/https://github.com/user/repo/releases/download/version/file é™åˆ¶ï¼šghproxy åŸŸåå¯èƒ½ä¼šè¢«å¢™ï¼Œå¯¼è‡´éœ€è¦æ›´æ¢åŸŸå\nä½¿ç”¨ jsdelivr åŠ é€Ÿ å®˜ç½‘ï¼šhttps://github.com/jsdelivr/jsdelivr?tab=readme-ov-file#github\nåŠ é€Ÿæ–¹æ³•ï¼š ä½¿ç”¨ https://cdn.jsdelivr.net/gh æ›¿æ¢ https://github.com åŸŸåï¼Œå¦‚ï¼š\nhttps://cdn.jsdelivr.net/gh/user/repo@version/file @version å¯ä»¥æ˜¯ tag æˆ– commitï¼Œçœç•¥ä¹Ÿå¯ä»¥ï¼Œå¦‚ï¼š\nhttps://cdn.jsdelivr.net/gh/user/repo/file é™åˆ¶ï¼šåªæ”¯æŒ git ä»“åº“æ–‡ä»¶ï¼Œä¸æ”¯æŒ release å‘å¸ƒçš„æ–‡ä»¶\n","date":"2024-02-29T12:16:42+08:00","image":"https://blog.xenori.com/2024/02/github-download-enhance-speed/cover_hu97c93a104dd71fdb6ecb2b1c8317cee1_61791_120x120_fill_box_smart1_3.png","permalink":"https://blog.xenori.com/2024/02/github-download-enhance-speed/","title":"github ä¸‹è½½åŠ é€Ÿ"},{"content":"æ™®é€šçš„æŠ“åŒ…å·¥å…·å¦‚ charles ç­‰æ²¡æ³•æŠ“å–unixå¥—æ¥å­—æ•°æ®ï¼Œéœ€è¦å€ŸåŠ© socat æ¥æŠ“å–ã€‚\nå®‰è£…æŠ“åŒ…å·¥å…· socat brew install socat åˆ¶ä½œæŠ“åŒ…è„šæœ¬ åœ¨/usr/local/binä¸‹åˆ›å»ºä¸€ä¸ªå‘½åä¸ºxdumpçš„ shell æ‰§è¡Œè„šæœ¬ï¼Œå†…å®¹å¦‚ä¸‹ï¼š\n#!/bin/bash restore(){ mv $1.original $1 echo -e \u0026#34;\\nSocket $1 \\e[33mRESTORED\u0026#34; } sock=\u0026#34;$1\u0026#34; trap \u0026#34;restore $sock\u0026#34; EXIT mv \u0026#34;$sock\u0026#34; \u0026#34;$sock.original\u0026#34; socat -t100 -v UNIX-LISTEN:$sock,mode=777,reuseaddr,fork UNIX-CONNECT:$sock.original ä¸ºxdumpè„šæœ¬èµ‹æ‰§è¡Œæƒé™ï¼š\nchmod +x /usr/local/bin/xdump å¼€å§‹æŠ“åŒ… éœ€è¦æŠ“åŒ…æ—¶æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š\nsudo xdump /path/to/unix_socket_file ä¾‹å¦‚æŠ“åŒ… xcode çš„usbmuxdé€šä¿¡åè®®ï¼š\nsudo xdump /var/run/usbmuxd è¾“å‡ºå¦‚ä¸‹ï¼š\n\u0026gt; 2023/05/22 14:17:23.000982894 length=472 from=0 to=471 ........\\b.......\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;!DOCTYPE plist PUBLIC \u0026#34;-//Apple//DTD PLIST 1.0//EN\u0026#34; \u0026#34;http://www.apple.com/DTDs/PropertyList-1.0.dtd\u0026#34;\u0026gt; \u0026lt;plist version=\u0026#34;1.0\u0026#34;\u0026gt; \u0026lt;dict\u0026gt; \u0026lt;key\u0026gt;BundleID\u0026lt;/key\u0026gt; \u0026lt;string\u0026gt;com.apple.dt.Xcode\u0026lt;/string\u0026gt; \u0026lt;key\u0026gt;ClientVersionString\u0026lt;/key\u0026gt; \u0026lt;string\u0026gt;usbmuxd-531.100.1\u0026lt;/string\u0026gt; \u0026lt;key\u0026gt;MessageType\u0026lt;/key\u0026gt; \u0026lt;string\u0026gt;ReadBUID\u0026lt;/string\u0026gt; \u0026lt;key\u0026gt;ProcessID\u0026lt;/key\u0026gt; \u0026lt;integer\u0026gt;870\u0026lt;/integer\u0026gt; \u0026lt;key\u0026gt;ProgName\u0026lt;/key\u0026gt; \u0026lt;string\u0026gt;Xcode\u0026lt;/string\u0026gt; \u0026lt;/dict\u0026gt; \u0026lt;/plist\u0026gt; \u0026lt; 2023/05/22 14:17:23.000985543 length=276 from=0 to=275 ........\\b.......\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;!DOCTYPE plist PUBLIC \u0026#34;-//Apple//DTD PLIST 1.0//EN\u0026#34; \u0026#34;http://www.apple.com/DTDs/PropertyList-1.0.dtd\u0026#34;\u0026gt; \u0026lt;plist version=\u0026#34;1.0\u0026#34;\u0026gt; \u0026lt;dict\u0026gt; \u0026lt;key\u0026gt;BUID\u0026lt;/key\u0026gt; \u0026lt;string\u0026gt;XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\u0026lt;/string\u0026gt; \u0026lt;/dict\u0026gt; \u0026lt;/plist\u0026gt; ","date":"2023-05-22T12:35:10+08:00","image":"https://blog.xenori.com/2023/05/how-to-capture-unix-domain-socket-on-mac/cover_huc84318aa5eda95760760b181358c47b2_188996_120x120_fill_box_smart1_3.png","permalink":"https://blog.xenori.com/2023/05/how-to-capture-unix-domain-socket-on-mac/","title":"Macç³»ç»Ÿä¸‹å¦‚ä½•æŠ“åŒ…unixå¥—æ¥å­—ï¼ˆUnix Domain Socketï¼‰"},{"content":"android 9 ä»¥ä¸Šç‰ˆæœ¬ï¼Œapp ä¸å†ä¿¡ä»»ç”¨æˆ·å®‰è£…çš„è¯ä¹¦ï¼Œåªèƒ½é€šè¿‡ root æ‰‹æœºæŠŠè¯ä¹¦ç§»åŠ¨åˆ° system åˆ†åŒºæ‰èƒ½å®ç°æŠ“åŒ…ã€‚ä¸€èˆ¬æ—¥å¸¸ä½¿ç”¨æ‰‹æœºä¸ºäº†å®‰å…¨æ˜¯ä¸å¯èƒ½ root çš„ï¼Œè¿™é‡Œé€šè¿‡ Windows çš„ WSA æ¥å®ç°æŠ“åŒ…ã€‚\nå‡†å¤‡ç¯å¢ƒ åˆ° WSABuilds ä¸‹è½½å®‰è£…å·² root å¸¦ magisk çš„ WSA é•œåƒï¼ˆå‡å¦‚ä¹‹å‰å·²å®‰è£…è¿‡ WSAï¼Œéœ€è¦å…ˆåˆ°ç³»ç»Ÿåº”ç”¨åˆ—è¡¨ä¸­ï¼ŒæŠŠæ—§çš„å¸è½½ï¼‰\nå®‰è£…åï¼Œå¼€å§‹èœå•ä¸­æœç´¢ androidï¼Œæ‰¾åˆ° WSA è®¾ç½®åº”ç”¨å¹¶æ‰“å¼€ï¼Œé€‰æ‹© å¼€å‘äººå‘˜ï¼Œå¹¶æ‰“å¼€å¼€å‘äººå‘˜æ¨¡å¼\nå®‰è£…APK å®‰è£…ç¨‹åºï¼Œå®ç°åŒå‡»å®‰è£… apk å’Œè‡ªåŠ¨å®‰è£… adb å‘½ä»¤å·¥å…·\nå®‰è£…WSA å·¥å…·ç®±ï¼Œç”¨äºä¸Šä¼ æ–‡ä»¶åˆ° WSA\nä¸‹è½½Magisk appï¼Œå¹¶å®‰è£…\nå®‰è£… charles è¯ä¹¦ æ‰“å¼€ charlesï¼Œé€‰æ‹©èœå• Help -\u0026gt; SSL Proxying -\u0026gt; Save Charles Root Certificateï¼Œå¹¶é€‰æ‹©æŠŠè¯ä¹¦ä¿å­˜ä¸º .cer æ ¼å¼\næ‰“å¼€WSA å·¥å…·ç®±ï¼Œä½¿ç”¨æ–‡ä»¶ä¼ è¾“åŠŸèƒ½æŠŠåˆšåˆšä¿å­˜çš„è¯ä¹¦ä¸Šä¼ åˆ° wsa çš„Downloadç›®å½•\nç‚¹å‡»WSA å·¥å…·ç®±é¦–é¡µçš„Androidè®¾ç½®ï¼Œé€‰æ‹©å®‰å…¨-\u0026gt;æ›´å¤šå®‰å…¨è®¾ç½®-\u0026gt;åŠ å¯†ä¸å‡­æ®-\u0026gt;å®‰è£…è¯ä¹¦èœå•ï¼Œé€‰æ‹©å¹¶å®‰è£…Downloadç›®å½•çš„charlesè¯ä¹¦\nè¯ä¹¦å®‰è£…æˆåŠŸåï¼Œæ­£å¸¸åœ¨åŠ å¯†ä¸å‡­æ®-\u0026gt;ä¿¡ä»»çš„å‡­æ®-\u0026gt;ç”¨æˆ·é¡¹ä¸­èƒ½çœ‹åˆ°å·²å®‰è£…çš„è¯ä¹¦ æŠŠç”¨æˆ·åŒºè¯ä¹¦ç§»åŠ¨åˆ° system åˆ†åŒº ä¸‹è½½ Magisk çš„MagiskTrustUserCertsæ¨¡å—å‹ç¼©åŒ…ï¼Œå¹¶é€šè¿‡WSA å·¥å…·ç®±ä¸Šä¼ åˆ°Downloadç›®å½• æ‰“å¼€ Magisk appï¼Œç‚¹å‡»æ¨¡å— -\u0026gt; ä»æœ¬åœ°å®‰è£…ï¼Œé€‰æ‹©åˆšåˆšä¸Šä¼ çš„Downloadç›®å½•ä¸‹çš„AlwaysTrustUserCertså‹ç¼©åŒ… å®‰è£…æˆåŠŸåï¼Œæ­£å¸¸ä¼šæç¤ºä½ é‡å¯ wsaï¼Œæ²¡çš„è¯ï¼Œåœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œadb rebootæ‰‹å·¥é‡å¯ä¸‹\né‡å¯åæ­£å¸¸èƒ½åœ¨åŠ å¯†ä¸å‡­æ®-\u0026gt;ä¿¡ä»»çš„å‡­æ®-\u0026gt;ç³»ç»Ÿä¸­ï¼Œçœ‹åˆ°charlesè¯ä¹¦\né…ç½®ä»£ç†æŠ“åŒ… æ‰“å¼€ charlesï¼Œé€‰æ‹©èœå•Proxy -\u0026gt; SSL Proxying Settings...ï¼Œå‹¾é€‰ Enable SSL Proxyingï¼Œå¹¶æ·»åŠ æ–°çš„ locationï¼ŒHostå¡«*ï¼ŒPortå¡«443 æ‰“å¼€å‘½ä»¤è¡Œï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤è®¾ç½® WSA ä»£ç†ï¼š adb connect 127.0.0.1:58526 adb shell settings put global http_proxy 192.168.x.x:8888 å…¶ä¸­192.168.x.xéœ€æ”¹ä¸ºcharlesæ‰€åœ¨çš„ ip åœ°å€\nä¸‹è½½å®‰è£…éœ€è¦æŠ“åŒ…çš„ appï¼Œè®¿é—®å°±èƒ½åœ¨charlesçœ‹åˆ° https æµé‡äº†ï¼šï¼‰ åˆ é™¤ä»£ç† å»æ‰ä»£ç†éœ€æ‰§è¡Œä¸‹é¢å‘½ä»¤ï¼š\nadb shell settings delete global http_proxy adb shell settings delete global global_http_proxy_host adb shell settings delete global global_http_proxy_port ","date":"2023-05-15T15:27:10+08:00","image":"https://blog.xenori.com/2023/05/capture-android-https-network-packet-with-wsa/cover_hu9ac3ef1c7349a5b40b6d5d299feb838d_16021_120x120_fill_q75_box_smart1.jpeg","permalink":"https://blog.xenori.com/2023/05/capture-android-https-network-packet-with-wsa/","title":"é€šè¿‡ WSA æŠ“å– android çš„ https ç½‘ç»œè¯·æ±‚åŒ…"},{"content":"AppleTV æ— æ³•ç›´æ¥å®‰è£…è¯ä¹¦å’Œä¿®æ”¹ä»£ç†ï¼Œéœ€è¦å€ŸåŠ©æ·»åŠ è‡ªå®šä¹‰æè¿°æ–‡ä»¶çš„æ–¹å¼æ¥å®ç°ï¼Œæ‰èƒ½å¯¹ app è¿›è¡ŒæŠ“åŒ…ã€‚\nå‡†å¤‡ç¯å¢ƒ å®‰è£… Apple Configurator\nå®‰è£… charles\nä¿è¯ Mac å’Œ AppleTV è¿æ¥åŒä¸€å±€åŸŸç½‘\ncharles é…ç½®æŠ“åŒ… https æµé‡ æ‰“å¼€ charlesï¼Œé€‰æ‹©èœå•Proxy -\u0026gt; SSL Proxying Settings...ï¼Œå‹¾é€‰ Enable SSL Proxyingï¼Œå¹¶æ·»åŠ æ–°çš„ locationï¼ŒHostå¡«*ï¼ŒPortå¡«443 å»ºè®®æŠŠProxyèœå•ä¸­çš„macOS Proxyå»æ‰å‹¾é€‰ï¼Œé¿å… Mac çš„æµé‡å’Œ AppleTV çš„æµé‡æ··åœ¨ä¸€èµ·\nåˆ›å»ºä»£ç†æè¿°æ–‡ä»¶ æ‰“å¼€ charlesï¼Œé€‰æ‹©èœå• Help -\u0026gt; SSL Proxying -\u0026gt; Save Charles Root Certificateï¼Œå¹¶é€‰æ‹©æŠŠè¯ä¹¦ä¿å­˜ä¸º .cer æ ¼å¼ æ‰“å¼€ Apple configuratorï¼Œé€‰æ‹©èœå• æ–‡ä»¶ -\u0026gt; æ–°å»ºæè¿°æ–‡ä»¶\nç‚¹å‡»é€šç”¨ï¼Œåœ¨åç§°ä¸­å¡«ä¸€ä¸ªæ˜“äºè¯†åˆ«çš„åç§°ï¼Œå¦‚charles proxy\nç‚¹å‡»è¯ä¹¦ï¼Œå¹¶æŠŠåˆšåˆšä¿å­˜çš„ charles root è¯ä¹¦ä¸Šä¼ ä¸Šå»\nç‚¹å‡»Wi-Fiï¼Œå¡«ä¸Š AppleTV è¿æ¥çš„ wifi ä¿¡æ¯å’Œ charles ä»£ç†ä¿¡æ¯\næœ€åä½¿ç”¨å¿«æ·é”® cmd+s ä¿å­˜æè¿°æ–‡ä»¶åˆ°æœ¬åœ°æˆ– iCloud ä¸­ï¼Œæ¨èä¿å­˜åˆ° iCloud\nåœ¨ AppleTV ä¸­æ·»åŠ æè¿°æ–‡ä»¶ ç‚¹å‡» Apple configurator ä¸»èœå•ï¼Œé€‰æ‹©é…å¯¹è®¾å¤‡ï¼ŒæŠŠ AppleTV é…ç½®å¹¶è¿æ¥ä¸Š è¿æ¥ä¸Šåï¼ŒApple configurator ä¸»ç•Œé¢ç­‰ä¸€ä¼šä¼šæ˜¾ç¤º AppleTVï¼Œå³é”®é€‰æ‹© æ·»åŠ  -\u0026gt; æè¿°æ–‡ä»¶ï¼Œé€‰æ‹©åˆšåˆšä¿å­˜çš„æè¿°æ–‡ä»¶ ç­‰ä¸€ä¼š AppleTV ä¼šæç¤ºå®‰è£…æè¿°æ–‡ä»¶ï¼Œä¸€è·¯é€‰æ‹©å®‰è£…å°±å¯ä»¥ å®‰è£…å®Œæˆåï¼Œä¼šæ˜¾ç¤ºåˆšåˆšå®‰è£…çš„æè¿°æ–‡ä»¶ è¿›å…¥ AppleTV è®¾ç½®ï¼Œé€‰æ‹©é€šç”¨ -\u0026gt; å…³äº -\u0026gt; è¯ä¹¦ä¿¡ä»»è®¾ç½®ï¼ŒæŠŠcharlesè¯ä¹¦è®¾ç½®ä¸ºä¿¡ä»»ï¼ˆå‡å¦‚å…³äºä¸­æ²¡å‡ºç°è¯ä¹¦ä¿¡ä»»è®¾ç½®ï¼Œè¯æ˜æè¿°æ–‡ä»¶é…ç½®æœ‰è¯¯ï¼Œå¯¼è‡´æè¿°æ–‡ä»¶æ²¡æ·»åŠ æˆåŠŸï¼‰ AppleTV é€‰æ‹©ç³»ç»Ÿ -\u0026gt; é‡æ–°å¯åŠ¨ï¼Œé‡å¯å AppleTV ä¼šæ”¹ä¸ºä½¿ç”¨æè¿°æ–‡ä»¶ä¸­é…ç½®çš„ä»£ç† wifi è¿æ¥ ä½¿ç”¨å®Œåå¯ä»¥åˆ°èœå•é€šç”¨ -\u0026gt; æè¿°æ–‡ä»¶ä¸­åˆ é™¤æ·»åŠ çš„è‡ªå®šä¹‰æè¿°æ–‡ä»¶ï¼Œåˆ é™¤åè¿æ¥çš„ wifi ä¼šä¸¢å¤±æ–­ç½‘ï¼Œéœ€è¦è‡ªå·²å†æ¬¡æ‰‹å·¥è¿æ¥\ncharles æŸ¥çœ‹ https æµé‡ ç­‰ AppleTV é‡å¯å®Œæˆï¼Œæ‰“å¼€æƒ³è¦æŠ“åŒ…çš„ appï¼Œåœ¨ charles å°±èƒ½çœ‹åˆ° app çš„ https è¯·æ±‚äº†\nå‚è€ƒèµ„æ–™ åœ¨Apple TV (tvOS) ä¸Šæ·»åŠ æè¿°æ–‡ä»¶æˆ–MitMè¯ä¹¦ ","date":"2023-05-14T11:27:10+08:00","image":"https://blog.xenori.com/2023/05/how-capture-appletv-https-network-packet/cover_hu191cf6e70229becaacbb2dfa44e8870a_23104_120x120_fill_q75_h2_box_smart1_2.webp","permalink":"https://blog.xenori.com/2023/05/how-capture-appletv-https-network-packet/","title":"å¦‚ä½•æŠ“å– AppleTV (tvOS) çš„ https ç½‘ç»œè¯·æ±‚åŒ…"},{"content":" æ–‡ç« çš„éƒ¨åˆ†å†…å®¹è¢«å¯†ç ä¿æŠ¤ï¼š\nJavascript needs to be enabled to decrypt content 2022å¯¹å¾ˆå¤šäººæ¥è¯´éƒ½æ˜¯è‰°éš¾çš„ä¸€å¹´ï¼Œå„åœ°ç–«æƒ…é¢‘å‘ï¼Œå°æ§å±‚å±‚åŠ ç ï¼Œå„ç§ä»¤äººæ°”æ„¤çš„äº‹ä»¶ä¸æ–­å‘ç”Ÿã€‚è‡ªä¸Šæµ·3æœˆå°åŸç–«æƒ…åï¼Œå¹¿å·ä¹Ÿæ…¢æ…¢è¿›å…¥éœ€è¦48å°æ—¶æ ¸é…¸é˜´æ€§è¯æ˜çš„ç”Ÿæ´»ã€‚ä»Šå¹´å› ä¸ºç–«æƒ…å…³ç³»ï¼Œå›¾ä¹¦é¦†å¾ˆå°‘å»äº†ï¼Œå‡ºé—¨æ¬¡æ•°ä¹Ÿå¾ˆå°‘ï¼ŒåŸºæœ¬éƒ½æ˜¯åœ¨å®¶é‡ŒætvOSå¼€å‘å’Œnasã€‚\nä»Šå¹´å¼€å‘çš„ä¸‰ä¸ªtvOSåº”ç”¨åŸºæœ¬æˆå‹ï¼Œè¿˜åœ¨è€ƒè™‘æ˜¯å¦å‘è‹¹æœäº¤ä¿æŠ¤è´¹ä¸Šæ¶App Storeæˆ–å¼€æºã€‚ã€‚ã€‚å¯¹è¿™ä¸‰ä¸ªappæˆ‘æ˜¯åŸºæœ¬æ»¡æ„çš„ï¼Œè™½ç„¶è¿˜è¾¾ä¸åˆ°äº§å“çš„ç¨‹åº¦ã€‚\nä»Šå¹´è¿˜æ˜¯æ‹–å»¶ç—‡ä¸¥é‡ï¼Œæ²¡æœ‰æ‰¾å·¥ä½œï¼Œç®€å†è¿˜æ²¡æŠ•å‡ºä¸€ä»½ã€‚ã€‚ã€‚è¿˜æ˜¯æƒ³2023å¹´æ‰¾åˆ°ä¸€ä»½æ­£å¼å·¥ä½œï¼Œå¹¶æŠŠåšappç­‰åšå‰¯ä¸šï¼Œç°åœ¨å¹´é¾„å¤ªå¤§äº†ï¼Œç»§ç»­æ‰“å·¥çš„æœºä¼šåŸºæœ¬æ²¡äº†ï¼Œè¿˜æ˜¯è¦é è‡ªå·±ã€‚\n2022å¹´å¹´åº¦é€‰æ‹©å¦‚ä¸‹ï¼š\nå¹´åº¦æ¸¸æˆï¼š è‰¾å°”ç™»æ³•ç¯ å¾ˆä¹…æ²¡è¿™ä¹ˆæŠ•å…¥ç©ä¸€æ¬¾æ¸¸æˆäº†ï¼Œä¸Šæ¬¡è¿˜æ˜¯è’é‡ä¹‹æ¯ï¼Œ200+å°æ—¶ï¼Œä¸ºäº†ç»“å±€é€šäº†3éï¼Œç²¾ç¾çš„ç”»é¢æ°›å›´ï¼Œå¹¿é˜”é«˜è‡ªç”±åº¦çš„åœ°å›¾ï¼Œæœ‰æ—¶é—´çš„éƒ½æ¨èç©ä¸€ä¸‹\nå¹´åº¦åŠ¨ç”»ï¼š èµ›åšæœ‹å…‹ï¼šè¾¹ç¼˜è¡Œè€… é åŠ¨ç”»æŠŠæ¸¸æˆçš„äººæ°”å†æ¬¡æ‹‰èµ·ï¼Œå‰æœŸluciå¤ªç¾äº†ğŸ˜˜\nå¹´åº¦éŸ³ä¹ï¼š I Really Want to Stay At Your House æ¸¸æˆã€Šèµ›åšæœ‹å…‹2077ã€‹ä¸­çš„ä¸€é¦–å¼€è½¦ç”µå°æ­Œæ›²ï¼Œä¹‹å‰ç©äº†å‡ ç™¾å°æ—¶éƒ½æ²¡å¬åˆ°è¿‡ï¼Œé ã€Šèµ›åšæœ‹å…‹ï¼šè¾¹ç¼˜è¡Œè€…ã€‹é‡æ–°å¸¦ç«äº†ï¼Œé€‚åˆé…åˆåŠ¨ç”»å‰§æƒ…ç”»é¢ä¸€èµ·å¬\nå¹´åº¦ç”µå½±ï¼ˆç”µè§†å‰§ï¼‰ï¼š éšå…¥å°˜çƒŸ å¼€ç«¯ (ç”µè§†å‰§) å¹´åº¦å›¾ä¹¦ï¼š æ— \nå¹´åº¦APPï¼š æ— \nå¹´åº¦æ•°ç ï¼š Ulanziåƒç´ æ¡Œé¢æ—¶é’Ÿ ä¸€ç›´æƒ³æ‰¾ä¸€ä¸ªä»¿lametricçš„åƒç´ æ—¶é’Ÿï¼Œè¿™æ¬¾åŸºæœ¬èƒ½æ»¡è¶³éœ€æ±‚ï¼Œè¿˜èƒ½è‡ªå·±å¼€å‘æ’ä»¶ï¼Œç°åœ¨ä¸»è¦ç”¨æ¥æ˜¾ç¤ºæ—¶é—´å’Œgithub staræ•°ã€‚\n","date":"2023-01-24T11:10:08+08:00","image":"https://blog.xenori.com/2023/01/the-summary-of-2022/cover_hu9a3d999fd7aad1a90e9d3706afaa7886_263248_120x120_fill_q75_box_smart1.jpg","permalink":"https://blog.xenori.com/2023/01/the-summary-of-2022/","title":"2022å¹´åº¦æ€»ç»“"},{"content":"1. åˆ‡å‰²mkvå¹¶ä¿ç•™å­—å¹• # æˆªå–ä»30så¼€å§‹çš„30sè§†é¢‘ ffmpeg -ss 00:00:00 -t 00:00:30 -i input.mkv -c:v copy -c:a copy -c:s copy -map 0 output.mkv ","date":"2022-12-10T11:27:10+08:00","image":"https://blog.xenori.com/2022/12/ffmpeg-commands/cover_hue03b7fb6a8cca6756dd6d28025cc72ea_2169233_120x120_fill_box_smart1_3.png","permalink":"https://blog.xenori.com/2022/12/ffmpeg-commands/","title":"å¸¸ç”¨ffmpegå‘½ä»¤"},{"content":"åª’ä½“æ–‡ä»¶å‘½åè§„èŒƒ ç”µå½± å‚è€ƒï¼šhttps://jellyfin.org/docs/general/server/media/movies/\nMovies â”œâ”€â”€ Best_Movie_Ever (2019) â”‚ â”œâ”€â”€ Best_Movie_Ever (2019) - 1080P.mp4 â”‚ â”œâ”€â”€ Best_Movie_Ever (2019) - 720P.mp4 â”‚ â””â”€â”€ Best_Movie_Ever (2019) - Directors Cut.mp4 â””â”€â”€ Movie (2021) [imdbid-tt12801262] â”œâ”€â”€ Movie (2021) [imdbid-tt12801262] - 2160p.mp4 â”œâ”€â”€ Movie (2021) [imdbid-tt12801262] - 1080p.mp4 â””â”€â”€ Movie (2021) [imdbid-tt12801262] - Directors Cut.mp4 ç”µè§†å‰§ å‚è€ƒï¼šhttps://jellyfin.org/docs/general/server/media/shows\nShows â””â”€â”€ Series Name (2010) â”œâ”€â”€ Season 01 â”‚ â”œâ”€â”€ Series Name S01E01.mkv â”‚ â”œâ”€â”€ Series Name S01E02.mkv â”‚ â”œâ”€â”€ featurettes â”‚ â”‚ â””â”€â”€ Some Featurette.mkv â”‚ â””â”€â”€ interviews â”‚ â””â”€â”€ Interview with the Director.mp4 â”œâ”€â”€ Season 02 â”‚ â”œâ”€â”€ Series Name S02E01.mkv â”‚ â”œâ”€â”€ Series Name S02E02.mkv â”‚ â””â”€â”€ behind the scenes â”‚ â””â”€â”€ Behind the Scenes.mp4 â””â”€â”€ extras â””â”€â”€ Fantastic Extra.mkv è§£å†³æˆ‘çš„åª’ä½“å°é¢å›¾ä¸­æ–‡å˜æ–¹å— å…ˆè¿›å…¥docker shellï¼Œå®‰è£…ä¸­æ–‡æ”¯æŒå­—ä½“\napt update apt install fonts-noto-cjk å®‰è£…åå…ˆåˆ é™¤æ—§çš„å°é¢å›¾ï¼Œç„¶åé€‰æ‹©å³ä¸‹è§’èœå•çš„åˆ·æ–°å…ƒæ•°æ®ï¼Œè¿™æ ·ä¼šå†æ¬¡ç”Ÿæˆæ–°çš„å°é¢ã€‚\nè§£å†³å…ƒæ•°æ®æ²¡è‡ªåŠ¨è·å– å‡å¦‚nasçš„å½±ç‰‡å¾ˆå¤šï¼Œinotifyçš„ç›‘æ§æ–‡ä»¶æ•°ä¼šåˆ°è¾¾ä¸Šé™ï¼Œå°±ä¼šå‡ºç°è¿™æƒ…å†µã€‚å¯ä»¥åœ¨dockerçš„hostç«¯ï¼Œæ‰§è¡Œå‘½ä»¤å¢å¤§ç›‘æ§æ–‡ä»¶æ•°ï¼š\nsysctl -w fs.inotify.max_user_watches=1048576 ç„¶åé‡å¯ä¸‹jellyfinå°±å¯ä»¥äº†\næœ€æ–°æ·»åŠ çš„å‰§é›†ä¸åœ¨é¦–é¡µæ˜¾ç¤º é»˜è®¤æ˜¯æŒ‰è§†é¢‘æ–‡ä»¶åˆ›å»ºæ—¶é—´æ’åºçš„ï¼Œå‡å¦‚è§†é¢‘æ–‡ä»¶åˆ›å»ºæ—¥æœŸå¤ªæ—§å°±ä¼šè¿™æ ·ï¼Œå¯åˆ°æ§åˆ¶å°åª’ä½“åº“ -\u0026gt; æ˜¾ç¤ºä¸­ï¼ŒæŠŠé€‰é¡¹æ–°å†…å®¹åŠ å…¥çš„æ—¥æœŸæ”¹ä¸ºä½¿ç”¨æ‰«ææ—¥æœŸ\né¦–é¡µæœ€æ–°çš„ç”µè§†å‰§æ åªæ˜¾ç¤ºå‡ ä¸ª è¿™æ˜¯jellyfinæŸ¥æ‰¾æœ€æ–°ç”µè§†å‰§æ˜¯å±…äºæœ€æ–°å‰§é›†æ¥æŸ¥è¯¢å¯¼è‡´çš„ï¼Œé»˜è®¤åªæŸ¥æ‰¾å‰80ä¸ªå‰§é›†ï¼Œå‡å¦‚æœ€è¿‘æ·»åŠ çš„ç”µè§†å‰§çš„å‰§é›†æ•°æ¯”è¾ƒå¤šï¼Œå°±ä¼šæŒ¤æ‰å…¶ä»–ç”µè§†å‰§å¯¼è‡´æ²¡æ³•åœ¨é¦–é¡µæ˜¾ç¤ºã€‚åªèƒ½ç­‰jellyfinä¿®æ”¹æŸ¥è¯¢æœºåˆ¶ä¿®å¤ã€‚issue#1880\nåŒ¹é…çš„å…ƒæ•°æ®ä¸æ­£ç¡®æ€è§£å†³ï¼Ÿ å¯ä»¥ä½¿ç”¨å³ä¸Šè§’çš„è¯†åˆ«åŠŸèƒ½é‡æ–°åŒ¹é…ï¼Œå‡å¦‚é‡æ–°åŒ¹é…ä¹Ÿä¸æ­£ç¡®ï¼Œå¯ä»¥æ‰‹å·¥ä¿®æ”¹å…ƒæ•°æ®ï¼Œå¦‚é›†å·ç­‰ï¼Œå†ä½¿ç”¨åˆ·æ–°å…ƒæ•°æ® -\u0026gt; æœç´¢ç¼ºå°‘çš„å…ƒæ•°æ®åŒ¹é…ç¼ºå°‘çš„å…ƒæ•°æ®ã€‚\n","date":"2022-09-27T11:58:08+08:00","image":"https://blog.xenori.com/2022/09/jellyfin-practice/cover_hud6c94798a038d917706e56ba7059c630_23107_120x120_fill_box_smart1_3.png","permalink":"https://blog.xenori.com/2022/09/jellyfin-practice/","title":"jellyfinä½¿ç”¨æŒ‡å—"},{"content":"æœåŠ¡å™¨æŠ“åŒ… Macç¤ºä¾‹ 192.168.1.1æ˜¯æœåŠ¡å™¨ipï¼Œ192.168.2.1æ˜¯Mac ipï¼Œæœ¬å‘½ä»¤åœ¨Macç»ˆç«¯æ‰§è¡Œ\nssh root@192.168.1.1 \u0026#39;tcpdump -i br-lan host 192.168.2.1 -s 0 -l -w -\u0026#39; | /Applications/Wireshark.app/Contents/MacOS/Wireshark -k -i - Windowsç¤ºä¾‹ è¯·æ±‚è¿‡æ»¤ æŸ¥çœ‹httpçš„GETè¯·æ±‚ http.request.method == \u0026#34;GET\u0026#34; æŸ¥çœ‹httpæ‰€æœ‰æˆåŠŸçš„è¯·æ±‚ http.response.code == 200 ","date":"2022-08-10T11:58:08+08:00","image":"https://blog.xenori.com/2022/08/wireshark-commands/cover_hu99c1998a3cbc7febb1b0de042a214370_17044_120x120_fill_box_smart1_3.png","permalink":"https://blog.xenori.com/2022/08/wireshark-commands/","title":"wiresharkå¸¸ç”¨æŠ“åŒ…åˆ†æå‘½ä»¤"},{"content":"ç„¦ç‚¹éå¯¹é½ç§»åŠ¨ é»˜è®¤tvOSç„¦ç‚¹ç§»åŠ¨æ˜¯éœ€è¦ç§»åŠ¨æ–¹å‘ä¸Šæœ‰èƒ½è·å–ç„¦ç‚¹çš„buttonï¼Œå‡å¦‚buttonæ˜¯å·¦å³é è¾¹å¯¹é½çš„ï¼Œå°±ç§»åŠ¨ä¸ä¸Šå»ã€‚éœ€è¦ä½¿ç”¨focusSetionæŠŠbuttonæ‰€åœ¨çš„æ•´è¡ŒèŒƒå›´å˜æˆå¯ç„¦ç‚¹è¯†åˆ«çš„ï¼Œæ‰èƒ½è‡ªåŠ¨ç§»åŠ¨åˆ°é è¾¹çš„buttonä¸Šã€‚\nç¤ºä¾‹ï¼š\nVStack { HStack { Button {} label: { Text(\u0026#34;test\u0026#34;) } } .frame(maxWidth: .infinity, alignment: .trailing) .focusSection() Button {} label: { Text(\u0026#34;Save\u0026#34;) } } å®ç°Parralwæ•ˆæœ éœ€è¦ä½¿ç”¨å¼€æºåº“ParallaxViewç¼–å†™è‡ªå®šä¹‰æ§ä»¶å®ç°\nä¼˜åŒ–æ»šåŠ¨åˆ—è¡¨æ€§èƒ½ SwiftUIæ»šåŠ¨åˆ—è¡¨ä¸­æœ‰å¼‚æ­¥åŠ è½½çš„å›¾ç‰‡æ—¶ï¼Œå‘ä¸‹å¿«é€Ÿæ»šåŠ¨ä¼šåœé¡¿ï¼Œä¸èƒ½æŒç»­æ»šåŠ¨ï¼Œçœ‹ç€åƒæ˜¯tvOSç„¦ç‚¹åˆ‡æ¢åˆ°indicatoræ—¶å‡ºç°äº†é—®é¢˜ã€‚è¦è§£å†³åªèƒ½æ”¹ä¸ºä½¿ç”¨UICollectionViewæ¥å®ç°æ»šåŠ¨åˆ—è¡¨ï¼Œæ¨èä½¿ç”¨ç¬¬ä¸‰æ–¹å¼€æºçš„ASCollectionViewæˆ–SwiftUIXæ¥å®ç°ã€‚\ntabbaréšå†…å®¹æ»šåŠ¨ éœ€è¦å€ŸåŠ©Introspectåº“\nimport Foundation import SwiftUI struct TabBarScrollModifier: ViewModifier { func body(content: Content) -\u0026gt; some View { content.introspectViewController { viewController in let scrollView = findScrollViewIn(view: viewController.view) if let scrollView = scrollView as? UIScrollView { viewController.setContentScrollView(scrollView, for: .top) } } } private func findScrollViewIn(view : UIView?) -\u0026gt; UIView? { guard let view = view else { return nil } if view.subviews.count \u0026lt;= 0 { return nil } for sub in view.subviews { if sub is UIScrollView || sub is UICollectionView { return sub } if let item = findScrollViewIn(view: sub) { return item } } return nil } } extension View { func tabBarScroll() -\u0026gt; some View { modifier(TabBarScrollModifier()) } } åœ¨å†…å®¹çš„ScrollViewä¸­è°ƒç”¨ï¼š\nScrollView { // content } .tabBarScroll() onLongPressGestureå¯¼è‡´è·³è½¬å¤±æ•ˆ å‡å¦‚åœ¨ NavigationLink ä¸Šä½¿ç”¨ onLongPressGestureï¼Œé‚£ä¹ˆ NavigartionLink çš„è·³è½¬ä¼šå¤±æ•ˆ\nNavigationLink{ EmptyView() } label: { Text(\u0026#34;Click\u0026#34;) } .onLongPressGesture { // åŠ ä¸Šè¿™å¥ä¼šæ²¡æ³•è§¦å‘è·³è½¬ print(\u0026#34;long press\u0026#34;) } çœ‹ç½‘ä¸Šè¯´æ³•è¿™æ˜¯appletvçš„bugï¼Œå¯åœ¨ onLongPressGesture å‰é¢åŠ ä¸Š onPlayPauseCommand æ¥é¿å…è¿™é—®é¢˜\nNavigationLink{ EmptyView() } label: { Text(\u0026#34;Click\u0026#34;) } .onPlayPauseCommand { // fixed navigate!!! } .onLongPressGesture { print(\u0026#34;long press\u0026#34;) } å¦‚ä½•æœ¬åœ°ä¿®æ”¹å¯¼å…¥çš„swift package éœ€è¦æŠŠswift packageå…ˆä¸‹è½½åˆ°æœ¬åœ°ï¼Œç„¶ååœ¨finderä¸­æ‰¾åˆ°æ–‡ä»¶å¤¹ï¼Œç›´æ¥æ‹–åˆ°xcodeé¡¹ç›®æ ¹ç›®å½•ä¸­\nè¿™æ ·ä¿®æ”¹æœ¬åœ°ä»£ç ï¼Œå°±å¯ä»¥åœ¨xcodeä¸­çœ‹åˆ°ä¿®æ”¹åçš„æ•ˆæœ\n","date":"2022-06-21T11:58:08+08:00","image":"https://blog.xenori.com/2022/06/tvos-development-practice-with-swiftui/cover_hu5373dfbebd7dcd997d2dd643acf5f496_29876_120x120_fill_box_smart1_3.png","permalink":"https://blog.xenori.com/2022/06/tvos-development-practice-with-swiftui/","title":"tvOS å¼€å‘å®è·µ - SwiftUIç¯‡"},{"content":"å®‰è£…caddy Mac:\nbrew install caddy Windows:\nåˆ°å®˜ç½‘ç›´æ¥ä¸‹è½½ï¼šhttps://caddyserver.com/download\nå¿«é€Ÿå¯åŠ¨æ”¯æŒhttpsçš„å¼€å‘æœåŠ¡å™¨ å®‰è£…è¯ä¹¦ caddy trust å¯åŠ¨ç®€å•æ–‡ä»¶æœåŠ¡å™¨ è¿›å…¥æ–‡ä»¶ç›®å½•ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š\ncaddy file-server å¯åŠ¨å¼€å‘æœåŠ¡å™¨ è¿›å…¥é¡¹ç›®æ ¹ç›®å½•ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š\ncat \u0026lt;\u0026lt;EOF \u0026gt; Caddyfile www.example.com { try_files {path} /index.html file_server tls internal } EOF caddy run ","date":"2022-04-20T11:58:08+08:00","image":"https://blog.xenori.com/2022/04/caddy-usage/cover_hucb488979afe6bed39a457371c9aa8b9c_75678_120x120_fill_q75_box_smart1.jpeg","permalink":"https://blog.xenori.com/2022/04/caddy-usage/","title":"caddyä½¿ç”¨æ•™ç¨‹"},{"content":"æœ¬æ¥ä»¥ä¸º2021å¹´æ–°å† å½±å“ä¼šæ…¢æ…¢é™ä½ï¼Œæ—…æ¸¸ä¹Ÿä¼šé€æ­¥å¼€æ”¾ï¼Œä½†è¥¿æ–¹ä¸–ç•Œçš„æ‹‰å®æ˜¯ä½ æƒ³ä¸åˆ°çš„ã€‚ä»Šå¹´çš„è¥¿æ–¹æ”¿å›é™¤äº†ä¸æ–­æ‰¾å„ç§ç†ç”±ç»™ä½ ä½¿ç»Šå­ï¼Œå®åœ¨æ²¡åšä»€ä¹ˆå¯¹ä¸–ç•Œæœ‰ç›Šçš„äº‹ã€‚twitterä¸Šçœ‹åˆ°çš„è‰å°ç†è®ºèƒ½å¾ˆå¥½çš„æ€»ç»“ç°åœ¨è¿™æ‹‰å®çš„ä¸–ç•Œï¼š\næ–‡ç« çš„éƒ¨åˆ†å†…å®¹è¢«å¯†ç ä¿æŠ¤ï¼š\nJavascript needs to be enabled to decrypt content ä»Šå¹´æœ¬æ¥æœ€é‡è¦çš„äº‹æ˜¯æ‰¾åˆ°æ–°å·¥ä½œï¼Œä½†æ‹–å»¶ç—‡åŠ ä¸Šå¹´é¾„è¿‡å¤§çš„ä¸è‡ªä¿¡ï¼Œä¸€ç›´åªæ˜¯æƒ³æƒ³ï¼Œå®é™…æ²¡æŠ•å‡ºå»ä¸€ä»½ç®€å†ã€‚ã€‚ã€‚\næ„Ÿæƒ…ç”Ÿæ´»ä¸Šå°è¯•å’Œä¸€ä¸ªç›¸äº²å¯¹è±¡ä¿æŒäº†æœ€é•¿çš„è”ç³»è®°å½•ï¼Œæœ‰8ä¸ªæœˆäº†ï¼Œä¹‹å‰å‡ ä¸ªç›¸äº²å¯¹è±¡éƒ½æ˜¯åƒå®Œé¥­å°±æ–­äº†è”ç³»ã€‚ä¸è¿‡è‡ªå·±ä¸€ç›´ä¸æƒ³å†è¿›ä¸€æ­¥ï¼Œè¿˜åœ¨çŠ¹è±«æ˜¯å¦è¦æ”¾å¼ƒã€‚ã€‚ã€‚è¿‘æ’å­¦åˆ°ä¸€ä¸ªè¯æ˜¯ç¬¦åˆè‡ªå·±æ€§æ ¼çš„ï¼šå›é¿å‹ä¾æ‹äººæ ¼\nä»Šå¹´ç”Ÿæ´»çŠ¶æ€ï¼š\næœªæ‰¾åˆ°å·¥ä½œ æœªæœ‰å¥³æœ‹å‹ï¼Œä¸€ç›´ç›¸äº²ä¸­ã€‚ã€‚ã€‚ æœªä¼šæ¸¸æ³³ æ˜å¹´è®¡åˆ’ï¼š\næ‰¾åˆ°å·¥ä½œ è®¤çœŸå†™ä¸€ä¸ªä¸šä½™äº§å“ 2021å¹´å¹´åº¦é€‰æ‹©å¦‚ä¸‹ï¼š\nå¹´åº¦æ¸¸æˆï¼š ç³–è±†äºº ä»Šå¹´æ²¡æ€ä¹ˆç©æ¸¸æˆï¼Œä¼‘é—²æ—¶å°±ç©ä¸‹ç³–è±†äººï¼Œä½†æœ€è¿‘è¢«epicæ”¶è´­åå¤ªæ¶å¿ƒäººäº†ï¼ŒæœŸå¾…æ˜å¹´çš„è€å¤´ç¯\nå¹´åº¦åŠ¨ç”»ï¼š çµç¬¼ å¥‡å·§è®¡ç¨‹è½¦ è¿‘å‡ å¹´å›½åˆ›çš„ç¡®å´›èµ·äº†ï¼Œçµç¬¼çš„æˆ˜æ–—å’Œå‰§æƒ…éƒ½å¾ˆå‡ºè‰²ï¼Œç»ˆç« ç™½è€æ¿å‡ºåœºç›´æ¥æŠŠæœŸæœ›å€¼æ‹‰æ»¡äº†ï¼ŒæœŸå¾…æ˜å¹´çš„ä¸‰ä½“ã€‚å¥‡å·§è®¡ç¨‹è½¦å¡é€šçš„ç”»é£ï¼Œä½†å´æœ‰ç€éå¸¸å¸å¼•äººçš„æ‚¬ç–‘æ•…äº‹æƒ…èŠ‚ï¼Œä»Šå¹´æœ€å¥½çœ‹çš„æ—¥æœ¬åŠ¨ç”»ã€‚\nå¹´åº¦éŸ³ä¹ï¼š çˆ±ä½  - ç‹è´°æµª æ‰“å¼€ - é»„éœ„é›² ç§‹å¤©å‰ - ç¡¬ç³–å°‘å¥³303 åªè®°å½•ä¸‹ä»Šå¹´å–œæ¬¢å¬çš„ï¼Œæ²¡ç‰¹åˆ«å–œæ¬¢å•æ›²å¾ªç¯çš„\nå¹´åº¦ç”µå½±ï¼ˆç”µè§†å‰§ï¼‰ï¼š æ‰å…‹Â·æ–½å¥ˆå¾·ç‰ˆæ­£ä¹‰è”ç›Ÿ æ²™ä¸˜ å±±æµ·æƒ…ï¼ˆå‰åŠéƒ¨ï¼‰ å¹´åº¦å›¾ä¹¦ï¼š æ— \nå¹´åº¦APPï¼š æ— \nç§»åŠ¨äº’è”ç½‘åå¹´é»„é‡‘å‘å±•æœŸå·²è¿‡ï¼Œå¼€å§‹è¿›å…¥å­˜é‡åšå¼ˆé˜¶æ®µï¼Œå¾ˆéš¾å†å‡ºç°æœ‰è¶£çš„appäº†\nå¹´åº¦ç½‘ç«™ï¼š æ— \nå¹´åº¦æ•°ç ï¼š AppleTV å°ç±³å‡€æ°´å™¨q600 AppleTVæ˜¯çœ‹åˆ°æœ‰å¼€æºçš„ç¬¬ä¸‰æ–¹bç«™appæ‰ä¹°çš„ï¼Œç”µè§†å†…ç½®çš„androidç³»ç»Ÿå¤ªæ…¢äº†ï¼Œç°åœ¨å·²é…ç½®æ»¡è¶³è‡ªå·±æ‰€æœ‰å½±éŸ³éœ€æ±‚ï¼ŒèµğŸ˜„ã€‚å°ç±³q600å‡€æ°´å™¨æœ‰æˆ‘ä¸€ç›´æœŸæœ›çš„åŠŸèƒ½ï¼šè‡ªåŠ çƒ­ï¼Œæ²¡é™ˆæ°´ï¼Œè™½ç„¶è¿˜ä¸å¤ªå®Œç¾ï¼Œç”¨åˆ°ç°åœ¨å¾ˆæ»¡æ„ã€‚\n","date":"2021-12-28T15:03:08+08:00","image":"https://blog.xenori.com/2021/12/the-summary-of-2021/cover_hu09e89b295a2142cea2852e4ea002a726_132088_120x120_fill_q75_box_smart1.jpeg","permalink":"https://blog.xenori.com/2021/12/the-summary-of-2021/","title":"2021å¹´åº¦æ€»ç»“"},{"content":"æœ¬æ–‡ä¸»è¦æ˜¯æ¢è®¨ä¸‹bç«™çš„éŸ³è§†é¢‘æµåˆ†ç¦»dashæ ¼å¼å®æ—¶è½¬ä¸ºhlsæµåª’ä½“ï¼Œä»¥æ–¹ä¾¿åœ¨æ—§çš„æ’­æ”¾å™¨ä¸Šæ’­æ”¾ã€‚\nä»€ä¹ˆæ˜¯DASH dashæ˜¯åŸºäºHTTPçš„åŠ¨æ€è‡ªé€‚åº”æµï¼ˆè‹±èªï¼šDynamic Adaptive Streaming over HTTPï¼Œä¹Ÿç§°MPEG-DASHï¼‰çš„ç®€ç§°ã€‚ç°åœ¨bç«™æœ€æ–°çš„è§†é¢‘éƒ½æ˜¯è¿”å›è¿™ç§æ ¼å¼ï¼Œå¹¶ä¸”æ˜¯éŸ³è§†é¢‘åˆ†ç¦»çš„ã€‚bç«™dashå®è·µå¯ä»¥å‚è€ƒè¿™ç¯‡ppt: MPEG-DASHåœ¨bilibiliçš„åº”ç”¨ä¸å®è·µ\nè½¬æ¢HLSçš„å®ç°æ–¹å¼ bç«™dashéŸ³è§†é¢‘åˆ†åˆ«ä¸ºå•ç‹¬çš„ä¸¤ä¸ªé“¾æ¥ï¼Œä¸åŒçš„ç ç‡å’Œç¼–ç å¯¹åº”ä¸åŒçš„é“¾æ¥ï¼Œä¸‹é¢åªæ˜¯ä½¿ç”¨å…¶ä¸­ä¸€ä¸ªéŸ³è§†é¢‘é“¾æ¥æ¥ä¸¾ä¾‹ã€‚å®ç°æ–¹å¼å¦‚ä¸‹ï¼š\næä¾›ç”Ÿæˆm3u8æ–‡ä»¶çš„httpæœåŠ¡ï¼Œm3u8è§†é¢‘å—æ ¹æ®æ—¶é•¿(duration)åˆ‡åˆ†ä¸º5ç§’ä¸ºä¸€ç‰‡ï¼Œm3u8æ ¼å¼å¦‚ä¸‹ï¼š #EXTM3U #EXT-X-VERSION:3 #EXT-X-MEDIA-SEQUENCE:0 #EXT-X-ALLOW-CACHE:YES #EXT-X-TARGETDURATION:5 #EXT-X-PLAYLIST-TYPE:VOD #EXTINF: 5.000000, http://xxx/api/hls/segments/1 #EXTINF: 5.000000, http://xxx/api/hls/segments/2 .... æ‹¿ä¸åˆ°æ€»çš„æ—¶é•¿çš„è¯ï¼Œå¯ä»¥é€šè¿‡ffprobeå‘½ä»¤è·å–ï¼š ffprobe -v quiet -print_format json -show_format \u0026#34;http://xxx/video.m4s\u0026#34; httpæœåŠ¡çš„å“åº”å¤´content-typeéœ€è®¾ä¸ºapplication/vnd.apple.mpegurl æä¾›åˆ‡ç‰‡ä¸‹è½½çš„httpæœåŠ¡ï¼Œå¦‚ä¸Šé¢m3u8æ–‡ä»¶ä¸­çš„http://xxx/api/hls/segments/1ï¼Œåˆ‡ç‰‡å¯ä»¥é€šè¿‡ffmpegè¿›è¡ŒéŸ³è§†åˆå¹¶å’Œåˆ‡åˆ†ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š # åˆ‡åˆ†ä»è§†é¢‘ç¬¬(-ss)5.00ç§’å¼€å§‹ï¼Œæ—¶é•¿(-t)5.00ç§’ # -sså’Œ-initial_offsetæ•°å€¼éœ€è¦æ ¹æ®å½“å‰åˆ‡ç‰‡é€’å¢ ffmpeg -timelimit 45 -ss 5.00 -i http://xxx/video.m4s -ss 5.00 -i http://xxx/audio.m4s -t 5.00 -c:v libx264 -preset veryfast -c:a copy -force_key_frames \u0026#34;expr:gte(t,n_forced*5.000)\u0026#34; -f ssegment -segment_time 5.00 -initial_offset 5.00 pipe:out%03d.ts # åŒæ—¶åˆå¹¶å­—å¹•xxx.srt ffmpeg -timelimit 45 -ss 5.00 -copyts -i http://xxx/video.m4s -ss 5.00 -i http://xxx/audio.m4s -t 5.00 -vf subtitles=xxx.srt -c:v libx264 -preset veryfast -c:a copy -force_key_frames \u0026#34;expr:gte(t,n_forced*5.000)\u0026#34; -f ssegment -segment_time 5.00 -initial_offset 5.00 -ss 5.00 pipe:out%03d.ts æœ¬å‘½ä»¤æ˜¯æŠŠé‡æ–°ç¼–ç åçš„è§†é¢‘æ•°æ®è¾“å‡ºåˆ°æ§åˆ¶å°ï¼Œéœ€è¦httpæœåŠ¡æŠŠè¾“å‡ºæ•°æ®å®æ—¶å†™å…¥åˆ°å“åº”ä¸­ï¼Œè¿™æ ·æ’­æ”¾å™¨å°±èƒ½å®æ—¶ä¸‹è½½æ’­æ”¾äº† ä¼šé‡åˆ°çš„é—®é¢˜ ffmpegåˆ‡ç‰‡æ—¶éŸ³é¢‘ä½¿ç”¨äº†copyå‘½ä»¤ï¼Œä½†è§†é¢‘å´ä½¿ç”¨libx264é‡æ–°ç¼–ç ï¼Œå¯¼è‡´è½¬ç å¾ˆæ…¢ï¼Œè€Œä¸”cpuå ç”¨å±…é«˜ä¸ä¸‹ï¼Œä¸ºä»€ä¹ˆè§†é¢‘ä¸ä¹Ÿç”¨copyæ¨¡å¼ï¼Œé¿å…é‡æ–°è½¬ç ï¼Ÿ\nè¿™æ˜¯å› ä¸ºffmpegè§†é¢‘copyæ¨¡å¼åˆ‡ç‰‡æ—¶åªèƒ½æ ¹æ®å…³é”®å¸§åˆ‡åˆ†ï¼Œè¿™æ ·ä¼šå¯¼è‡´æ¯ä¸ªåˆ‡ç‰‡å¯èƒ½ä¼šå¤šå‡ å¸§ï¼Œæ’­æ”¾æ—¶å‡ºç°ç”»é¢é‡å¤æ’­æ”¾å’Œå£°ç”»ä¸åŒæ­¥ï¼Œå…·ä½“é—®é¢˜å¯å‚è€ƒï¼šhttps://www.jianshu.com/p/f7d83fdec111\nåˆ‡ç‰‡é‡æ–°ç¼–ç æ˜¯é¿å…ä¸äº†äº†ï¼Œå¦‚ä½•å¯ä»¥æé«˜è½¬ç é€Ÿåº¦ï¼Œé™ä½cpuå ç”¨ï¼Ÿ\nâ€”â€”è§†é¢‘ç¼–ç ç¡¬ä»¶åŠ é€Ÿï¼\nffmpegç¡¬ä»¶åŠ é€Ÿ è§†é¢‘ç¼–ç ç¡¬ä»¶åŠ é€Ÿä¸»è¦æœ‰å¦‚ä¸‹å‡ ç§ï¼š\nVAAPIï¼šintelé›†æ˜¾æ”¯æŒï¼Œæ˜¯openwrtä¸­æœ€å¸¸è§å’Œä½¿ç”¨çš„ QSVï¼šintelé›†æ˜¾æ”¯æŒï¼Œå¯åœ¨inteläº§å“è§„æ ¼é¡µæœç´¢è‡ªå·±çš„cpuï¼Œçœ‹ä¸‹æœ‰æ²¡æ”¯æŒQuick Sync Video NVENCï¼šnvidiaæ˜¾å¡æ”¯æŒï¼Œopenwrtä¸­ä¸€èˆ¬æ²¡ç‹¬ç«‹æ˜¾å¡ï¼Œå¾ˆå°‘ä½¿ç”¨åˆ° è¿™é‡Œåªä»‹ç»æœ€å¸¸ç”¨çš„vaapiæ–¹å¼ï¼Œffmpegç¼–ç æ—¶ä½¿ç”¨vaapiç¡¬ä»¶åŠ é€Ÿåˆ‡ç‰‡å‘½ä»¤å¦‚ä¸‹ï¼š\n# å¼€å¯vaapiç¡¬ä»¶åŠ é€Ÿç¼–ç  ffmpeg -vaapi_device /dev/dri/renderD128 -timelimit 45 -ss 5.00 -i http://xxx/video.m4s -ss 5.00 -i http://xxx/audio.m4s -t 5.00 -vf \u0026#39;format=nv12,hwupload\u0026#39; -c:v h264_vaapi -c:a copy -force_key_frames \u0026#34;expr:gte(t,n_forced*5.000)\u0026#34; -f ssegment -segment_time 5.00 -initial_offset 5.00 pipe:out%03d.ts # åŒæ—¶åˆå¹¶å­—å¹•xxx.srt ffmpeg -vaapi_device /dev/dri/renderD128 -timelimit 45 -ss 5.00 -copyts -i http://xxx/video.m4s -ss 5.00 -i http://xxx/audio.m4s -t 5.00 -vf \u0026#39;subtitles=xxx.srt,format=nv12,hwupload\u0026#39; -c:v h264_vaapi -c:a copy -force_key_frames \u0026#34;expr:gte(t,n_forced*5.000)\u0026#34; -f ssegment -segment_time 5.00 -initial_offset 5.00 -ss 5.00 pipe:out%03d.ts -vaapi_device /dev/dri/renderD128ï¼Œ-vf 'format=nv12,hwupload'å’Œ-c:v h264_vaapiè¿™ä¸‰ä¸ªå‚æ•°æ˜¯å¿…é¡»çš„\nå¦‚ä½•åœ¨dockerä¸­ä½¿ç”¨ç¡¬ä»¶åŠ é€Ÿ å‡å¦‚hlsæµæœåŠ¡æ˜¯éƒ¨ç½²åœ¨dockerä¸­ä½¿ç”¨çš„ï¼Œæ‰“å¼€ç¡¬ä»¶åŠ é€Ÿå¯ä»¥ä½¿ç”¨å·²ç»å®‰è£…äº†vaapiæ”¯æŒçš„é•œåƒã€‚jrottenberg/ffmpegæœ‰ç”Ÿæˆå¥½çš„æ”¯æŒvaapiçš„dockeré•œåƒï¼Œé•œåƒåç§°å¸¦æœ‰vaapiæ ‡ç­¾ï¼Œå¯è‡ªè¡Œæœç´¢éœ€è¦çš„ffmpegç‰ˆæœ¬ä½¿ç”¨\ndockerå¯åŠ¨æ—¶ï¼Œéœ€è¦ä½¿ç”¨--deviceå‚æ•°ç»‘å®šæ˜¾å¡è®¾å¤‡ï¼š\ndocker run --device /dev/dri:/dev/dri jrottenberg/ffmpeg:vaapi åœ¨openwrtä¸­ä½¿ç”¨çš„è¯ä¸­ï¼Œå¯åœ¨dockeré…ç½®é¡µdeviceæ ç»‘å®šæ˜¾å¡è®¾å¤‡\nå‚è€ƒèµ„æ–™ FFMPEGå‚æ•°è¯´æ˜ï¼šhttps://ffmpeg.org/ffmpeg-all.html#Format-Options DASHåè®®ç›´æ’­åº”ç”¨ï¼šhttps://cloud.tencent.com/developer/article/1895146 ","date":"2021-11-22T14:40:11+08:00","image":"https://blog.xenori.com/2021/11/dash-to-hls/cover_hu37be5b37634337e5cedb4c33df70e78c_168773_120x120_fill_q75_box_smart1.jpeg","permalink":"https://blog.xenori.com/2021/11/dash-to-hls/","title":"dashå®æ—¶è½¬æ¢hlsæµåª’ä½“æ’­æ”¾"},{"content":"æœ¬æ–‡çš„æ–¹æ¡ˆåªé’ˆå¯¹å±€åŸŸç½‘å†…ä½¿ç”¨bitwardençš„æƒ…å†µã€‚å®ç°åŸç†æ˜¯ä½¿ç”¨ACME DNSéªŒè¯æ–¹å¼éªŒè¯åŸŸåæ‰€æœ‰æƒã€‚\næ‰‹æœºappè¿æ¥è‡ªå»ºbitwardenæœåŠ¡æ—¶ï¼Œéœ€è¦æ¥å£å¿…é¡»æ˜¯httpsçš„ï¼Œç»è¿‡æ¯”è¾ƒï¼Œå†³å®šä½¿ç”¨cloudflareä»£ç†æ¥å®ç°ï¼Œè¿™æ ·ä¸ç”¨è€ƒè™‘httpsè¯ä¹¦çš„æ›´æ–°é—®é¢˜ã€‚\nåˆ›å»ºbitwardenåŸŸDNSè®°å½• åœ¨Cloudflareçš„DNSé¢æ¿ä¸­åˆ›å»ºä¸€æ¡bitwardenæœåŠ¡åŸŸçš„DNSè®°å½•ï¼Œå¹¶å…³é—­ä»£ç†åŠŸèƒ½ï¼Œipv4åœ°å€å¡«å†™openwrtè·¯ç”±åœ°å€ï¼š\nåˆ›å»º API ä»¤ç‰Œ åœ¨Cloudflareçš„æ¦‚è¿°é¢æ¿ä¸­ï¼Œç‚¹å‡»å³ä¸‹è§’çš„è·å–æ‚¨çš„ API ä»¤ç‰Œï¼Œè¿›å…¥åˆ›å»ºä»¤ç‰Œé¡µã€‚ç‚¹å‡»åˆ›å»ºä»¤ç‰Œï¼Œå¹¶é€‰æ‹©ä½¿ç”¨æ¨¡æ¿ç¼–è¾‘åŒºåŸŸDNSï¼š\næŒ‰ç…§ä¸‹é¢å›¾ç‰‡æ‰€ç¤ºåˆ›å»ºè®¿é—®æƒé™ï¼ŒåŒºåŸŸèµ„æºä¸­å¯é™å®šä¸ºåˆšåˆšçš„DNSåŸŸï¼Œä¹Ÿå¯æŒ‡å®šä¸ºå¸å·ä¸‹çš„æ‰€æœ‰åŸŸï¼š\nä¸€ç›´ç‚¹å‡»ä¸‹ä¸€æ­¥ç›´åˆ°å®Œæˆï¼Œå¤åˆ¶å‡ºapi tokenï¼Œå¹¶ä¿å­˜å¥½ï¼Œä¸‹é¢æ­¥éª¤ä¼šç”¨åˆ°ã€‚\nä¸‹è½½å®‰è£…caddy è¿›å…¥caddyä¸‹è½½é¡µï¼Œä¸‹è½½å¯¹åº”ç‰ˆæœ¬ï¼Œéœ€è¦é€‰ä¸Šcaddy-dns/cloudflareæ¨¡å—ã€‚caddyå¦‚ä½•å®‰è£…ï¼Œå¯ä»¥å‚è€ƒæˆ‘ä¹‹å‰çš„æ–‡ç« â€”â€”openwrtç®¡ç†åå°ä½¿ç”¨caddyä»£æ›¿uhttpd\né…ç½®caddy æ‰“å¼€caddyé…ç½®æ–‡ä»¶ï¼Œå¢åŠ ä¸‹é¢çš„é…ç½®ï¼š\nbwrs.xxx.com { tls { dns cloudflare \u0026lt;my_api_token\u0026gt; } reverse_proxy localhost:8143 } bwrs.xxx.comè¯·æ”¹ä¸ºcloudflareçš„æ³¨å†ŒåŸŸï¼Œ\u0026lt;my_api_token\u0026gt;æ›¿æ¢ä¸ºåˆšç”³è¯·çš„apiä»¤ç‰Œï¼Œåå‘ä»£ç†ç«¯å£8143æ˜¯bitwardençš„æœåŠ¡ç«¯å£ï¼Œè¯·æŒ‰è‡ªå·±çš„æƒ…å†µæ›¿æ¢ã€‚\nä¿®æ”¹åï¼Œé‡å¯caddyä½¿é…ç½®ç”Ÿæ•ˆã€‚\nopenwrtæ·»åŠ æœ¬åœ°DNSè§£é‡Šè®°å½• è¿›å…¥openwrtåå°ï¼Œç‚¹å‡»ç½‘ç»œ -\u0026gt; DHCP/DNSï¼Œåœ¨è‡ªå®šä¹‰æŒŸæŒåŸŸåæ æ·»åŠ ä»¥ä¸‹DNSè®°å½•ï¼š\nåœ°å€è¯·å¡«å†™openwrtè·¯ç”±åœ°å€ï¼Œåˆ°è¿™é‡Œå°±å…¨éƒ¨é…ç½®å®Œæˆäº†ã€‚\næµ‹è¯•æ˜¯å¦ç”Ÿæ•ˆ é€šè¿‡curlè¯·æ±‚bitwardenæœåŠ¡çœ‹æœ‰æ²¡å†…å®¹è¿”å›\ncurl https://bwrs.xxx.com ","date":"2021-10-20T22:16:11+08:00","image":"https://blog.xenori.com/2021/10/bitwarden-tls-with-cloudflare/cover_huf0b9d0d93b3d44f22f6efd294836ba7f_10731_120x120_fill_box_smart1_3.png","permalink":"https://blog.xenori.com/2021/10/bitwarden-tls-with-cloudflare/","title":"è‡ªå»ºBitwardené€šè¿‡cloudflareå®ç°httpsè®¿é—®"},{"content":"openwrtç®¡ç†åå°é»˜è®¤æ˜¯ä½¿ç”¨uhttpdæä¾›æœåŠ¡çš„ã€‚ä¸€æ®µæ—¶é—´ä½“éªŒä¸‹æ¥å‘ç°uhttpdæœ‰æ—¶ä¼šæ²¡å“åº”ï¼ŒæŸ¥ä¸åˆ°å…·ä½“åŸå› ï¼Œåªèƒ½é‡å¯æ‰ä¼šæ¢å¤æ­£å¸¸ã€‚ä¸ºäº†ç¨³å®šæ€§å’Œå¼ºå¤§çš„åå‘ä»£ç†åŠŸèƒ½ï¼Œå†³å®šåœ¨è½¯è·¯ç”±ä¸Šä½¿ç”¨caddyä»£æ›¿uhttpdã€‚\næš‚åœuhttpdæœåŠ¡ uhttpdæœåŠ¡å ç”¨äº†80ç«¯å£ï¼Œéœ€è¦å…ˆæš‚åœã€‚ä½¿ç”¨sshç™»å½•openwrtï¼Œæ‰§è¡Œä¸‹é¢å‘½ä»¤æš‚åœuhttpdæœåŠ¡ï¼š\n/etc/init.d/uhttpd stop /etc/init.d/uhttpd disable ä¸‹è½½caddy è®¿é—®caddyå®˜ç½‘ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„caddyï¼Œintel cpuéœ€è¦ä¸‹è½½Linux amd64ç‰ˆæœ¬ï¼Œé¢å¤–åŠŸèƒ½æ¨¡å—é€‰ä¸Šaksdb/caddy-cgi/v2ã€‚ ä¸‹è½½åæ”¾åˆ°/usr/binç›®å½•ä¸‹ï¼Œå¹¶é‡å‘½åä¸ºcaddyï¼Œå¹¶ç»™äºˆæ‰§è¡Œæƒé™ï¼š\nwget \u0026#34;https://caddyserver.com/api/download\\?os\\=linux\\\u0026amp;arch\\=amd64\\\u0026amp;p\\=github.com%2Faksdb%2Fcaddy-cgi%2Fv2\\\u0026amp;idempotency\\=32032912354333\u0026#34; -o /usr/bin/caddy chmod +x /usr/bin/caddy é…ç½®caddy å¢åŠ ä¸‹é¢çš„é…ç½®ï¼Œå¹¶æ”¾åˆ°/etc/caddy/Caddyfileæ–‡ä»¶ä¸­ï¼š\n{ order cgi before respond } :80 { @notcgi { not path /cgi-bin/* not path / } redir / /cgi-bin/luci file_server @notcgi { root /www } cgi /cgi-bin/luci* /www/cgi-bin/luci { script_name /cgi-bin/luci # ä¸‹é¢è¿™å¥å¾ˆé‡è¦ï¼Œè¦ä¸ç„¶éƒ¨åˆ†æœåŠ¡æ§åˆ¶å°ä¼šå·¥ä½œä¸æ­£å¸¸ unbuffered_output } } å¢åŠ å¯åŠ¨è„šæœ¬ å¢åŠ è‡ªå¯åŠ¨è„šæœ¬ï¼Œå¹¶ä¿å­˜åˆ°/etc/init.d/caddyä¸­ï¼š\n#!/bin/sh /etc/rc.common START=99 SERVICE_USE_PID=1 SERVICE_WRITE_PID=1 SERVICE_DAEMONIZE=1 start() { service_start /usr/bin/caddy run --config /etc/caddy/Caddyfile } stop() { service_stop /usr/bin/caddy } ç»™äºˆæ‰§è¡Œæƒé™ï¼š\nchmod +x /etc/init.d/caddy è¿è¡Œ æ‰§è¡Œä¸‹é¢è„šæœ¬è¿è¡ŒcaddyæœåŠ¡ï¼Œå¹¶åŠ å…¥åˆ°è‡ªå¯åŠ¨ä¸­ï¼š\n/etc/init.d/caddy enable /etc/init.d/caddy start æˆåŠŸå¯åŠ¨åï¼Œå°±å¯ä»¥æ­£å¸¸è®¿é—®åå°äº†ï¼šï¼‰\n","date":"2021-08-11T07:58:11+08:00","image":"https://blog.xenori.com/2021/08/openwrt-caddy-replace-uhttpd/cover_hufe207fe89d0287cb3e5f620d05c77655_45456_120x120_fill_q75_box_smart1.jpeg","permalink":"https://blog.xenori.com/2021/08/openwrt-caddy-replace-uhttpd/","title":"openwrtç®¡ç†åå°ä½¿ç”¨caddyä»£æ›¿uhttpd"},{"content":"Macä¸‹çš„PopClipæ˜¯æˆ‘å¾ˆå–œæ¬¢çš„åº”ç”¨ï¼Œä¸€ç›´æƒ³åœ¨Windowsä¸‹æ‰¾ä¸ªæ›¿ä»£çš„ï¼Œä½†ä¸€ç›´æ²¡æ‰¾åˆ°ï¼Œå°±å‡†å¤‡è‡ªå·±ç®€å•å®ç°ä¸€ä¸ªã€‚ä½†ç ”ç©¶åå‘ç°ï¼ŒWindowsä¸‹æ˜¯æ²¡æœ‰ç»Ÿä¸€çš„APIæ¥å£æ¥è·å–å½“å‰ç”¨æˆ·é€‰ä¸­æ–‡å­—çš„ã€‚å•†ä¸šåŒ–çš„GetWordç»„ä»¶å¯ä»¥å®ç°ï¼Œæ•ˆæœä¸é”™ï¼Œä½†æ˜¯è¿™ç»„ä»¶æ˜¯ä¸èƒ½å…è´¹åœ¨éå•†ä¸šåº”ç”¨ä¸­ä½¿ç”¨çš„ã€‚\nç»è¿‡ä¸€ç•ªç½‘ç»œæŸ¥æ‰¾åï¼Œå‘ç°æœ‰å‡ ä¸ªæ–¹æ¡ˆå¯ä»¥è·å–åˆ°ï¼Œä½†éƒ½æœ‰ä¼˜ç¼ºç‚¹ï¼Œéƒ½ä¸å®Œç¾ï¼Œéœ€è¦æŠŠå‡ ç§æ–¹æ¡ˆç»“åˆèµ·æ¥ä½¿ç”¨æ‰èƒ½è·å–å¤§éƒ¨åˆ†æƒ…æ™¯ä¸‹çš„é€‰ä¸­æ–‡å­—ã€‚ä¸‹é¢è®°å½•ä¸‹è¿™å‡ ç§ä¸åŒçš„å®ç°æ–¹æ¡ˆï¼š\nMicrosoft UI Automation Microsoft UI Automationæ˜¯UIçš„è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶ï¼Œæä¾›å¯¹windowsç”¨æˆ·ç•Œé¢ï¼ˆUIï¼‰ç›¸å…³ä¿¡æ¯çš„ç¼–ç¨‹è®¿é—®ã€‚å®ƒæä¾›çš„IUIAutomationTextPatternæ¥å£ï¼Œå¯ä»¥ç”¨æ¥è·å–æ–‡æœ¬æ§ä»¶çš„é€‰ä¸­å†…å®¹ï¼Œè·å–ç¤ºä¾‹ï¼ˆC#ï¼‰ï¼š\nvar el = AutomationElement.FocusedElement; object pattern; if (el.TryGetCurrentPattern(TextPattern.Pattern, out pattern)) { var selectRanges = ((TextPattern)pattern).GetSelection(); foreach (var rng in selectRanges) { Console.WriteLine(rng.GetText(-1)); } } ä¼˜ç‚¹ï¼šå®˜æ–¹æ”¯æŒçš„æ¥å£ï¼Œedgeã€chromeç­‰æµè§ˆå™¨å†…å®¹éƒ½èƒ½è·å–åˆ°\nç¼ºç‚¹ï¼šå¾ˆå¤šåº”ç”¨ä¸æ”¯æŒè¿™æ¥å£ï¼Œæˆ–æ”¯æŒå¾—ä¸å¥½ï¼Œæµ‹è¯•å‘ç°æœ‰äº›ä½¿ç”¨.Netç»„ä»¶èƒ½è·å–çš„ï¼Œä½†è‡ªå·±ç”¨Go+Win32å°±æ²¡æ³•æ­£ç¡®è·å–\nEM_GETSEL \u0026amp; WM_GETTEXT message å‘windowsçª—å£å‘é€EM_GETSELæ¶ˆæ¯ï¼Œå¯ä»¥è·å–åˆ°ç¼–è¾‘æ§ä»¶å½“å‰é€‰ä¸­æ–‡æœ¬çš„èµ·å§‹å’Œç»“æŸç´¢å¼•ä½ç½®ï¼Œç»“åˆWM_GETTEXTè·å–ç¼–è¾‘æ§ä»¶å½“å‰æ–‡æœ¬å†…å®¹ï¼Œå°±èƒ½è®¡ç®—å‡ºé€‰ä¸­çš„æ–‡å­—ï¼Œè·å–ç¤ºä¾‹ï¼ˆGoï¼‰ï¼š\nfunc getSelection() (string, error) { // attach to other windows thread var processId uint32 var attach = false forgroundWnd := win.GetForegroundWindow() targetThreadId := GetWindowThreadProcessId(forgroundWnd, \u0026amp;processId) currentThreadId := GetCurrentThreadId() if targetThreadId != currentThreadId { attach := AttachThreadInput(currentThreadId, targetThreadId, true) if attach == 0 { return \u0026#34;\u0026#34;, fmt.Errorf(\u0026#34;AttachThreadInput failed\u0026#34;) } } focusWnd := win.GetFocus() //Get total text length textlength := uint32(win.SendMessage(focusWnd, win.WM_GETTEXTLENGTH, 0, 0)) //Have any text at all? if textlength \u0026gt; 0 { textlength = textlength + 1 //Get selection selstart := 0 selend := 0 win.SendMessage(focusWnd, win.EM_GETSEL, uintptr(unsafe.Pointer(\u0026amp;selstart)), uintptr(unsafe.Pointer(\u0026amp;selend))) sb := make([]uint16, textlength) win.SendMessage(focusWnd, win.WM_GETTEXT, uintptr(textlength), uintptr(unsafe.Pointer(\u0026amp;sb[0]))) //Slice out selection value := syscall.UTF16ToString(sb) length := len(value) if (length \u0026gt; 0) \u0026amp;\u0026amp; (selend-selstart \u0026gt; 0) \u0026amp;\u0026amp; (selstart \u0026lt; length) \u0026amp;\u0026amp; (selend \u0026lt;= length) { if attach { AttachThreadInput(currentThreadId, targetThreadId, false) } return value[selstart:selend], nil } } if attach { AttachThreadInput(currentThreadId, targetThreadId, false) } //Failed :( return \u0026#34;\u0026#34;, fmt.Errorf(\u0026#34;get selected failed\u0026#34;) } ä¼˜ç‚¹ï¼šæ”¯æŒæ—§çš„winformã€win32åº”ç”¨\nç¼ºç‚¹ï¼šæ–°çš„WPFã€UWPåº”ç”¨ä¸æ”¯æŒ\nHook TextOut API éƒ¨åˆ†windowsåº”ç”¨æˆ–æ¸¸æˆæ˜¯é€šè¿‡åº•å±‚GDI++çš„TextOutWæˆ–ExtTextOutWæ¥å£æ¸²æŸ“æ–‡å­—çš„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡HOOKæŠ€æœ¯ï¼ŒæŠŠè¿™äº›æ¥å£æ›¿æ¢ä¸ºæˆ‘ä»¬è‡ªå·±çš„æ¥å£ï¼Œè°ƒç”¨InvalidateRectè®©åº”ç”¨é‡ç»˜ä¸‹é¼ æ ‡åˆ’è¿‡çš„åŒºåŸŸï¼Œè¿™æ ·åº”ç”¨å†è°ƒç”¨ExTextOutWæ¥å£æ¸²æŸ“æ—¶ï¼Œå°±èƒ½æ‹¿åˆ°ç›¸åº”çš„æ–‡å­—äº†ã€‚å…·ä½“åŸç†å¯ä»¥å‚è€ƒè¿™ç¯‡è®ºæ–‡ï¼šPrinciple of Capturing Word from Screen and Its Implement Methodsï¼Œç›¸å…³ç¤ºä¾‹é¡¹ç›®å¯å‚è€ƒï¼š\nTextractor Prochook64 ä¼˜ç‚¹ï¼šæ”¯æŒè·å–æ—§æ¸¸æˆçš„æ–‡æœ¬\nç¼ºç‚¹ï¼šå®ç°éš¾åº¦å¤§ï¼Œç°åœ¨å¤§å¤šæ•°åº”ç”¨éƒ½æ˜¯é€šè¿‡TrueTypeå­—ä½“æ–‡ä»¶æ¸²æŸ“çš„ï¼Œåªèƒ½æ‹¿åˆ°GLYPH_INDEXï¼Œæ‹¿ä¸åˆ°æœ€åŸå§‹çš„æ–‡å­—ã€‚\nOCR æˆªå›¾é¼ æ ‡åˆ’è¿‡çš„åŒºåŸŸï¼Œå†é€šè¿‡OCRå‡ºæ¥æ–‡å­—ï¼Œå¾ˆå¤šè¯å…¸è½¯ä»¶çš„é¼ æ ‡å–è¯é€šè¿‡è¿™æ–¹å¼å®ç°\nä¼˜ç‚¹ï¼šä»»ä½•windowsåº”ç”¨éƒ½æ”¯æŒ\nç¼ºç‚¹ï¼šOCRå¤„ç†æ…¢ï¼Œæ··åˆå¤šè¯­è¨€æ–‡å­—å‡†ç¡®åº¦ä¸é«˜\nClipboard é€šè¿‡æ¨¡æ‹Ÿå¤åˆ¶å‘½ä»¤ï¼ŒæŠŠé€‰ä¸­æ–‡å­—å…ˆå¤åˆ¶åˆ°å‰ªè´´æ¿ï¼Œå†ä»å‰ªè´´æ¿å–å‡ºæ¥ã€‚ä½¿ç”¨ç¤ºä¾‹ï¼ˆGoï¼‰ï¼š\nfunc getSelectionByClipboard() (string, error) { hwnd := win.GetForegroundWindow() winText := make([]uint16, 1000) GetWindowText(hwnd, \u0026amp;winText[0], uint32(len(winText)-1)) windowName := syscall.UTF16ToString(winText) // save old clipboard content oldClipboardText, _ := GetClipboardText() // current sequentNumber oldSeqNumber, _ := GetClipboardSequenceNumber() // send ctrl+c copy event if strings.Contains(windowName, \u0026#34;Internet Explore\u0026#34;) || strings.Contains(windowName, \u0026#34;Microsoft Edge\u0026#34;) { // Internet Explore ignore ctrl+c click event win.PostMessage(hwnd, win.WM_COMMAND, 0x0001000f, 0) } else { // send selected to clipboard SendCopy() } clipboardChange := \u0026lt;-waitForClipboardChange(oldSeqNumber) if clipboardChange { text, _ := GetClipboardText() // restore old clipborad state UpdateClipboardText(oldClipboardText) return text, nil } //Failed :( return \u0026#34;\u0026#34;, fmt.Errorf(\u0026#34;get selected failed\u0026#34;) } func waitForClipboardChange(oldSeqNumber uint32) chan bool { waitChangeCh := make(chan bool) timeout := 200 runTime := 0 changeCheckTimer := time.NewTimer(10 * time.Microsecond) go func() { for { \u0026lt;-changeCheckTimer.C seqNumber, _ := GetClipboardSequenceNumber() if seqNumber != oldSeqNumber { waitChangeCh \u0026lt;- true return } runTime += 10 if runTime \u0026gt; timeout { waitChangeCh \u0026lt;- false return } changeCheckTimer.Reset(10 * time.Microsecond) } }() return waitChangeCh } ä¼˜ç‚¹ï¼šæ”¯æŒå¤åˆ¶çš„åº”ç”¨éƒ½å¯ä»¥æ”¯æŒï¼Œå¦‚excelï¼Œwordç­‰\nç¼ºç‚¹ï¼šæ±¡æŸ“ç³»ç»Ÿå‰ªè´´æ¿ï¼Œå½“ç”¨æˆ·æœ‰ä½¿ç”¨å‰ªè´´æ¿å†å²è½¯ä»¶æ—¶ï¼Œä¼šçœ‹åˆ°æ‰€æœ‰é€‰ä¸­çš„æ–‡å­—\n","date":"2021-05-13T15:43:11+08:00","image":"https://blog.xenori.com/2021/05/get-selected-text-in-windows/cover_hu90631fcbde72e8234611f36d2c8c7c3a_13255_120x120_fill_box_smart1_3.png","permalink":"https://blog.xenori.com/2021/05/get-selected-text-in-windows/","title":"Windowsä¸‹è·å–é¼ æ ‡å½“å‰é€‰ä¸­æ–‡å­—"},{"content":"è¿‘æ’æŠ˜è…¾ jellyfin çš„ DLNA æœåŠ¡æ—¶ï¼Œå‘ç° DLNA æœ‰å¾ˆå¤šé™åˆ¶ï¼šä¸æ”¯æŒå¤–æŒ‚å­—å¹•ï¼ŒDTS éŸ³é¢‘çš„è§†é¢‘æ–‡ä»¶æ²¡æ³•æ’­æ”¾å£°éŸ³ç­‰ã€‚ä¸‹é¢ä»‹ç»å‡ ç§ mkv è§†é¢‘æ–‡ä»¶çš„ä¿®æ”¹æ–¹æ³•ï¼Œä»¥æ»¡è¶³ DLNA çš„æ’­æ”¾éœ€æ±‚ã€‚\nmkv å¢åŠ ä¸­æ–‡å­—å¹• ç›¸å…³è½¯ä»¶ï¼šmkvtoolnix\nä¸‹è½½åœ°å€ï¼šhttps://pan.baidu.com/s/1J-vXqkArWMSmB3wfDBi-Yg æå–ç : vamn\nå¤§å®¶å¯ä»¥åˆ°å®˜ç½‘ä¸‹è½½æœ€æ–°ç‰ˆï¼Œä¸‹è½½åï¼Œæ‰¾åˆ°mkvtoolnix-gui.exeæ‰“å¼€ï¼ŒæŠŠ mkv æ‹–è¿›ç•Œé¢ï¼Œå°±å¯ä»¥çœ‹åˆ° mkv å°è£…çš„æ–‡ä»¶å†…å®¹äº†ï¼š ç‚¹å‡»æœ€ä¸‹é¢çš„æ·»åŠ è¾“å…¥æ–‡ä»¶ï¼Œé€‰æ‹©srcæ ¼å¼çš„å­—å¹•æ–‡ä»¶ï¼Œç¡®è®¤åå°±å¯ä»¥çœ‹åˆ°æ–°å­—å¹•å·²æ·»åŠ åˆ°æ–‡ä»¶åˆ—è¡¨æœ€ä¸‹æ–¹äº† ç”¨é¼ æ ‡å¯ä»¥æ‹–åŠ¨å­—å¹•æ–‡ä»¶çš„é¡ºåºï¼Œå‡å¦‚ä½ æƒ³æ–°å­—å¹•é»˜è®¤æ˜¾ç¤ºï¼Œå¯ä»¥æŠŠæ–°åŠ çš„å­—å¹•æ‹–åˆ°æ‰€æœ‰å­—å¹•çš„æœ€ä¸Šé¢ï¼Œå¹¶åœ¨å³è¾¹å±æ€§æ¡†ä¸­ï¼ŒæŠŠé»˜è®¤è½¨é“æ ‡è®°è®¾ä¸ºæ˜¯ï¼Œè¿™æ ·æ¯æ¬¡æ‰“å¼€è§†é¢‘ï¼Œå°±ä¼šé»˜è®¤æ˜¾ç¤ºæ–°åŠ çš„å­—å¹•äº† ç‚¹å‡»æœ€ä¸‹é¢çš„å¼€å§‹æ··æµæŒ‰é’®ï¼Œç­‰è¿›åº¦æ¡è·‘åˆ° 100%ï¼Œå°±åˆæˆè¾“å‡ºæ–°çš„ mkv æ–‡ä»¶äº†ï¼šï¼‰ mkv çš„ dts éŸ³é¢‘è½¬æ¢ä¸º ac3 ç›¸å…³è½¯ä»¶ï¼šPopCorn MKV AudioConverter\nä¸‹è½½åœ°å€ï¼šhttps://pan.baidu.com/s/1jYv8Y6M49iszq8d30p62ag æå–ç : trg6\næ‰“å¼€è½¯ä»¶ï¼Œç‚¹å‡»File specificationä¸­çš„Browserï¼Œæ‰“å¼€éœ€è½¬æ¢ DTS çš„ mkv è§†é¢‘æ–‡ä»¶ï¼Œæ‰“å¼€ååœ¨ä¸‹æ–¹ä¼šæ˜¾ç¤ºç›¸å…³è§†é¢‘ä¿¡æ¯ã€‚ åœ¨å³è¾¹çš„DTSå±æ€§æ¡†ï¼Œé€‰æ‹©Convert to Dolby Digitalï¼ŒBitrate ä¸€èˆ¬é€‰æ‹©448å°±å¯ä»¥äº†ï¼ŒCleanup DTS track before re-encodeé€‰æ‹©Alwaysï¼Œè¿™æ ·ä¼šæŠŠåŸæœ‰çš„ DTS éŸ³è½¨åˆ é™¤ï¼Œé¿å…å½±å“ DLNA æœåŠ¡æ’­æ”¾ã€‚ ç‚¹å‡»File specificationä¸­çš„RunæŒ‰é’®ï¼Œå°±ä¼šå¼€å§‹ç¼–ç ç”Ÿæˆæ–°çš„ mkv æ–‡ä»¶äº†ï¼šï¼‰ ","date":"2021-02-28T15:43:11+08:00","image":"https://blog.xenori.com/2021/02/mkv-edit/cover_hu6f976395ac37733425246464b267ef40_38942_120x120_fill_q75_box_smart1.jpg","permalink":"https://blog.xenori.com/2021/02/mkv-edit/","title":"mkvä¿®æ”¹åŠ å­—å¹•-dtséŸ³é¢‘è½¬ac3"},{"content":"åˆ›å»ºåˆ†æ”¯ æ ¹æ® commit åˆ›å»ºæ–°åˆ†æ”¯ git checkout -b branch_name commit_id_xxx å›æ»š è¿˜åŸæœ¬åœ°ä¿®æ”¹è¿‡çš„æ–‡ä»¶ # ä¼šè¿˜åŸæœ¬åœ°æ‰€æœ‰ä¿®æ”¹è¿‡çš„æ–‡ä»¶ï¼ï¼ git checkout . # åˆ é™¤æ–°å¢æœªç›‘è§†çš„æ–‡ä»¶(untracked files) git clean -fd ä¸¢å¼ƒæœ¬åœ°ä¸Šä¸€æ¬¡æäº¤ # å›é€€åˆ°ä¸Šä¸€ä¸ª commit ç‰ˆæœ¬ git reset HEAD^ å›æ»šåˆ°æŒ‡å®šç‰ˆæœ¬ # è¿˜åŸåˆ°æŒ‡å®šçš„æ—§ç‰ˆæœ¬ git reset --hard \u0026lt;old_commit_id\u0026gt; # è¿˜åŸåˆ°ä¸Šä¸€ç‰ˆæœ¬ git reset HEAD^ # æ–°ä¿®æ”¹å¤„ç†... # å¼ºåˆ¶pushæ›´æ–°è¦†ç›–è¿œç¨‹ä»“åº“ git push -f origin master æ ‡ç­¾ tag åˆ é™¤æŒ‡å®š tag # å…ˆåˆ é™¤è¿œç¨‹tag git push origin :refs/tags/v0.x.x # å†åˆ é™¤æœ¬åœ°tag git tag -d v0.x.x åˆ é™¤åŒ¹é…çš„éƒ¨åˆ† tag # å…ˆåˆ é™¤è¿œç¨‹tagï¼Œæ”¯æŒ*æ¨¡ç³ŠåŒ¹é… git push -d origin $(git tag -l \u0026#34;v0.1*\u0026#34;) # å†åˆ é™¤æœ¬åœ°tag git tag -d $(git tag -l \u0026#34;v0.1*\u0026#34;) åˆ é™¤æ‰€æœ‰ tags # å…ˆåˆ é™¤æ‰€æœ‰è¿œç¨‹tag git tag -l | xargs -n 1 git push --delete origin # å†åˆ é™¤æ‰€æœ‰æœ¬åœ°tag git tag | xargs git tag -d Commit ä¿®æ”¹ æ¸…ç©ºæ‰€æœ‰å†å² commit # åˆ›å»ºæ–°çš„masteråˆ†æ”¯ git checkout --orphan new_master git add -A git commit -am \u0026#34;First commit\u0026#34; # åˆ é™¤æ—§masteråˆ†æ”¯ git branch -D master # æ–°masteråˆ†æ”¯æ”¹åä¸ºmaster git branch -m master # å¼ºåˆ¶pushæ›´æ–°è¦†ç›–è¿œç¨‹ä»“åº“ git push -f origin master åˆå¹¶å¤šä¸ª commit # åˆ‡æ¢å›masteråˆ†æ”¯ï¼Œå¹¶è·å–æœ€æ–°ä»£ç  git checkout master git pull # æŠŠåˆ†æ”¯çš„å¤šä¸ªæäº¤åˆå¹¶ä¸ºä¸€ä¸ª git merge --squash feature-branch-xxxx git commit -m \u0026#34;merge commit message\u0026#34; git push å¤šå¸å· æäº¤æ—¶æç¤ºè¾“å…¥å¸å· git config --local credential.helper \u0026#34;\u0026#34; # gitåœ°å€è¦ä½¿ç”¨httpåè®® git remote set-url origin https://xxx.com/xxx.git ","date":"2021-02-22T16:58:10+08:00","image":"https://blog.xenori.com/2021/02/git-commands/cover_hu32dfdc231ed91eb0b8531abf7aa78221_50815_120x120_fill_box_smart1_3.png","permalink":"https://blog.xenori.com/2021/02/git-commands/","title":"å¸¸ç”¨gitå‘½ä»¤"},{"content":"ä»Šå¹´å¯¹å¤§éƒ¨åˆ†äººæ¥è¯´ï¼Œéƒ½ä¼šæ˜¯éš¾å¿˜å’Œéš¾è¿‡çš„ä¸€å¹´ã€‚å¹´åˆæ–°å† è‚ºç‚å¤§çˆ†å‘ï¼Œåˆ°å¤„å¯¸æ­¥éš¾è¡Œï¼Œé£Ÿè‚†å·¥å‚å…³é—­ã€‚å¹´ä¸­ä¸­ç¾å…³ç³»åŠ å‰§æ¶åŒ–ï¼Œä¸­å°è¾¹å¢ƒç´§å¼ ï¼Œè®©äººå¯¹æœªæ¥å‡ å¹´çš„å½¢åŠ¿è¶Šæ¥è¶Šæ‹…å¿§ï¼Œå¹´æœ«æ–°å† è‚ºç‚å†æ¬¡æ¥è¢­ï¼Œå¸Œæœ›ä¸ä¼šå†å‡ºç°å¤§çˆ†å‘äº†ã€‚\næ–‡ç« çš„éƒ¨åˆ†å†…å®¹è¢«å¯†ç ä¿æŠ¤ï¼š\nJavascript needs to be enabled to decrypt content ç”Ÿæ´»ä¸Šè¿˜æ˜¯å˜åŒ–ä¸å¤§ï¼Œæ—¶é—´è¶Šæ¥è¶Šå¿«äº†ã€‚ä»Šå¹´æ´»å¾—æ¯”è¾ƒé¢“åºŸï¼Œç°åœ¨å¹´é¾„å¤ªå¤§ï¼Œå·¥ä½œä¸å¥½æ‰¾ï¼Œåœ¨è½¬è¡Œå’Œæ‰¾å·¥ä½œé—´\bä¸æ–­å¾˜å¾Šã€‚æ¯”è¾ƒç†Ÿçš„æœ‹å‹éƒ½ç»“å©šç”Ÿå­äº†ï¼Œå¹³æ—¶ä¹Ÿä¸å¥½è”ç³»ä»–ä»¬ï¼Œå¯¹æœªæ¥æ‰¾ä¸åˆ°æ–¹å‘ã€‚\nä»Šå¹´ç”Ÿæ´»çŠ¶æ€ï¼š\nå­¦å®Œè½¦ï¼Œæ‹¿åˆ°C1é©¾ç…§ æœªæœ‰å¥³æœ‹å‹ï¼Œæœªå©š æœªä¼šæ¸¸æ³³ 2020å¹´å¹´åº¦é€‰æ‹©å¦‚ä¸‹ï¼š\nå¹´åº¦æ¸¸æˆï¼š 2077èµ›åšæœ‹å…‹ ç»åœ°æ±‚ç”Ÿï¼ˆæ‰‹æœºï¼‰ ä¸ºäº†ç© 2077ï¼Œä¸‹åŠå¹´é…äº†æ–°ç”µè„‘ï¼Œçš„ç¡®ç®—å¥½ç©çš„ï¼Œæ¨èç© PC ç‰ˆã€‚åªæ˜¯ BUG æ¯”è¾ƒå¤šï¼Œä¸»æœºç‰ˆè¢«æ‰¹å¾—ä¸æˆäººå½¢äº†\nå¹´åº¦åŠ¨ç”»ï¼š æˆ‘çš„ä¸‰ä½“ä¹‹ç« æ¯”æµ·ä¼  æ²¡æƒ³åˆ°å”¯ä¸€çš„æ˜¯å›½åˆ›ğŸ˜‚ï¼Œè™½ç„¶ç”»é£ç²¾å¥‡ï¼Œä½†æœ‰ä¸‰ä½“å‰§æœ¬åº•å­åœ¨ï¼Œå†åŠ ä¸Šä¸é”™çš„å®å¤§ç”»é¢è¡¨ç°å’ŒéŸ³ä¹ï¼Œæ˜¯éš¾å¾—çš„ä½³ä½œã€‚æ—¥æœ¬åŠ¨ç”»è¶Šæ¥è¶Š\bä½å¹¼å–èŒå‘ï¼Œçœ‹ä¸åˆ°å‡ºè·¯ï¼Œå”¯ä¸€æœŸå¾…çš„è¿›å‡»çš„å·¨äººæœ€ç»ˆå­£åˆšå‡ºï¼Œè¦ç®—åˆ° 2021 å¹´äº†ã€‚\nå¹´åº¦éŸ³ä¹ï¼š æ¨å¼€ä¸–ç•Œçš„é—¨ - æ¨ä¹ƒæ–‡ è’è›‹ - å¤ªä¸€ ä¸–ç•Œä¸ä¼šè½»æ˜“å´©å¡Œ - æ‰“æ‰°ä¸€ä¸‹ä¹å›¢ ä»Šå¹´çš„æ­Œåªèƒ½æ‹©ä¼˜è®°å½•ä¸‹ï¼Œæ²¡æœ‰ç‰¹åˆ«éå¸¸å–œæ¬¢çš„ï¼Œä¸è¿‡ä»Šå¹´å› ä¸ºå–œæ¬¢çœ‹ç»¼è‰ºçš„åŸå› ï¼Œè®¤è¯†äº†ä¸¤ä¸ªæ–°ç”Ÿä»£ä¸é”™çš„æ­Œæ‰‹ï¼šå¤ªä¸€ã€åæ™¨å®‡ï¼Œæ„Ÿè§‰éƒ½å¾ˆæœ‰æ‰åï¼Œåˆ›ä½œåŠ›ä¹Ÿå¼ºï¼Œæ­Œè¯æœ‰ç‚¹éå¸¸äººæ€ç»´ğŸ˜‚ï¼Œæ„Ÿè§‰ä¸­å›½æµè¡ŒéŸ³ä¹å¼€å§‹æœ‰äº›èµ·è‰²äº†ã€‚\nå¹´åº¦ç”µå½±ï¼ˆç”µè§†å‰§ï¼‰ï¼š æ²‰é»˜çš„çœŸç›¸ çœŸç›¸æ•æ‰ å”äººè¡—æ¢æ¡ˆ ä»Šå¹´å› ç–«æƒ…åŸå› ï¼Œæ²¡ä»€ä¹ˆç”µå½±ä¸Šæ˜ ï¼Œä»Šå¹´éƒ½æ˜¯çœ‹ç”µè§†å‰§ã€‚ã€Šæ²‰é»˜çš„çœŸç›¸ã€‹å’Œã€Šå”äººè¡—æ¢æ¡ˆã€‹ä½¿æˆ‘å¯¹å›½äº§å‰§å¤§å¤§æ”¹è§‚äº†ï¼Œéå¸¸å¥½çœ‹ï¼Œå¼ºçƒˆæ¨èã€‚ã€Šå”äººè¡—æ¢æ¡ˆã€‹è®°å¾—åªéœ€è¦çœ‹å‰ 8 é›†ï¼Œæœ€å 4 é›†æ˜¯é€çš„å¹¿å‘ŠğŸ˜‚\nå¹´åº¦å›¾ä¹¦ï¼š æ²¡çœ‹ä¹¦ã€‚ã€‚ã€‚\nå¹´åº¦APPï¼š bilibili é›ªçƒ æ—¥å¸¸ä½¿ç”¨ï¼Œbilibili ä»Šå¹´è‚¡ä»·ç¿»äº†å‡ ç¿»äº†ï¼Œæœ¬æ¥åˆšä¸Šå¸‚æ—¶æƒ³ä¹°çš„ï¼Œä½†ç¾è‚¡å¼€æˆ·æ±‡é‡‘å¤ªå¤æ‚äº†æ²¡æ\nå¹´åº¦ç½‘ç«™ï¼š æ— \nå¹´åº¦æ•°ç ï¼š Oculus Quest 2 Nvidia 3070 ç¬¬ä¸€æ¬¡æ¥è§¦ VRï¼Œå¾ˆæ–°å¥‡ï¼Œå°±æ˜¯è¿‘è§†åŸå› ä½©æˆ´ä¸æ–¹ä¾¿ã€‚\n","date":"2021-01-15T16:03:08+08:00","image":"https://blog.xenori.com/2021/01/the-summary-of-2020/cover_hu3cc7554004a4f82bf46186159a47e918_367117_120x120_fill_q75_box_smart1.jpg","permalink":"https://blog.xenori.com/2021/01/the-summary-of-2020/","title":"2020å¹´åº¦æ€»ç»“"},{"content":"WOLç½‘ç»œå”¤é†’æ˜¯ç”¨æ¥å®ç°é€šè¿‡ç‰¹å®šçš„æŒ‡ä»¤å”¤é†’åŒä¸€å±€åŸŸç½‘ä¸‹å·²å…³æœº PC çš„åŠŸèƒ½ã€‚ç°åœ¨å¸¸ç”¨çš„ DLNA å’Œ moonlight è½¯ä»¶éƒ½æ”¯æŒ WOL åŠŸèƒ½ï¼Œè¿™ç¯‡æ–‡ç« åªè¦è®°å½•ä¸‹åç¡•ä¸»æ¿å¦‚ä½•æ‰“å¼€ WOL åŠŸèƒ½ï¼ˆå…¶ä»–å‚å•†çš„ä¸»æ¿å¤§åŒå°å¼‚ï¼Œåªè¦æ˜¯ BIOS é€‰é¡¹å’Œç½‘å¡é€‰é¡¹ä¼šæœ‰äº›å·®åˆ«ï¼‰ã€‚å®ç° WOL åŠŸèƒ½çš„ PC ä¸»æœºæ˜¯å¿…é¡»é€šè¿‡ç½‘çº¿è¿æ¥åœ¨åŒä¸€å±€åŸŸç½‘ä¸‹çš„ï¼Œåªæœ‰ WIFI è¿æ¥æ²¡æ³•å®ç°ã€‚\n1ã€ä¸»æ¿ BIOS ä¸­æ‰“å¼€ WOL åŠŸèƒ½ è¿›å…¥ä¸»æ¿BIOSï¼ŒæŠŠå¦‚ä¸‹é…ç½®é¡¹è®¾ä¸ºenabledï¼ˆä¸åŒçš„ä¸»æ¿ BIOS å¯èƒ½ä¼šæœ‰å‡ºå…¥ï¼Œè¯·ä»¥è¯´æ˜ä¹¦ä¸ºå‡†ï¼‰ï¼š\nAdvanced -\u0026gt; APM Configuration -\u0026gt; Power On By PCI-E/PCI -\u0026gt; Enabled Restore AC Power Lossæœ€å¥½ä¹Ÿè®¾ç½®ä¸ºLast Stateï¼Œè¿™æ ·å¯ä»¥ä¿è¯æ–­ç”µæ¢å¤åï¼Œä¹Ÿèƒ½ä¿æŒå”¤é†’ã€‚\nä¿å­˜åé‡å¯è¿›å…¥ windows\n2ã€é…ç½® windows 10 ç½‘å¡å±æ€§ å‡å¦‚ç½‘ç»œè®¾ç½®ä¸­æ‰¾ä¸åˆ°ä»¥ä¸Šé€‰é¡¹ï¼Œå¯ä»¥å°è¯•ä¸‹è½½å®‰è£…æœ€æ–°çš„ç½‘å¡é©±åŠ¨ï¼Œwindowsé»˜è®¤çš„ç½‘å¡é©±åŠ¨æœ‰æ—¶ä¼šç¼ºå°‘ä»¥ä¸Šé€‰é¡¹çš„ã€‚\nç‚¹å‡» windows ä»»åŠ¡æ å³ä¸‹è§’ç½‘ç»œè¿æ¥å›¾æ ‡ï¼Œé€‰æ‹©ç½‘ç»œå’ŒInternetè®¾ç½®ï¼š\né€‰æ‹©é«˜çº§ç½‘ç»œè®¾ç½® -\u0026gt; æ›´æ”¹é€‚é…å™¨é€‰é¡¹ï¼š\nå³é”®ä»¥å¤ªç½‘é“¾æ¥ï¼Œé€‰æ‹©å±æ€§ï¼Œå†ç‚¹å‡»é…ç½®ï¼š\nç‚¹å‡»å±æ€§çš„ç”µæºç®¡ç†ï¼ŒæŠŠå›¾ç‰‡ä¸­çš„å¦‚ä¸‹ä¸‰é¡¹éƒ½å‹¾é€‰ä¸Šï¼š\nå†ç‚¹å‡»é«˜çº§ï¼Œç¡®ä¿å”¤é†’æ¨¡å¼åŒ¹é…å’Œå”¤é†’é­”åŒ…éƒ½æ˜¯å¯ç”¨çŠ¶æ€ï¼š\n\båœ¨é«˜çº§é€‰é¡¹å¡ä¸­ï¼Œçœ‹ä¸‹æ˜¯å¦å­˜åœ¨å¯ç”¨ PMEï¼Œæœ‰çš„è¯ï¼Œä¹Ÿéœ€è¦å¯ç”¨ï¼Œå¯ç”¨è¿™é¡¹æ˜¯ä¸ºäº†é¿å…å…³æœºåä¸»æ¿åˆ‡æ–­ç½‘å£çš„ç”µæºï¼Œå¯¼è‡´æ²¡æ³•å”¤é†’ 3ã€å…³é—­ windows 10 å¿«é€Ÿå¯åŠ¨ åœ¨æ‰“å¼€å¿«é€Ÿå¯åŠ¨ç”µæºé€‰é¡¹æ—¶ï¼Œwindowsé»˜è®¤å…³æœºåŠŸèƒ½æ˜¯è¿›å…¥S4çŠ¶æ€ï¼Œè¿™ç§çŠ¶æ€æ˜¯ä¸èƒ½WOLå”¤é†’çš„ï¼Œéœ€è¦åœ¨æ§åˆ¶é¢æ¿ -\u0026gt; ç”µæºé€‰é¡¹ -\u0026gt; é€‰æ‹©ç”µæºæŒ‰é’®çš„åŠŸèƒ½ä¸­ï¼Œå…³é—­å¿«é€Ÿå¯åŠ¨ã€‚\n4ã€æµ‹è¯• WOL å…³æœºåï¼Œå‡å¦‚æœ‰çº¿ç½‘å£è¿æ¥ç¯ä¸€ç›´é—ªçƒï¼Œå°±è¯æ˜ WOL å·²ç»é…ç½®æˆåŠŸäº†ï¼Œå¯é€šè¿‡å¦‚ä¸‹è½¯ä»¶æµ‹è¯•æ˜¯å¦æˆåŠŸã€‚\nMACï¼š\nbrew install wakeonlan wakeonlan XX:XX:XX:00:4C:00 Androidï¼š\nä¸‹è½½Wake On Lan app\nIPhoneï¼š\nä¸‹è½½mocha-wol app\n5ã€å¦‚ä½•å®ç°è¿œç¨‹å…³é—­ PC å¯ä»¥é€šè¿‡å®‰è£…Remote Shutdown Managerå®ç°ï¼Œè¯¦ç»†è¯·å‚è€ƒï¼š\nhttps://github.com/karpach/remote-shutdown-pc ç»“åˆhomeassistantè¿˜èƒ½å®ç°è¯­éŸ³æ§åˆ¶ PC å¼€å…³ğŸ˜„\nå‚è€ƒèµ„æ–™ WOL ç½‘ç»œå”¤é†’é¿å‘æŒ‡å—ï¼šå¸¸è§é—®é¢˜çš„åˆ†æä¸å†…å®¹è¡¥å…… ","date":"2020-12-22T13:27:10+08:00","image":"https://blog.xenori.com/2020/12/intel-ax200-wol/cover_hub30f7ee69edd8057ef89d1f53b8e0faa_9040_120x120_fill_box_smart1_3.png","permalink":"https://blog.xenori.com/2020/12/intel-ax200-wol/","title":"åç¡•ä¸»æ¿AX200ç½‘å¡å¦‚ä½•å¼€å¯WOLç½‘ç»œå”¤é†’"},{"content":" 19å¹´æ—¶ä¸ºäº†å¼€å‘æ—¶å­—ä½“æ˜¾ç¤ºèƒ½æœ‰æ›´å¥½çš„æ•ˆæœï¼Œæ‰€ä»¥å‡†å¤‡å…¥æ‰‹ä¸€å° 4K çš„æ˜¾ç¤ºå™¨ã€‚ç»è¿‡ä¸€ç³»åˆ—çš„ç­›æŸ¥æ¯”è¾ƒåï¼Œæœ€åä¹°äº†è‹¹æœå®˜ç½‘çš„ LG UltraFine 4k æ˜¾ç¤ºå™¨ï¼Œé€‰å®ƒçš„åŸå› åªè¦æœ‰ä¸¤ç‚¹ï¼š\nå¸¦ type-c çš„é›·ç”µ3æ¥å£ï¼Œæ–¹ä¾¿ç¬”è®°æœ¬ Macbook Pro å¯ä»¥ç›´è¿è¾“å‡º 24 å¯¸çš„ 4K åˆ†è¾¨ç‡ï¼ŒWindows è¿æ¥æ—¶ï¼Œå¼€ 200% æ–‡å­—ç¼©æ”¾æ—¶æ•ˆæœå’Œå¤§å°åˆšåˆšæœ€å¥½ ä¹‹å‰ä¹Ÿæƒ³è¿‡ä¹° DELL çš„ type-c æ˜¾ç¤ºå™¨ï¼Œä½†çœ‹åˆ°åªæœ‰ 27 å¯¸ï¼Œçº ç»“äº†ä¸€æ®µæ—¶é—´åæœ€åè¿˜æ˜¯æ”¾å¼ƒäº†ğŸ˜“\nè‹¹æœå®˜ç½‘é”€å”®è¿‡ 4 ç§å‹å·çš„ LG UltraFine æ˜¾ç¤ºå™¨ï¼Œä¸‹é¢æ¨èçš„è¿æ¥è®¾å¤‡åªé€‚åˆæœ€æ–°çš„ LG UltraFine 24 å¯¸ 4Kæ˜¾ç¤ºå™¨ï¼Œæœ€æ–°çš„ 5K æ­£å¸¸ä¹Ÿå¯ä»¥è¿æ¥ï¼Œä½†æœ€å¤šè·å¾— 4k 60HZ çš„æ˜¾ç¤ºæ•ˆæœï¼Œæ²¡æ³• 5K æ˜¾ç¤ºã€‚\n22MD4KA (21å¯¸4Kå¸¦æ‘„åƒå¤´ï¼Œä¸æ”¯æŒ)ï¼š 27MD5KA (5kï¼Œä¸æ”¯æŒ) 24MD4KL (24å¯¸4kæ— æ‘„åƒå¤´ï¼Œæ”¯æŒ) 27MD5KL (5kï¼Œéƒ¨åˆ†æ”¯æŒ) ä¸ä½¿ç”¨é›·ç”µ3è¾“å‡ºåˆ° LG UltraFineï¼Œéœ€è¦ windows è®¾å¤‡çš„å›¾åƒè¾“å‡ºæ”¯æŒDisplay Alt ModeæŠ€æœ¯ï¼Œæœ‰ä¸€äº› Windows ç¬”è®°æœ¬æœ‰å…¨åŠŸèƒ½ type-c æ¥å£ï¼Œä½†å› ä¸ºä¸æ”¯æŒDisplay Alt Modeï¼Œå¯¼è‡´ç›´è¿ UltraFine ä¹Ÿæ˜¯æ²¡æ³•æ¿€æ´»æ˜¾ç¤ºçš„ã€‚ç°åœ¨å·²çŸ¥æ”¯æŒDisplay Alt Modeçš„ type-c æ¥å£ï¼Œå°±åªæœ‰ Nvidia 20ç³»åˆ—æ˜¾å¡è‡ªå¸¦çš„ VirtrualLink æ¥å£äº†ï¼Œå¯ä»¥ç›´è¿ UltraFine æ˜¾ç¤ºå™¨ï¼Œä½†æœ€æ–°çš„ 30 ç³»åˆ—æ˜¾å¡å› ä¸ºè¿‘å¹´ VR ä¸æµè¡Œåˆç æ‰è¿™ä¸ªæ¥å£äº†ğŸ˜‚\nä¸‹é¢ä»‹ç»çš„è®¾å¤‡éƒ½æ˜¯é€šè¿‡æŠŠ DP ä¿¡å·å’Œ USB ä¿¡å·è½¬æ¢ä¸ºæ”¯æŒDisplay Alt Modeä¿¡å·å®ç°çš„ã€‚\nåä¸º VR è®¡ç®—æœºè¿æ¥çº¿ è¿™çº¿ç°åœ¨å·²ç»ç‰ˆï¼Œåªèƒ½åœ¨é—²é±¼ä¸Šæ·˜ï¼Œä½†å› ä¸ºè´§å°‘ä»·æ ¼éƒ½æ¯”è¾ƒè´µï¼Œæˆ‘åˆšå¼€å§‹å…³æ³¨æ—¶åœ¨æ·˜å®ä¸Šæ˜¯ 188 å·¦å³çš„ä»·æ ¼ã€‚ã€‚ã€‚\nè´å°”é‡‘ï¼ˆBELKINï¼‰è®¡ç®—æœºæ•°æ®çº¿ äº¬ä¸œå’Œåä¸ºå®˜ç½‘æœ‰ç°è´§ï¼Œ 4.5 ç±³é•¿ï¼Œ4xx å·¦å³çš„ä»·æ ¼\nWacom Link Plus å¤šåª’ä½“é€‚é…å™¨ACK42819ï¼ˆæ¨èï¼‰ äº¬ä¸œä¸Šæœ‰ç°è´§ï¼Œæ¯”è¾ƒè´µï¼Œ5xx å·¦å³çš„ä»·æ ¼ï¼Œé—²é±¼å¯ä»¥æ·˜åˆ°ä¾¿å®œäº›çš„ï¼Œ300 å…ƒå·¦å³ã€‚è¿™ä¸ªçš„å¥½å¤„æ˜¯æ¯”è¾ƒå°ï¼Œå¯ä»¥ç›´æ¥è´´åœ¨ UltraFine æ˜¾ç¤ºå™¨åé¢ï¼Œç›¸å½“äºç”¨ä¸€ä¸ªé›·ç”µ3å£æ¢ä¸€ä¸ª DP è¾“å…¥ï¼ˆè¿æ¥è¿™è®¾å¤‡ type-c å£è¦ä½¿ç”¨å…¨åŠŸèƒ½ type-c çº¿ï¼Œè€Œä¸æ˜¯é›·ç”µ 3 çº¿ï¼‰\nå¦å¤–ï¼Œå‡å¦‚ä½ æƒ³ä¹°æ”¯æŒé›·ç”µ 3çš„ä¸»æ¿ç›´è¿ UltraFine çš„è¯ï¼Œè®°å¾—ç¡®è®¤ä¸‹ä¸»æ¿æ˜¯å¦å¸¦DP INçš„æ¥å£ï¼Œåƒåæ“ï¼ˆASRockï¼‰X570 Phantom Gamingè¿™ç§çš„ã€‚å› ä¸ºåªæœ‰å¸¦äº†DP INæ¥å£ï¼Œæ‰èƒ½æŠŠç‹¬ç«‹æ˜¾å¡çš„ä¿¡å·è½¬æ¥åˆ°ä¸»æ¿é›·ç”µ3æ¥å£ï¼Œä»¥ä¾¿è¾“å‡ºå›¾åƒåˆ° UltraFineï¼Œè¦ä¸ç„¶ä¸»æ¿çš„é›·ç”µ3å°±åªèƒ½æ”¯æŒcpuçš„æ ¸æ˜¾è¾“å‡ºçš„ï¼Œä¸æ”¯æŒç‹¬ç«‹æ˜¾å¡ã€‚\næˆ´å°”(DELL) UPD2018 å¸¦ type-c çš„ PCI-E è½¬æ¥å¡ï¼Œå¯é€‚ç”¨äº AMD ä¸»æ¿ã€‚\nä½¿ç”¨åä¸º VR çº¿æˆ– Wacom é€‚é…å™¨æ–¹å¼è¿æ¥ï¼Œæœ‰æ—¶ UltraFine æ˜¾ç¤ºå™¨æ–­ç”µåå†æ‰“å¼€ï¼Œé¦–æ¬¡å¼€æœºæ²¡æ³•ç‚¹äº®å±å¹•ï¼Œéœ€è¦é‡æ–°\bæ’æ‹”ä¸€æ¬¡æ˜¾ç¤ºå™¨ type-c çº¿æ‰å¯ä»¥ï¼Œå…·ä½“åŸå› ä¸æ˜ã€‚ç½‘ä¸Šç»™å‡ºçš„è§£å†³æ–¹æ¡ˆæ˜¯å…ˆæ‰“å¼€ç”µè„‘ï¼Œç­‰ç”µè„‘è¿›å…¥ windows åï¼Œå†æ‰“å¼€æ˜¾ç¤ºå™¨ç”µæº\nç›¸å…³èµ„æ–™ï¼š\nhttps://forums.macrumors.com/threads/lg-ultrafine-4k-and-5k-yes-you-can-connect-it-to-windows-computers-via-dp.2227756/ ","date":"2020-09-11T13:07:10+08:00","image":"https://blog.xenori.com/2020/09/connect-ultrafine-with-windows/cover_hu99a744ea0805facb74e8940a81aa0415_252308_120x120_fill_q75_box_smart1.jpg","permalink":"https://blog.xenori.com/2020/09/connect-ultrafine-with-windows/","title":"Windowsä¸‹å¦‚ä½•è¿æ¥LG UltraFine 4kæ˜¾ç¤ºå™¨"},{"content":"1. æŸ¥çœ‹è¿æ¥è®¾å¤‡ adb devcies 2. å½“æœ‰å¤šä¸ªè¿æ¥è®¾å¤‡æ—¶ï¼ŒæŒ‡å®šæ‰§è¡Œå‘½ä»¤çš„è®¾å¤‡ adb -s \u0026lt;deviceid\u0026gt; \u0026lt;commands\u0026gt; å¦‚ adb -s 1e25fe71 shell pm list package 3. æŸ¥çœ‹æ‰‹æœºä¸­å·²å®‰è£…çš„æ‰€æœ‰apkæ–‡ä»¶ adb shell pm list package 4. å¯¼å‡ºæŒ‡å®šçš„ apk åŒ… adb shell pm path \u0026lt;com.package.name\u0026gt; adb pull \u0026lt;/system/priv-app/com.package.name/package_name.apk\u0026gt; ~/download/savepath 5. å¸è½½ä»»æ„ï¼ˆåŒ…æ‹¬ç³»ç»Ÿï¼‰åº”ç”¨ adb shell pm uninstall -k --user 0 \u0026lt;com.package.name\u0026gt; 6. æŸ¥çœ‹ app çš„é”™è¯¯æ—¥å¿— adb logcat -v time | grep AndroidRuntime 7. æ¸…ç©º app æ—¥å¿— adb logcat -c ","date":"2020-09-11T11:27:10+08:00","image":"https://blog.xenori.com/2020/09/adb-commands/cover_hue20e1dd7e1cc2b633286b68d411b60b1_20902_120x120_fill_box_smart1_3.png","permalink":"https://blog.xenori.com/2020/09/adb-commands/","title":"å¸¸ç”¨adbå‘½ä»¤"},{"content":"åœ¨ android 9 ä»¥ä¸Šç‰ˆæœ¬ï¼Œå¾ˆå¤š app éƒ½ä½¿ç”¨certificate pinningæŠ€æœ¯æ¥é˜²æ­¢ https ä¸­é—´äººæ”»å‡»ï¼Œå½“ app æ£€æµ‹åˆ°è¯ä¹¦ä¸æ­£ç¡®æ—¶ï¼Œä¼šè‡ªåŠ¨æ–­å¼€ç½‘ç»œè¯·æ±‚ï¼Œå¯¼è‡´æŠ“å–ä¸åˆ° https ç½‘ç»œè¯·æ±‚åŒ…ã€‚\nè¦é¡ºåˆ©æŠ“åˆ° https è¯·æ±‚åŒ…ï¼Œéœ€è¦å€ŸåŠ©VMOSæ¥é¿å¼€certificate pinningæ£€æµ‹ã€‚\n1ã€å®‰è£…VMOS åœ¨ç½‘ç›˜ä¸­ä¸‹è½½VMOSï¼Œå®‰è£…å®Œåï¼Œæ‰“å¼€VMOSï¼Œç‚¹å‡»å³ä¸Šæ–¹çš„+æŒ‰é’®æ·»åŠ è™šæ‹Ÿæœºï¼Œé€‰æ‹©æœ€ä¸‹æ–¹çš„å®‰å“7.1æå®¢ç‰ˆï¼Œä¸‹è½½å¹¶å®‰è£…å®Œæˆã€‚ å›åˆ°é¦–é¡µï¼Œç‚¹å‡»å¯åŠ¨è™šæ‹Ÿæœºï¼Œè¿›å…¥è™šæ‹Ÿæœº ç‚¹å‡»ä¸‹æ–¹çš„å¸¸ç”¨å·¥å…·-\u0026gt;åº”ç”¨ï¼Œæ‰¾åˆ°éœ€æŠ“åŒ…çš„è½¯ä»¶ï¼Œç‚¹å‡»åå¯¼å…¥å®‰è£… VMOSä¸‹è½½åœ°å€ï¼šhttps://pan.baidu.com/s/1UBNon-dT37G3NuFMcO_szw æå–ç : wis3\n2ã€å®‰è£…æŠ“åŒ…è½¯ä»¶httpcanary è‡ªè¡Œä¸‹è½½å®‰è£…ï¼š\nè“å¥ï¼šhttps://www.lanzous.com/i6hw4ti\nç™¾åº¦ï¼šhttps://pan.baidu.com/s/11fx67kcqQOwxCLdItAXIxA æå–ç : ccbd\n3ã€æŠ“å– app çš„ https è¯·æ±‚ å…ˆè¿è¡Œhttpcanaryï¼Œå†åœ¨VMOSä¸­è®¿é—®éœ€æŠ“åŒ…çš„ appï¼Œå°±èƒ½çœ‹åˆ°æ‰€æœ‰ https è¯·æ±‚äº†ï¼Œåœ¨VMOSä¸­è¿è¡Œçš„ appï¼Œæ˜¯ä¸ä¼šæ£€æµ‹certificate pinningçš„\n","date":"2020-07-01T11:27:10+08:00","image":"https://blog.xenori.com/2020/07/how-capture-https-network-packet/cover_hu7ad816a800b39ebbf98b64bf468ff9ae_63683_120x120_fill_box_smart1_3.png","permalink":"https://blog.xenori.com/2020/07/how-capture-https-network-packet/","title":"[æ›´æ–°]ä½¿ç”¨httpcanaryåœ¨android 9ä»¥ä¸Šç‰ˆæœ¬æŠ“å–httpsç½‘ç»œè¯·æ±‚åŒ…"},{"content":"é˜¿é‡Œäº‘ç»Ÿä¸€å®˜æ–¹é•œåƒç«™ï¼šhttps://developer.aliyun.com/mirror/ åŒ…å«äº†æ‰€æœ‰å¼€æºçš„å›½å†…é•œåƒæºï¼Œå¦‚homebrewï¼Œnpmï¼Œpipï¼Œcentosç­‰ï¼Œå·®ä¸å¤šæ»¡è¶³æ‰€æœ‰å¼€å‘éœ€æ±‚ï¼Œ ğŸ‚ğŸ» go get å›½å†…æº ä¸ƒç‰›ï¼šhttps://goproxy.cn\nå®˜æ–¹å…¨çƒåŠ é€ŸCDNï¼šhttps://goproxy.io/\nç¬¬ä¸‰æ–¹ï¼šhttps://gocenter.io\npip å›½å†…æº æ¸…åï¼šhttps://pypi.tuna.tsinghua.edu.cn/simple\né˜¿é‡Œäº‘ï¼šhttp://mirrors.aliyun.com/pypi/simple/\nä¸­å›½ç§‘æŠ€å¤§å­¦ https://pypi.mirrors.ustc.edu.cn/simple/\nåä¸­ç†å·¥å¤§å­¦ï¼šhttp://pypi.hustunique.com/\nå±±ä¸œç†å·¥å¤§å­¦ï¼šhttp://pypi.sdutlinux.org/\nè±†ç“£ï¼šhttp://pypi.douban.com/simple/\nä½¿ç”¨æ–¹æ³• ä¸´æ—¶ä½¿ç”¨ï¼š\npip install pyspider -i https://pypi.tuna.tsinghua.edu.cn/simple æ°¸ä¹…ä¿®æ”¹ï¼Œä¸€åŠ³æ°¸é€¸ï¼š\nLinuxä¸‹ï¼Œä¿®æ”¹ ~/.pip/pip.conf (æ²¡æœ‰å°±åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹åŠæ–‡ä»¶ã€‚æ–‡ä»¶å¤¹è¦åŠ â€œ.â€ï¼Œè¡¨ç¤ºæ˜¯éšè—æ–‡ä»¶å¤¹)\nå†…å®¹å¦‚ä¸‹ï¼š\n[global] index-url = https://pypi.tuna.tsinghua.edu.cn/simple [install] trusted-host=mirrors.aliyun.com gradleå›½å†…æº é˜¿é‡Œï¼šhttp://maven.aliyun.com/nexus/content/groups/public\nä½¿ç”¨æ–¹æ³• é…ç½®åªåœ¨å½“å‰é¡¹ç›®ç”Ÿæ•ˆï¼š åœ¨ build.gradle æ–‡ä»¶å†…ä¿®æ”¹/æ·»åŠ  repositories é…ç½®\nrepositories { maven { url \u0026#34;http://maven.aliyun.com/nexus/content/groups/public\u0026#34; } } é…ç½®å…¨å±€ç”Ÿæ•ˆï¼š æ‰¾åˆ° (ç”¨æˆ·å®¶ç›®å½•)/.gradle/init.gradle æ–‡ä»¶ï¼Œå¦‚æœæ‰¾ä¸åˆ° init.gradle æ–‡ä»¶ï¼Œè‡ªå·±æ–°å»ºä¸€ä¸ªä¿®æ”¹/æ·»åŠ  init.gradle æ–‡ä»¶å†…çš„ repositories é…ç½®\nallprojects { repositories { maven { url \u0026#34;http://maven.aliyun.com/nexus/content/groups/public\u0026#34; } } } ","date":"2020-05-07T11:27:10+08:00","permalink":"https://blog.xenori.com/2020/05/china-speedup-source-for-develop/","title":"å„ç§å¼€å‘ç›¸å…³çš„å›½å†…æº"},{"content":"å…¥ä½ä¸‡ç§‘å°åŒºåï¼Œæ¯æ¬¡å‡ºå…¥éƒ½è¦ç»è¿‡ä¸¤æ¬¡é—¨ç¦ï¼Œå¯¼è‡´è™½ç„¶è£…äº†æ™ºèƒ½é”ï¼Œä½†è¿˜æ˜¯è¦å¸¦é—¨ç¦å¡ï¼Œæ‰€ä»¥ä¸€ç›´æƒ³ç€æ€æ ·æŠŠé—¨ç¦å¤åˆ¶åˆ°æ‰‹æœº NFC ä¸Šã€‚ä¸€åŠ 7 pro åœ¨ 11 æœˆå·²æ¨é€äº†é—¨ç¦å¡åŠŸèƒ½ï¼Œä½†åªæ”¯æŒæœªåŠ å¯†çš„é—¨ç¦å¡ï¼Œä¸‡ç§‘çš„ä¸€å¡é€šéƒ½æ˜¯åŠ å¯†è¿‡çš„ï¼Œæ‰€ä»¥ç›´æ¥å¤åˆ¶ä¸äº†ã€‚\nåŠ å¯†å¡ä¹Ÿåˆ†åŠåŠ å¯†æˆ–å…¨åŠ å¯†ï¼Œå±äºå“ªç§ç±»å‹ï¼Œå¯ä»¥æ‰‹æœºä¸‹è½½ MifareClassicTool (MCT) æŸ¥çœ‹ï¼Œéƒ¨åˆ†æ‰‡ä½å¯ä»¥çœ‹åˆ°å†…å®¹çš„å°±æ˜¯åŠåŠ å¯†ï¼Œæ‰€æœ‰æ‰‡ä½å†…å®¹éƒ½çœ‹ä¸åˆ°çš„å°±æ˜¯å…¨åŠ å¯†å¡ï¼Œå…¨åŠ å¯†å¡çš„è¯ï¼Œå»ºè®®ç›´æ¥æ”¾å¼ƒï¼Œç ´è§£å¯†é’¥éœ€è¦å¤ªå¤šæ—¶é—´äº†ã€‚\nç»è¿‡åœ¨é…·å®‰æµè§ˆ NFC ç›¸å…³å†…å®¹ï¼Œå‘ç°æ˜¯æœ‰æ–¹æ³•å¯ä»¥å®ç°å¤åˆ¶çš„ï¼Œä½†éœ€è¦ä¸€ä¸ª PN532 çš„ NFC è§£å¯†è®¾å¤‡å’Œ CUID ç©ºç™½å¡ï¼Œå¤åˆ¶æµç¨‹å¦‚ä¸‹ï¼š\nä½¿ç”¨ PN532 è§£å¯†åŠåŠ å¯†çš„åŸå¡å†…å®¹ æŠŠé—¨ç¦å¡çš„ 0 æ‰‡åŒºçš„ 0 å—çš„ UID å’Œå‚å•†å·å†™å…¥ CUID ç©ºç™½å¡ï¼ˆè¿™æ ·ç©ºç™½å¡å°±å˜æˆæœªåŠ å¯†å¡äº†ï¼‰ ä½¿ç”¨æ‰‹æœº NFC æ¨¡æ‹Ÿ CUID ç©ºç™½å¡ ä½¿ç”¨ PN532 æˆ–å¦ä¸€å¸¦ NFC åŠŸèƒ½çš„æ‰‹æœºæŠŠä½™ä¸‹åŠ å¯†çš„æ‰€æœ‰æ‰‡åŒºä¿¡æ¯å†™ä¸‹æ‰‹æœºæ¨¡æ‹Ÿçš„é—¨ç¦å¡ ä¸€ã€ä½¿ç”¨ PN532 è§£å¯†åŠåŠ å¯†çš„åŸå¡å†…å®¹ pn532 å¦‚ä½•è¿æ¥ç”µè„‘å°±ä¸è¯¦è¿°äº†ï¼Œè¦è§£å¯†åŸé—¨ç¦å¡å¯†é’¥ï¼Œéœ€è¦ä¸‹è½½windows è½¯ä»¶MifareOneToolï¼ŒæŠŠé—¨å¡æ”¾åˆ° PN532 ä¸Šï¼Œç„¶åé€‰æ‹©é«˜çº§æ¨¡å¼ -\u0026gt; HardNestedï¼Œè½¯ä»¶å°±ä¼šå¼€å§‹æ‰§è¡Œçˆ†åŠ›ç ´è§£ï¼Œåœ¨æˆ‘ i6700K ç”µè„‘ä¸Šï¼Œå¹³å‡ç ´è§£ä¸€ä¸ªå¯†é’¥éœ€è¦ 6 å°æ—¶ã€‚ã€‚ã€‚ä¸€èˆ¬è¿›åº¦åˆ° 30%ï½50% å°±èƒ½ç ´è§£åˆ°ï¼Œåªè¦è¿˜æ˜¯çœ‹ RPğŸ˜‚\næ‰‡åŒºå·å¡«å†™éœ€è¦ç ´è§£å¯†é’¥çš„æ‰‡åŒºï¼Œ1 ä¸ªæ‰‡åŒºæœ‰ A/B ä¸¤ä¸ªå¯†é’¥ï¼Œæ‰€ä»¥ä¸€ä¸ªæ‰‡åŒºæ˜¯éœ€è¦ç ´è§£ä¸¤æ¬¡çš„ã€‚\nç ´è§£ 10 æ‰‡åŒºçš„ A å¯†é’¥ï¼š\nç ´è§£ 10 æ‰‡åŒºçš„ B å¯†é’¥ï¼š\nç ´è§£åŸç†å¯ä»¥çœ‹ä¸‹é¢æ–‡ç« ï¼šä¸€å¡é€š(M1å¡)ç ´è§£è¿‡ç¨‹è®°å½•â€”â€”è·å–æ‰‡åŒºå¯†é’¥\näºŒã€0 æ‰‡åŒº 0 å—å†™å…¥ CUID ç©ºç™½å¡ å†™å…¥ CUID ä½¿ç”¨æ‰‹æœºçš„ MifareClassicTool ã€‚é¦–å…ˆéœ€è¦ä¿å­˜åŸé—¨ç¦å¡çš„å·²è§£å¯†çš„ dump æ–‡ä»¶ã€‚\n1.MCT ä¸­é€‰æ‹©ç¼–è¾‘/å¢åŠ å¯†é’¥æ–‡ä»¶ï¼Œåœ¨std.keysä¸­å¢åŠ åˆšæ‰ç ´è§£å‡ºæ¥çš„å¯†é’¥ï¼Œä¸€è¡Œä¸€ä¸ª\n2.æ‰‹æœºé è¿‘åŸé—¨ç¦å¡ï¼Œä½¿ç”¨è¯»æ ‡ç­¾åŠŸèƒ½è¯»å–æ‰€æœ‰æ‰‡åŒºçš„å†…å®¹å‡ºæ¥ï¼Œå¹¶ä¿å­˜ä¸ºè½¬å‚¨æ–‡ä»¶ã€‚\n3.é€‰æ‹©ç¼–è¾‘/åˆ†æè½¬å‚¨æ–‡ä»¶æ‰“å¼€åˆšæ‰ä¿å­˜çš„è½¬å‚¨æ–‡ä»¶ï¼Œå¤åˆ¶ 0 æ‰‡åŒº 0 å—çš„å†…å®¹ã€‚\n4.æ‰‹æœºé è¿‘ CUID ç©ºç™½å¡ï¼Œé€‰æ‹©å†™æ ‡ç­¾åŠŸèƒ½ï¼Œä½¿ç”¨å†™å—æŠŠåˆšåˆšå¤åˆ¶çš„å†…å®¹å†™å…¥0æ‰‡åŒº0å—ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º\nè¿™æ ·å°±å¾—åˆ°äº†ä¸€ä¸ªå¯ä»¥è¢«æ‰‹æœº NFC åŠŸèƒ½å¤åˆ¶çš„æœªåŠ å¯†é—¨ç¦å¡\nä¸‰ã€ä½¿ç”¨æ‰‹æœº NFC æ¨¡æ‹Ÿ CUID ç©ºç™½å¡ æ­£å¸¸éƒ½èƒ½æ¨¡æ‹ŸæˆåŠŸï¼Œä½†è¿™é‡Œå› ä¸ºæ‰‹æœºå‚å•†çš„é™åˆ¶ï¼Œæœ‰ä¸ªå‘ï¼Œåé¢ä¼šè¯´æ˜\nå››ã€æŠŠåŸå¡åŠ å¯†å†…å®¹å†™å…¥æ‰‹æœºæ¨¡æ‹Ÿé—¨ç¦ å‡å¦‚æ‰‹ä¸Šæœ‰å¦ä¸€å°å¸¦ NFC åŠŸèƒ½çš„æ‰‹æœºï¼Œå¯ä»¥åœ¨å¦ä¸€æ‰‹æœºä¹Ÿå®‰è£… MCT ç›´æ¥å†™ï¼Œæ‰‹æœºé€‰æ‹©åˆšåˆšæ¨¡æ‹Ÿçš„é—¨ç¦ä¸ºé»˜è®¤å¡å°±å¯ä»¥\nMCT ä¸­é€‰æ‹©å†™æ ‡ç­¾-\u0026gt;å†™è½¬å‚¨(å…‹éš†)ï¼Œé€‰æ‹©ä¹‹å‰ä¿å­˜çš„è½¬å‚¨æ–‡ä»¶ï¼Œå‹¾ä¸Šæ‰€æœ‰æ‰‡åŒºå¹¶ç¡®è®¤ï¼Œè¿™æ ·å°±èƒ½æŠŠåŸå¡æ‰€æœ‰å†…å®¹å®Œæ•´å¤åˆ¶åˆ°æ‰‹æœºæ¨¡æ‹Ÿçš„é—¨ç¦äº†ğŸ˜†\nå‡å¦‚åªæœ‰ä¸€å°æ‰‹æœºï¼Œå¯ä»¥åœ¨ windows ä¸Šé€šè¿‡ PN532 ä½¿ç”¨MifareOneToolå†™ã€‚ä¸è¿‡ MCT çš„è½¬å‚¨æ–‡ä»¶åœ¨MifareOneToolä¸­ä¸èƒ½è¯†åˆ«ï¼Œéœ€è¦å…ˆè½¬ä¸º MFD æ–‡ä»¶ï¼Œè¿˜å¥½ MCT çš„ github åº“ä¸­æä¾›äº†è½¬æ¢å·¥å…·ã€‚\nè®¿é—®https://github.com/ikarus23/MifareClassicTool/tree/master/tools/dump-file-converterä¸‹è½½mct2eml.pyå’Œeml2mfd.pyå·¥å…·ï¼ŒæŠŠ MCT çš„è½¬å‚¨æ–‡ä»¶ï¼ˆä¿å­˜åœ¨æ‰‹æœº/MifareClassicTool/dump-files/ç›®å½•ä¸‹ï¼‰è½¬æ¢ä¸º MFD æ ¼å¼æ–‡ä»¶ã€‚\npython mct2eml.py path_to_mct_dump eml_dump.eml python eml2mfd.py path_to_eml_dump mfd_dump.mfd æ‰‹æœºé€‰æ‹©æ¨¡æ‹Ÿçš„é—¨ç¦å¡ï¼Œé è¿‘ PN532ï¼Œåœ¨ MCT ä¸­é€‰æ‹©é«˜çº§æ“ä½œæ¨¡å¼-\u0026gt;å†™M1ï¼Œé€‰ä¸­åˆšåˆšè½¬æ¢çš„ mfd_dump.mfd æ–‡ä»¶ï¼Œå°±èƒ½å¼€å§‹å†™å…¥äº†\näº”ã€æ‹¿æ¨¡æ‹Ÿå¥½çš„æ‰‹æœºä¸‹æ¥¼åˆ·å¡ å•²ï½ä¸€å£°ï¼Œå‡å¦‚é—¨å¼€äº†ï¼Œé‚£ä¹ˆæ­å–œä½ ï¼Œç»ˆäºæ¨¡æ‹ŸæˆåŠŸäº†ï¼Œå‡å¦‚é—¨ç¦å®Œå…¨æ²¡ååº”ï¼Œé—¨å¼€ä¸äº†ï¼Œé‚£å°±æ˜¯é‡åˆ°ä¸Šé¢ç¬¬ä¸‰ç‚¹è¯´çš„å‘äº†â€”â€”å°åŒºé—¨ç¦æ ¡éªŒäº†å‚å•†å·ï¼Œè€Œæ‰‹æœº NFC é™åˆ¶ä¸èƒ½è¦†å†™å‚å•†å·ã€‚\nç°åœ¨ä¸»æµå‚å•†çš„æ‰‹æœºæ¨¡æ‹Ÿé—¨ç¦åŠŸèƒ½éƒ½æ˜¯é™åˆ¶äº†å†™å‚å•†å·ï¼Œå‡å¦‚ä½ å°åŒºçš„é—¨ç¦æ˜¯æœ‰æ ¡éªŒå‚å•†å·çš„è¯ï¼Œå»ºè®®ä½ æ”¾å¼ƒå§ï¼Œè¿™ä¸ªæ²¡è§£äº†ã€‚ã€‚ã€‚æ›²çº¿æ•‘å›½çš„æ–¹æ³•å°±æ˜¯æ”¹ä½¿ç”¨æ‰‹æœº NFC å¡è´´æˆ–ä½¿ç”¨æ‰‹æœºç©ºç™½å¡åŠŸèƒ½è®©ç‰©ä¸šç™»è®°ç»™ä¸‹æƒé™\nç›¸å…³å‚è€ƒèµ„æ–™ï¼š\nRFIDå®‰å…¨ä¹‹å…¨åŠ å¯†Mifare Classic 1Kå¡ç ´è§£ ä½¿ç”¨ PN532+PL2303HX å¤åˆ¶ JCOP41 æ ¡å›­å¡ ä¸€å¡é€š(M1å¡)ç ´è§£è¿‡ç¨‹è®°å½•â€”â€”è·å–æ‰‡åŒºå¯†é’¥ æ¨¡æ‹ŸåŠ å¯†NFCå¡ç‰‡æ–¹æ³• ","date":"2019-12-30T11:27:10+08:00","permalink":"https://blog.xenori.com/2019/12/use-pn532-copy-encryption-card-in-oneplus7pro/","title":"ä¸€åŠ 7 proä½¿ç”¨ pn532 å¤åˆ¶æ‰‹æœºåŠ å¯†é—¨ç¦å¡"},{"content":"ä½¿ç”¨æœ€æ–°çš„ node v12 å®‰è£… electron æ—¶ï¼Œå‘ç°æ¯æ¬¡è·‘åˆ°ä¸‹é¢çš„è¯­å¥å°±ä¼šæŒ‚ä½ï¼Œæ— æ³•ç»§ç»­å®‰è£…ï¼š\n\u0026gt; electron@7.1.7 postinstall /Users/cxf/Dev/CapsIndicator/node_modules/electron \u0026gt; node install.js æŸ¥çœ‹ç½‘ä¸Šç›¸å…³è§£å†³æ–¹æ¡ˆï¼Œå‘ç°æ˜¯å› ä¸º npm éœ€è¦è¿æ¥ github ä¸‹è½½ electron å®‰è£…åŒ…å¯¼è‡´ï¼Œå®‰è£…åŒ…æœ‰ 60M å·¦å³ï¼Œä½†ä» github ä¸‹è½½å´åªæœ‰å‡  KBï¼Œæ‰€ä»¥æ„Ÿè§‰æ˜¯å¡ä½äº†ã€‚ä½†æ”¹ä½¿ç”¨æ·˜å®çš„ cnpm å‘ç°è¿˜æ˜¯ä¼šå¡ä½ï¼Œè¿™æ˜¯å› ä¸º electron çš„åŒ…é»˜è®¤è¿˜æ˜¯æŒ‡å‘ github ä¸‹è½½ï¼Œè¿˜æœ‰ electron æä¾›äº†ä¿®æ”¹ä¸‹è½½åœ°å€çš„ç¯å¢ƒå˜é‡electron_mirrorï¼Œä½¿ç”¨npm configè®¾ç½®é…ç½®å˜é‡\nnpm config set electron_mirror \u0026#34;https://npm.taobao.org/mirrors/electron/\u0026#34; å†æ¬¡æ‰§è¡Œå®‰è£…å‘½ä»¤ï¼Œè™½ç„¶ä¸ä¼šå¡ä½äº†ï¼Œä½†å˜ä¸ºç›´æ¥æç¤º404å®‰è£…å¤±è´¥ï¼š\n\u0026gt; electron@7.1.7 postinstall /Users/cxf/Dev/CapsIndicator/node_modules/electron \u0026gt; node install.js (node:2216) UnhandledPromiseRejectionWarning: HTTPError: Response code 404 (Not Found) at EventEmitter.\u0026lt;anonymous\u0026gt; (/Users/cxf/Dev/CapsIndicator/node_modules/got/source/as-stream.js:35:24) at EventEmitter.emit (events.js:210:5) at module.exports (/Users/cxf/Dev/CapsIndicator/node_modules/got/source/get-response.js:22:10) at ClientRequest.handleResponse (/Users/cxf/Dev/CapsIndicator/node_modules/got/source/request-as-event-emitter.js:155:5) at Object.onceWrapper (events.js:300:26) at ClientRequest.emit (events.js:215:7) at ClientRequest.origin.emit (/Users/cxf/Dev/CapsIndicator/node_modules/@szmarczak/http-timer/source/index.js:37:11) at HTTPParser.parserOnIncomingClient [as onIncoming] (_http_client.js:583:27) at HTTPParser.parserOnHeadersComplete (_http_common.js:115:17) at TLSSocket.socketOnData (_http_client.js:456:22) (node:2216) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) (node:2216) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. npm WARN capsindicator@1.0.0 license should be a valid SPDX license expression æŸ¥çœ‹ github issue#1050 åï¼Œå‘ç°æ˜¯å› ä¸ºæ·˜å®ä¿å­˜çš„ç‰ˆæœ¬ç›®å½•å’Œå®˜æ–¹çš„ä¸åŒï¼Œæ·˜å®å»æ‰äº†vå‰ç¼€ã€‚\n// å®˜æ–¹ https://npm.taobao.org/mirrors/electron/v7.1.7/electron-v7.1.7-linux-x64.zip // æ·˜å® https://npm.taobao.org/mirrors/electron/7.1.7/electron-v7.1.7-linux-x64.zip å¥½åœ¨ electron å®˜æ–¹ä¹Ÿæä¾›äº†ä¿®æ”¹ç›®å½•åç§°çš„ç¯å¢ƒå˜é‡electron_custom_dirï¼Œé…ç½®æ”¹ä¸‹ï¼š\nnpm config set electron_custom_dir \u0026#34;7.1.7\u0026#34; å†æ¬¡è¿è¡Œå®‰è£…å‘½ä»¤ï¼Œè¿™æ¬¡ç»ˆäºæˆåŠŸäº†ğŸ˜‚\nå®˜æ–¹ç›¸å…³çš„å®‰è£…è¯´æ˜ï¼š\n","date":"2019-12-26T14:10:18+08:00","permalink":"https://blog.xenori.com/2019/12/fix-npm-hang-when-install-electron/","title":"è§£å†³npm å®‰è£… electron å¡ä½ï¼Œæ— æ³•å®Œæˆ"},{"content":"Google â€” Year in Search 2019 è±†ç“£ - 2019 å¹´åº¦ç”µå½± è±†ç“£ - 2019 å¹´åº¦éŸ³ä¹ The Game Award 2019 æ–°æµªæ–°é—»å¹´ç»ˆç›˜ç‚¹ï¼š#2019å“ªäº›ç¬é—´å€¼å¾—è¢«çœ‹è§# ","date":"2019-12-25T12:18:12+08:00","permalink":"https://blog.xenori.com/2019/12/the-inventory-of-2019/","title":"2019 å¹´å›é¡¾ç›˜ç‚¹"},{"content":"ä»Šå¹´æ˜¯æš–å†¬ï¼Œæ‰€ä»¥å³ä½¿å·²è¿‡äº†å†¬è‡³ï¼Œå¹¿å·çš„å¤©æ°”è¿˜åªæ˜¯ç§‹ç‘Ÿä¸­å¸¦ç‚¹å‡‰æ„ï¼Œ1111 æ·˜å®ä¹°çš„å†¬è¡£è¿˜æ²¡ä¸€æ¬¡ç©¿è¿‡å‡ºè¡—==ï¼\næ–‡ç« çš„éƒ¨åˆ†å†…å®¹è¢«å¯†ç ä¿æŠ¤ï¼š\nJavascript needs to be enabled to decrypt content ä¸Šå‘¨ 3 åˆšè¢«å…¬å¸è£å‘˜ï¼Œå¹´æœ«æ­£å¼åŠ å…¥å¤±ä¸šå¤§å†›ï¼Œç°åœ¨åªèƒ½æ¸¸è¡åœ¨å›¾ä¹¦é¦†ï¼Œæ¶ˆç£¨ä¸‹æ—¶é—´ã€‚ç°åœ¨å¹´é¾„å·²å¥”å››ï¼Œå¯¹äºç»§ç»­ä»äº‹å¼€å‘å·¥ä½œï¼Œæ€»æ˜¯å……æ»¡ç„¦è™‘ï¼Œå†æŠ•ç®€å†æ‰¾å·¥ä½œï¼Œæ„Ÿè§‰å·²å¾ˆå›°éš¾äº†ã€‚\nè‡ªä»å»å¹´è€çˆ¸ä¸­é£åï¼Œåˆ°ç°åœ¨æœ‰ä¸€å¹´æ—¶é—´äº†ï¼Œè…¿è¿˜æ˜¯éº»ç—¹æ— åŠ›çŠ¶æ€ï¼Œè¿˜æ˜¯æ²¡æ³•è‡ªå·±èµ°è·¯ã€‚å¹³æ—¶éƒ½éœ€è¦è€å¦ˆçœ‹ç€ï¼Œçš„ç¡®å¤ªè¾›è‹¦äº†ã€‚æ¯å½“è¿™æ—¶é—´å°±ä¼šæ„Ÿè§‰èº«ä½“å¥åº·æ˜¯å¤šä¹ˆé‡è¦ã€‚\nä»Šå¹´ç”Ÿæ´»çŠ¶æ€ï¼š\næ–°æˆ¿å…¥ä¼™ï¼Œå…¥ä½æ–°æˆ¿ æœªæœ‰å¥³æœ‹å‹ï¼Œæœªå©š æœªå­¦è½¦ æœªä¼šæ¸¸æ³³ 2019å¹´å¹´åº¦é€‰æ‹©å¦‚ä¸‹ï¼š\nå¹´åº¦æ¸¸æˆï¼š åªç‹¼ ç»åœ°æ±‚ç”Ÿï¼ˆæ‰‹æœºï¼‰ åªç‹¼æ˜¯ä»Šå¹´æ¸¸ç©ä½“éªŒéƒ½å¥½çš„ï¼Œè™½ç„¶æœ€ç»ˆ BOSS è¿˜æœªé€šå…³ï¼Œæ­»çš„æ¬¡æ•°å¤ªå¤šäº†ã€‚ã€‚ã€‚\næ‰‹æœºä¸Šçš„ç»åœ°æ±‚ç”Ÿä¸éœ€è¦å‹æªï¼Œé€‚åˆæˆ‘è¿™ç§è½»åº¦ç©å®¶ï¼Œç°åœ¨æœ‰æ—¶é—´éƒ½æ˜¯ç©å®ƒäº†ï¼Œåƒäº†å‡ æ¬¡é¸¡\nå¹´åº¦åŠ¨ç”»ï¼š è¿›å‡»å·¨äºº ç¬¬3å­£ JOJO ç¬¬4å­£ å¹´åº¦éŸ³ä¹ï¼š å…‰å¹´ä¹‹å¤– æ¥è‡ªå¤©å ‚çš„é­”é¬¼ ä»Šå¹´å› ä¸ºå¬å…‰å¹´ä¹‹å¤–ï¼Œå–œæ¬¢ä¸Šäº†å¬é‚“ç´«æ£‹çš„æ­Œï¼Œç‰¹åˆ«å–œæ¬¢å¥¹çš„ã€Šå†è§ã€‹çš„ MVï¼Œå“ˆå“ˆ\nå¹´åº¦ç”µå½±ï¼š å¯„ç”Ÿè™« å¤ä»‡è€…è”ç›Ÿ 4 æµæµªåœ°çƒ ä»Šå¹´æœ€å–œæ¬¢çš„æ˜¯ã€Šæµæµªåœ°çƒã€‹ï¼Œè™½ç„¶è¿˜æ˜¯å…ä¸äº†ä¸­å›½ç”µå½±ç‰¹æœ‰çš„æœ‰äº›ä»¤äººå°´å°¬çš„ç‰‡æ®µï¼Œä½†æœ‰ç¬‘ç‚¹ï¼Œå¤§åˆ˜ç‰¹æœ‰çš„ç§‘å¹»æµªæ¼«ä¸»ä¹‰ç”µå½±æœ‰è¡¨ç°äº†å‡ºæ¥ï¼Œæ„Ÿè§‰è¿™äº›æ˜¯å¥½è±åæ‹ä¸å‡ºæ¥çš„ã€‚æœ¬æ¥è¿˜æƒ³å»çœ‹ä¸‹å¤æ˜ çš„ã€Šåƒä¸åƒå¯»ã€‹çš„ï¼Œä½†æœ€åéƒ½å› ä¸€ä¸ªäººå¤ªæ‡’æ²¡å»æˆã€‚ã€‚ã€‚\nå¹´åº¦å›¾ä¹¦ï¼š ä»Šå¹´æ²¡å®Œæ•´çœ‹è¿‡ä¸€æœ¬ä¹¦ã€‚ã€‚ã€‚å¹³æ—¶æ™šä¸Šå›æ¥å°±å¤ªç´¯åªçœ‹ä¸‹ bilibili äº†ï¼Œæ˜çœ‹è¦å¤šçœ‹äº›ä¹¦\nå¹´åº¦APPï¼š Fxcnbeta æ¯å¤©åœ°é“ä¸Šçœ‹ç§‘æŠ€æ–°é—»\nå¹´åº¦ç½‘ç«™ï¼š bilibili æ¯å¤©èŠ±çš„æ—¶é—´å¤ªå¤šäº†ï¼Œç”µè§†å’Œæ‰‹æœºä¸Šéƒ½è£…äº† APPï¼Œ\båœ¨ä¸Šé¢èŠ±äº†å¤§é‡æ—¶é—´\nå¹´åº¦æ•°ç ï¼š Airpods Pro Airpods å‰å‡ å¹´å‘å¸ƒæ—¶å°±è§‰å¾—æ˜¯ä¸ªé©å‘½æ€§çš„äº§å“ï¼Œèˆ’é€‚æ— çº¿å¥½ç”¨ï¼Œç°åœ¨åŠ ä¸Šé™å™ªåï¼Œå°±æ›´å®Œç¾äº†ï¼Œåªæ˜¯ä½©æˆ´çš„èˆ’é€‚æ€§ä¸‹é™äº†ï¼Œä¸è¿‡ä¸ºäº†é™å™ªï¼Œè¿˜æ˜¯æœ€å¼ºæœ€å¥½çš„æ— çº¿è“ç‰™è€³æœº\n","date":"2019-12-24T15:00:08+08:00","permalink":"https://blog.xenori.com/2019/12/the-summary-of-2019/","title":"The Summary of 2019"},{"content":"è¿˜æœ‰ä¸€å¤©å°±åˆ°2018å†œå†æ–°å¹´äº†ï¼Œæ—¶é—´å®åœ¨è¿‡å¾—å¤ªå¿«ã€‚ä»Šå¹´ä¸¤è€çš„èº«ä½“éƒ½æœ‰äº›ä¸å¥½ï¼Œå°±æå‰è¯·å‡å›å®¶ï¼Œç°åœ¨å·²èˆ’æœå‘†åœ¨æˆ¿é—´ä¸­äº†ã€‚å®¶é‡Œçš„å¤©æ°”å®åœ¨æ˜¯èˆ’æœï¼Œé˜³å…‰æ˜åªšï¼Œæƒ³èµ·å¹¿å·ä½å¤„çš„é˜´å†·å¤©æ°”å°±å¤´ç—›ï¼Œè¡£æœå®åœ¨ä¸å®¹æ˜“å¹²ã€‚\næ–‡ç« çš„éƒ¨åˆ†å†…å®¹è¢«å¯†ç ä¿æŠ¤ï¼š\nJavascript needs to be enabled to decrypt content æ•´ç†2017å¹´çš„å®Œæˆè®¡åˆ’ï¼Œå‘ç°è¿˜æ˜¯æœ‰å¾ˆå¤šæœªå®Œæˆï¼š\nå¹¿å·å…¥æˆ· å­¦è½¦ å­¦æ¸¸æ³³ å­¦è‹±è¯­ å…¥æˆ·ä»å¹´åˆä¸€ç›´æåˆ°å¹´å°¾çš„11æœˆä»½æ‰æå®Œï¼Œè¢«è®¡ç”Ÿè¯å’Œå±…ä½è¯å¡äº†å¾ˆé•¿æ—¶é—´ï¼Œè¿˜ä»¥ä¸ºä»Šå¹´æ˜¯åŠä¸äº†äº†ï¼Œè¿˜å¥½åœ¨10æœˆä»½å‡ºäº†æ–°æ”¿ç­–â€”â€”å–æ¶ˆäº†è®¡ç”Ÿè¯è¦æ±‚ï¼Œå±…ä½è¯ä¹Ÿä¾¥å¹¸é€šè¿‡å®¡æ ¸äº†ï¼Œå‰©ä¸‹çš„å°±ç­‰8æœˆä»½æ”¶æ¥¼åï¼Œè¿åˆ°æ–°æˆ¿äº†ï¼šï¼‰\nå­¦è½¦å­¦äº†å‡ æ¬¡å°±æ²¡åŠ¨åŠ›äº†ï¼Œå¼€è½¦è¦å…³æ³¨çš„å¤ªå¤šäº†ï¼Œè¿˜è¦å…»è½¦ã€‚ã€‚ã€‚ä¸è¿‡2018å¹´ä¼šèŠ±å¤šäº›æ—¶é—´å­¦å®Œï¼Œåªè¦æ˜¯æ–¹ä¾¿æ¥å®¶äººå‡ºå»åŠäº‹ï¼Œåˆ°æ—¶å†çœ‹ä¸‹è¦ä¸è¦ä¹°è½¦ä½å§ã€‚\nä»Šå¹´æ„Ÿæƒ…ä¸Šè¿˜æ˜¯æ²¡å¤§å‘å±•ï¼Œä¸€ä¸ªäººçš„ç¡®ç”Ÿæ´»æƒ¯äº†ï¼Œå‘ç°å’Œäººç›¸å¤„å’Œè¿½äººå®åœ¨æ²¡åŠ¨åŠ›ï¼Œæ„Ÿè§‰è¿˜æœ‰ä¸€ç‚¹ä¸æƒ³ç»“å©šã€‚ã€‚ã€‚ä¸è¿‡ä¸€ä¸ªäººç”Ÿæ´»ç—…ç—›æ˜¯ä¸ªé—®é¢˜ï¼Œ12æœˆä»½å‡ºç°äº†ä¸€æ¬¡å‰§çƒˆçš„èƒƒç—›ï¼Œå½“æ—¶çœŸçš„ç—›åˆ°å¿«æ™•è¿‡å»äº†ï¼Œä½†å‘¨å›´æ²¡äººå¯ä»¥ä¾é å¸¦å»åŒ»é™¢ï¼Œæœ‰æ—¶æƒ³ï¼Œå‡å¦‚æ˜¯é‡åˆ°å¿ƒè„æŠ½æçš„è¯ï¼Œå¯èƒ½å°±ä¸€ç›´æ²¡äººå‘ç°äº†ï¼Œå”‰ã€‚\nå·¥ä½œä¸Šä¹Ÿæ²¡å¤§è¿›å±•ï¼Œç»´æŠ¤çš„ç°æœ‰ç«™ç‚¹å·²ç»ç¨³å®šäº†ï¼ŒæŠ€æœ¯ä¸Šæ²¡ä»€ä¹ˆæŒ‘æˆ˜æ€§ï¼Œæœ‰äº›æƒ³ç¦»èŒï¼Œä½†ç°åœ¨å¹´é¾„è¶Šæ¥è¶Šå¤§ï¼Œæ‰¾æ–°çš„åˆé€‚å·¥ä½œå®åœ¨ä¸å®¹æ˜“ï¼Œä¸€å¹´éƒ½åœ¨æ€è€ƒè¿˜é€‚ä¸é€‚åˆåšç¨‹åºå‘˜ï¼Œä½†æ‰¾ä¸åˆ°å…¶ä»–å‡ºè·¯ï¼Œæœ‰äº›æƒ³è½¬åšè¿œç¨‹SOHOå·¥ä½œï¼Œä½†åœ¨ä¸­å›½ä¸æ˜¯å¤ªé è°±ã€‚\næ–°çš„ä¸€å¹´ï¼Œå¸Œæœ›å®¶äººèº«ä½“èƒ½å¥åº·å¿«ä¹äº›ï¼Œå‡†å¤‡å­¦ä¸‹è‡ªå·±åšé¥­ï¼Œåˆ°ä¸‹å¹´æ˜¥èŠ‚å¯ä»¥è‡ªå·±æ¥æ“åŠ³ä¸‹å¹´å¤œé¥­ã€‚\n2017å¹´å¹´åº¦é€‰æ‹©å¦‚ä¸‹ï¼š\nå¹´åº¦æ¸¸æˆï¼š å¡å°”è¾¾ä¼ è¯´ è’é‡ä¹‹æ¯ ç»åœ°æ±‚ç”Ÿ å‘ç°ä»Šå¹´æ˜¯æ¯•ä¸šå·¥ä½œä»¥æ¥æƒ³æ¸¸æˆæœ€å¤šçš„ä¸€å¹´==ï¼å¡å°”è¾¾ä¼ è¯´åº”è¯¥æ˜¯è¿‘10å¹´æ¥ç©è¿‡æœ€å¥½ç©çš„æ¸¸æˆäº†ï¼Œå†’é™©æ¢ç´¢è¦ç´ å¤ªå¼ºäº†ï¼Œæˆ˜æ–—ç³»ç»Ÿä¹Ÿç®€å•æœ‰æ·±åº¦ï¼Œè´¡çŒ®äº†100+å°æ—¶ï¼Œç°åœ¨è¿˜æœªæ‰“å¡å†œï¼Œå‡†å¤‡äºŒå‘¨ç›®å†é€šå…³äº†ã€‚\nç»åœ°æ±‚ç”Ÿç»å¯¹æ˜¯ä»Šå¹´PCçš„å¹´åº¦æ¸¸æˆï¼Œé‡æ–°å®šä¹‰äº†â€œåƒé¸¡â€è¿™ä¸ªè¯ï¼Œæ¨ªæ‰«äº†ä¸­å›½å¤§ç‰‡ç½‘å§ã€‚ä¸è¿‡è¿™æ¸¸æˆçš„æ¸¸æˆæ€§çœŸçš„å¾ˆå¥½ï¼Œé€‚åˆå¤šç§ç©æ³•ï¼Œå°±ç®—æ˜¯ä¸€èº«çƒ‚æªæŠ€ï¼Œé æ‹¼å¤´è„‘é˜´äººä¹Ÿå¯ä»¥æ‰¾åˆ°è‡ªå·±ç”Ÿå­˜çš„æ–¹æ³•ï¼Œè´¡çŒ®äº†150+å°æ—¶ï¼Œè¿˜åœ¨ç©ä¸­ã€‚ã€‚ã€‚\nå¹´åº¦åŠ¨ç”»ï¼š å°‘çœ‹æ–°ç•ªäº†ï¼Œä»Šå¹´æ²¡ç‰¹åˆ«å–œæ¬¢çš„\nå¹´åº¦éŸ³ä¹ï¼š Forerver Young How Long Will I Love You éŸ³ä¹éƒ½æ˜¯çœ‹ç”µå½±æˆ–è§†é¢‘å¬åˆ°çš„\nå¹´åº¦ç”µå½±ï¼š ç–¯ç‹‚åŸå§‹äºº ç›—é’¥åŒ™çš„æ–¹æ³• / éµæ³¥æ£’ã®ãƒ¡ã‚½ãƒƒãƒ‰ æ—¥æœ¬ç”µå½±ã€Šç›—é’¥åŒ™çš„æ–¹æ³•ã€‹æ˜¯ä¸ªå°æƒŠå–œï¼Œå®åœ¨æ²¡çŒœåˆ°ç»“å±€ï¼šï¼‰\nå¹´åº¦å›¾ä¹¦ï¼š æ— \nå¹´åº¦APPï¼š æ‘©æ‹œ æ™ºèƒ½æ‰‹æœºå‘å±•äº†10å¹´ï¼Œåœ°ç›˜éƒ½åˆ†å®Œäº†ï¼Œä»Šå¹´æ–°ç”¨ä¸Šåˆç«çš„å°±æ˜¯å…±äº«å•è½¦äº†\nå¹´åº¦ç½‘ç«™ï¼š bilibili æ¯å¤©èŠ±çš„æ—¶é—´å¤ªå¤šäº†ï¼Œçœ‹äº†å¾ˆå¤šç¾é£Ÿè§†é¢‘ã€‚ã€‚ã€‚\nå¹´åº¦æ•°ç ï¼š Nintendo Switch Airpods NSåˆ›æ„å¾ˆå¥½ï¼Œä»Šå¹´æ¸¸æˆå¤§ä½œä¸æ–­ï¼Œç©å¾—å¾ˆå¼€å¿ƒã€‚airpodsæ˜¯ä¸ªé©å‘½æ€§çš„äº§å“ï¼ˆå¯¹æ— çº¿ä¾¿æ·çš„äº§å“æˆ‘éƒ½ç‰¹åˆ«æœ‰å¥½æ„Ÿï¼‰ï¼Œé™¤äº†æˆ´èµ·æ¥å¤ªä¸‘å¤–ï¼Œæ²¡å…¶ä»–ç¼ºç‚¹ï¼Œæ–¹ä¾¿å®ç”¨ï¼Œé€ç¤¼ä½³å“ï¼Œè¶…è¶Šäº†å…¶ä»–è€³æœºå‚å•†3~5å¹´çš„æŠ€æœ¯å®åŠ›ã€‚ã€‚ã€‚è‹¹æœé¡¶å‘±å‘±\n","date":"2018-02-14T11:01:07+08:00","permalink":"https://blog.xenori.com/2018/02/the-summary-of-2017/","title":"The Summary of 2017"},{"content":"ä½¿ç”¨xhprofæµ‹è¯•slimæ¡†æ¶çš„æ€§èƒ½æ—¶ï¼Œå‘ç°phpæŠ›äº†Segment Faulté”™è¯¯ï¼Œè¯•ç€ä½¿ç”¨gdbæŸ¥çœ‹æ˜¯ä»€ä¹ˆå¯¼è‡´çš„ã€‚\nç”Ÿæˆcoredumpæ–‡ä»¶ è¦ç”Ÿæˆphpçš„coredumpæ–‡ä»¶éœ€è¦å¯¹ç³»ç»Ÿè¿›è¡Œä¸€äº›é…ç½®ï¼Œå…·ä½“æŸ¥çœ‹ï¼šGenerating core-dump for php5-fpm\nä½¿ç”¨gdbè°ƒè¯•coredumpæ–‡ä»¶ æ‰§è¡Œgdbå‘½ä»¤ï¼Œå› ä¸ºcoredumpæ˜¯php-fpmè¿›ç¨‹ç”Ÿæˆçš„ï¼Œè¿˜éœ€è¦æŒ‡å®šphp-fpmçš„è·¯å¾„ï¼Œè¦ä¸æŸ¥çœ‹ä¸äº†å…·ä½“çš„ä»£ç æ‰§è¡Œä¿¡æ¯ã€‚\n$ gdb /usr/local/php5/sbin/php-fpm -c /tmp/core-php-fpm.1567 gdbè°ƒè¯•å‘½ä»¤ bt btå‘½ä»¤æ‰“å°ç¨‹åºæ‰§è¡Œçš„å †æ ˆä¿¡æ¯\n(gdb) bt #0 _phpi_pop (ht=\u0026lt;value optimized out\u0026gt;, return_value=0x7faf756ace10, return_value_ptr=0x0, this_ptr=\u0026lt;value optimized out\u0026gt;, return_value_used=\u0026lt;value optimized out\u0026gt;, off_the_end=0) at /home/apps/php-5.6.10/ext/standard/array.c:1879 #1 0x00007faf7d8f3317 in hp_execute_internal (execute_data=0x7faf8991db40, fci=0x0, ret=1) at /home/apps/xhprof-master/extension/xhprof.c:1730 #2 0x0000000000888cc5 in zend_do_fcall_common_helper_SPEC (execute_data=\u0026lt;value optimized out\u0026gt;) at /home/apps/php-5.6.10/Zend/zend_vm_execute.h:560 #3 0x00000000008787d0 in execute_ex (execute_data=0x7faf8991db40) at /home/apps/php-5.6.10/Zend/zend_vm_execute.h:363 #4 0x00007faf7d8f2ca9 in hp_execute_ex (execute_data=0x7faf8991db40) at /home/apps/xhprof-master/extension/xhprof.c:1675 p på‘½ä»¤ç”¨äºæ‰“å°å˜é‡ä¿¡æ¯\n(gdb) p *executor_globals-\u0026gt;argument_stack $2 = {top = 0x7faf8991dc38, end = 0x7faf8993d848, prev = 0x0} f åˆ‡æ¢å½“å‰çš„æ ˆï¼Œä¸€èˆ¬æ¥è¯´ï¼Œç¨‹åºåœæ­¢æ—¶ï¼Œæœ€é¡¶å±‚çš„æ ˆå°±æ˜¯å½“å‰æ ˆ\n# åˆ‡æ¢åˆ°1å±‚çº§çš„æ ˆ (gdb) f 1 #1 0x00007f701d60c317 in hp_execute_internal (execute_data=0x7f702940a858, fci=0x0, ret=1) at /home/apps/xhprof-master/extension/xhprof.c:1730 1730\t((zend_internal_function *) execute_data-\u0026gt;function_state.function)-\u0026gt;handler( # æŸ¥çœ‹å½“å‰æ ˆä¿¡æ¯ (gdb) info f Stack level 1, frame at 0x7fff515e2090: rip = 0x7f701d60c317 in hp_execute_internal (/home/apps/xhprof-master/extension/xhprof.c:1730); saved rip 0x888a15 called by frame at 0x7fff515e2150, caller of frame at 0x7fff515e2040 source language c. Arglist at 0x7fff515e2038, args: execute_data=0x7f702940a858, fci=0x0, ret=1 Locals at 0x7fff515e2038, Previous frame\u0026#39;s sp is 0x7fff515e2090 Saved registers: rbx at 0x7fff515e2058, rbp at 0x7fff515e2060, r12 at 0x7fff515e2068, r13 at 0x7fff515e2070, r14 at 0x7fff515e2078, r15 at 0x7fff515e2080, rip at 0x7fff515e2088 info æŸ¥çœ‹ä¿¡æ¯\n# æ‰“å°å±€éƒ¨å˜é‡ä¿¡æ¯ info locals # æ‰“å°å…¨å±€å’Œå±€éƒ¨å˜é‡ä¿¡æ¯ info variables # æ‰“å°å‚æ•°ä¿¡æ¯ info args # æ‰“å°å½“å‰å †æ ˆä¿¡æ¯ info f phpè„šæœ¬è°ƒè¯•å‘½ä»¤ ä½¿ç”¨phpè„šæœ¬è°ƒè¯•å‘½ä»¤ï¼Œéœ€è¦å¼•å…¥phpæºç ä¸­çš„è„šæœ¬æ–‡ä»¶.gdbinitã€‚\n(gdb) source /home/apps/php-5.6.10/.gdbinit zbacktrace zbacktraceå¯ä»¥æ‰“å°phpçš„å †æ ˆä¿¡æ¯ï¼Œä¸åŒäºbtåªæ‰“å°cçš„å †æ ˆä¿¡æ¯ã€‚\n(gdb) zbacktrace [0x7faf8991db40] array_shift(array(2)[0x7faf756acc88]) /var/www/html/php-framework-benchmark/slim-2.6/vendor/slim/slim/Slim/Slim.php:441 [0x7faf8991da18] Slim\\Slim-\u0026gt;mapRoute(array(2)[0x7faf897a0590]) /var/www/html/php-framework-benchmark/slim-2.6/vendor/slim/slim/Slim/Slim.php:473 [0x7faf8991d910] Slim\\Slim-\u0026gt;get(\u0026#34;/hello/index\u0026#34;, object[0x7faf897a0510]) /var/www/html/php-framework-benchmark/slim-2.6/index.php:18 print_cvs print_cvsæ‰“å°å½“å‰æ‰§è¡Œå‘½ä»¤ä¸‹çš„æ‰€æœ‰phpå˜é‡\nprintzv æ‰“å°zvalå˜é‡ä¿¡æ¯ï¼Œå¯æŒ‡å®šzvalçš„æŒ‡é’ˆåœ°å€ï¼Œå¦‚zbacktraceè¿”å›çš„å‡½æ•°å‚æ•°åœ°å€\n(gdb) printzv 0x7faf756acc88 [0x7faf756acc88] (refcount=2,is_ref) array(2): { 0 =\u0026gt; [0x7faf8979ee40] (refcount=4) string(12): \u0026#34;/hello/index\u0026#34; 1 =\u0026gt; [0x7faf897a0510] (refcount=3) objectYou can\u0026#39;t do that without a process to debug. print_ht print_htæ˜¯ç”¨æ‰“å°zvalå˜é‡ä¿¡æ¯\nprint_htptr print_htptræ˜¯ç”¨æ‰“å°zvalæŒ‡é’ˆæŒ‡å‘çš„å˜é‡ä¿¡æ¯\nprint_htstr print_htstrç”¨äºæ‰“å°stringæ„æˆçš„Hashtableå˜é‡ä¿¡æ¯\nprint_ft print_ftç”¨äºæ‰“å°function table (HashTable)\nzmemcheck zmemcheckç”¨äºæ˜¾ç¤ºå½“å‰çš„å†…åœ¨åˆ†é…çŠ¶æ€ä¿¡æ¯\nphpå…¨å±€å¯¹è±¡executor_globals phpæºç ç”¨æœ‰ä¸ªç”¨EGå®è¡¨ç¤ºçš„å…¨å±€å¯¹è±¡executor_globalsï¼Œå®ƒåŒ…å«äº†phpæ‰€æœ‰ç›¸å…³çš„æ‰§è¡Œä¿¡æ¯ï¼Œå¦‚å½“å‰æ‰§è¡Œçš„op_arrayï¼Œä¼ é€’å‚æ•°å’Œå‡½æ•°åç­‰ä¿¡æ¯ã€‚æºç ä¸­çš„EG(v)å®é™…æ˜¯è°ƒç”¨executor_globals-\u0026gt;vã€‚executor_globalsåŒ…å«çš„å˜é‡æœ‰å¾ˆå¤šï¼Œå¯ä»¥ç”¨å‘½ä»¤ï¼š\np executor_globals æ‰“å°å‡ºæ¥æŸ¥çœ‹ã€‚\nä¸‹é¢æ˜¯æ¯”è¾ƒé‡è¦çš„å‡ ä¸ªå˜é‡ï¼š\nargument_stack : ä¼ é€’ç»™å½“å‰è°ƒç”¨å‡½æ•°çš„å‚æ•°å †æ ˆï¼Œå¯ä»¥æŸ¥çœ‹å‚æ•°ä¿¡æ¯ current_execute_data : å½“å‰æ‰§è¡Œçš„å‘½ä»¤ä¿¡æ¯ï¼Œå¦‚å½“å‰æ‰§è¡Œå‡½æ•°ä¿¡æ¯ï¼Œop_arrayï¼Œop_codeç­‰ prev_execute_data ï¼šå‰ä¸€æ‰§è¡Œå‘½ä»¤ä¿¡æ¯ï¼Œç›¸å½“äºè°ƒç”¨å‡½æ•°çš„ä¸Šçº§å‡½æ•° active_op_array : å½“å‰æ­£åœ¨æ‰§è¡Œçš„op_array exception : å½“å‰åŒ…å«çš„å¼‚å¸¸ä¿¡æ¯ æŸ¥çœ‹ç¤ºä¾‹ï¼š\n## æŸ¥çœ‹å½“å‰æ‰§è¡Œå‘½ä»¤ä¿¡æ¯ (gdb) p *executor_globals-\u0026gt;current_execute_data $8 = {opline = 0x7faf76376fd0, function_state = {function = 0x1123720, arguments = 0x7faf8991dc30}, op_array = 0x7faf897bf9f8, object = 0x0, symbol_table = 0x0, prev_execute_data = 0x7faf8991da18, old_error_reporting = 0x0, nested = 0 \u0026#39;\\000\u0026#39;, original_return_value = 0x0, current_scope = 0x7faf8991da28, current_called_scope = 0x0, current_this = 0x0, fast_ret = 0x0, delayed_exception = 0x0, call_slots = 0x7faf8991dc08, call = 0x7faf8991dc08} ## æŸ¥çœ‹å‰ä¸€æ‰§è¡Œå‘½ä»¤ä¿¡æ¯ï¼Œç›¸å½“äºä¸Šçº§è°ƒç”¨å‡½æ•° (gdb) p *executor_globals-\u0026gt;current_execute_data-\u0026gt;prev_execute_data $19 = {opline = 0x7faf763781e8, function_state = {function = 0x7faf897bf9f8, arguments = 0x7faf8991dad8}, op_array = 0x7faf897bf020, object = 0x7faf8978adf0, symbol_table = 0x0, prev_execute_data = 0x7faf8991d910, old_error_reporting = 0x0, nested = 0 \u0026#39;\\000\u0026#39;, original_return_value = 0x0, current_scope = 0x7faf897c2d48, current_called_scope = 0x7faf897c2d48, current_this = 0x7faf8978adf0, fast_ret = 0x7faf897c2d48, delayed_exception = 0x0, call_slots = 0x7faf8991dab0, call = 0x7faf8991dab0} æ‰©å±•é˜…è¯» å¦‚ä½•è°ƒè¯•PHPçš„Coreä¹‹è·å–åŸºæœ¬ä¿¡æ¯\nTIPI: æ·±å…¥ç†è§£PHPå†…æ ¸\n","date":"2015-07-08T01:33:35+08:00","permalink":"https://blog.xenori.com/2015/07/2015-using-gdb-to-debug-php-coredump/","title":"ä½¿ç”¨gdbè°ƒè¯•phpçš„coredumpæ–‡ä»¶"},{"content":"è¿‘æ’å¼€å‘çš„ä¸€ä¸ªåå°ç³»ç»Ÿï¼ˆåŸŸåï¼šadmin.test.test.comï¼‰åœ¨æ¥å…¥å…¬å¸ç»Ÿä¸€SSOæ—¶ï¼Œé‡åˆ°äº†cookieå†²çªå¼•èµ·çš„ç™»å½•å¾ªç¯é‡å®šå‘çš„bugã€‚\nå…¬å¸æœ‰ä¸€ä¸ªç»Ÿä¸€çš„SSOç™»å½•é¡µé¢ï¼Œæˆ‘ä»¬å¼€å‘çš„ç³»ç»Ÿæ˜¯è·³è½¬åˆ°è¯¥é¡µé¢å®ç°ç™»å½•éªŒè¯çš„ã€‚æœ‰ç”¨æˆ·åæ˜ ç™»å½•ä¸äº†ï¼Œæµè§ˆå™¨æç¤ºå¾ªç¯é‡å®šå‘äº†ï¼ŒæŸ¥çœ‹ç”¨æˆ·æµè§ˆå™¨å‘ç°æœ‰ä¸¤ä¸ªç›¸åŒåç§°çš„session cookieï¼š\nPHPSESSID=token1; path=/; expired=/; domain=.test.com PHPSESSID=token2; path=/; expired=/; domain=.test.test.com æ˜¾ç„¶è¿™ä¸¤ä¸ªcookieçš„domainå› ä¸ºéƒ½æ˜¯admin.test.test.comçš„æ ¹åŸŸåï¼Œä½¿æµè§ˆå™¨éƒ½å‘é€åˆ°phpåå°ç³»ç»Ÿäº†ã€‚ç¬¬ä¸€ä¸ªæ˜¯åå°ç³»ç»Ÿï¼ˆadmin.test.test.comï¼‰å†™å…¥çš„ï¼Œæ˜¯æ­£ç¡®çš„session idï¼Œè€Œç¬¬äºŒä¸ªæ˜¯ç”±æœªçŸ¥ç³»ç»Ÿå†™å…¥çš„ã€‚æµ‹è¯•æ‰“å°**$_COOKIE[\u0026lsquo;PHPSESSID\u0026rsquo;]**å‘ç°è¾“å‡ºæ˜¯ï¼š\ntoken2 å¾ˆæ˜æ˜¾phpè¯»å–åˆ°äº†é”™è¯¯çš„session idï¼Œæ‰€ä»¥å¯¼è‡´ç³»ç»Ÿè¯»å–ä¸åˆ°ä¿å­˜åœ¨sessionä¸­çš„ç™»å½•ä¿¡æ¯ï¼Œè€Œè¯¯åˆ¤ç”¨æˆ·ä¸ºæœªç™»å½•ï¼Œä¹‹åå†æŠŠç”¨æˆ·è·³è½¬å›SSOç™»å½•é¡µé¢ï¼Œè·³è½¬å›SSOç³»ç»Ÿåï¼ŒSSOç³»ç»ŸçŸ¥é“ç”¨æˆ·å·²ç™»å½•è¿‡ï¼Œå†è·³è½¬å›ç³»ç»Ÿã€‚ã€‚ã€‚è¿™æ ·å°±ä¸€ç›´å¾ªç¯ä¸‹å»äº†=ã€‚=\nä¸ºä»€ä¹ˆPHPä¼šè¯»å–åˆ°é”™è¯¯çš„session idå‘¢ï¼Ÿæ‰“å°å…¨å±€å˜é‡**$_SERVER[\u0026lsquo;HTTP_COOKIES\u0026rsquo;]**å‡ºæ¥æŸ¥çœ‹ï¼š\nPHPSESSID=token2;PHPSESSID=token1 å‘ç°PHPæ˜¯èƒ½æ¥æ”¶åˆ°ä¸¤ä¸ªåŒåCOOKIEçš„ï¼Œä½†åªå–äº†ç¬¬ä¸€ä¸ªå½“çœŸæ­£çš„session idï¼ï¼\næŸ¥çœ‹phpæºç ï¼Œåœ¨æ–‡ä»¶php_variables.cçš„220è¡Œï¼Œæœ‰æ³¨é‡Šå‡ºphpå¯¹åŒåcookieçš„å¤„ç†è§„åˆ™ï¼š\nhttps://github.com/php/php-src/blob/e10e151e9b92313a7085272c85bebf6c82017fce/main/php_variables.c #220\n/* * According to rfc2965, more specific paths are listed above the less specific ones. * If we encounter a duplicate cookie name, we should skip it, since it is not possible * to have the same (plain text) cookie name for the same path and we should not overwrite * more specific cookies with the less specific ones. */ if (Z_TYPE(PG(http_globals)[TRACK_VARS_COOKIE]) != IS_UNDEF \u0026amp;\u0026amp; symtable1 == Z_ARRVAL(PG(http_globals)[TRACK_VARS_COOKIE]) \u0026amp;\u0026amp; zend_symtable_str_exists(symtable1, index, index_len)) { zval_ptr_dtor(\u0026amp;gpc_element); } else { gpc_element_p = zend_symtable_str_update_ind(symtable1, index, index_len, \u0026amp;gpc_element); } æ„æ€æ˜¯å½“phpé‡åˆ°ç›¸åŒåç§°çš„cookieæ—¶ï¼Œåªä¼šä¿ç•™**$_SERVER[\u0026lsquo;HTTP_COOKIES\u0026rsquo;]**ä¸­çš„ç¬¬ä¸€ä¸ªcookieï¼Œè€Œä½™ä¸‹åŒåçš„ä¼šå¿½ç•¥è·³è¿‡ã€‚\nå¾ˆæ˜æ˜¾ï¼Œåªè¦æµè§ˆå™¨ä¼ cookieç»™phpæ—¶ï¼ŒæŠŠtoken1çš„session idæ”¾åœ¨æœ€å‰é¢ï¼Œè¿™æ ·å°±èƒ½æ­£ç¡®åˆ¤æ–­ç™»å½•æˆåŠŸäº†ï¼ é‚£ä¹ˆæµè§ˆå™¨ä¼ é€’cookieé¡ºåºæ˜¯å¦‚ä½•çš„å‘¢ï¼Ÿå‚è€ƒRFC6265 HTTP State Management Mechanismï¼Œå¯ä»¥å‘ç°ï¼š\n4.2.2 In particular,if the Cookie header contains two cookies with the same name (e.g., that were set with different Path or Domain attributes), servers SHOULD NOT rely upon the order in which these cookies appear in the header. 5.3. Storage Model 2. The user agent SHOULD sort the cookie-list in the following order: * Cookies with longer paths are listed before cookies with shorter paths. * Among cookies that have equal-length path fields, cookies with earlier creation-times are listed before cookies with later creation-times. NOTE: Not all user agents sort the cookie-list in this order, but this order reflects common practice when this document was written, and, historically, there have been servers that (erroneously) depended on this order. å¤§æ¦‚æ„æ€å°±æ˜¯ï¼š\npathè¶Šé•¿çš„è¯´æ˜åŒ¹é…è¶Šç²¾ç¡®ï¼Œé¡ºåºè¶Šé å‰ å‡å¦‚pathç›¸åŒï¼Œcookieåˆ›å»ºæ—¶é—´è¶Šæ—©çš„ï¼Œé¡ºåºè¶Šé å‰ é¡ºåºä¸domainæ²¡å…³ç³»\nRFCåŒæ—¶ä¹Ÿè¯´æ˜å¹¶ä¸æ˜¯æ‰€æœ‰çš„æµè§ˆå™¨éƒ½éµå®ˆè¿™ä¸ªï¼Œå¹¶ä¸”æœåŠ¡å™¨ä¹Ÿä¸åº”è¯¥ä¾èµ–äºcookieå‡ºç°çš„é¡ºåºã€‚ æœ€åé€šè¿‡æ›´æ”¹ä¿å­˜çš„session idåç§°æ¥é¿å…å†²çªè§£å†³é—®é¢˜ï¼Œä¸è¿‡å€’è®©æˆ‘åŠ æ·±äº†cookieçš„äº†è§£ã€‚\n","date":"2015-04-02T00:21:00Z","permalink":"https://blog.xenori.com/2015/04/loop-redirect-cause-by-cookie-conflict/","title":"è§£å†³cookieå†²çªå¯¼è‡´çš„ç™»å½•å¾ªç¯é‡å®šå‘"},{"content":"2013å¹´å·²è¿‡ï¼Œè¿‡å»ä¸€å¹´ç”Ÿæ´»å’Œå·¥ä½œä¸Šæ²¡æœ‰å¤§çš„å˜åŒ–ã€‚å¹´å‰çš„è®¡åˆ’å¦‚è‹±è¯­å­¦ä¹ ï¼Œå­¦è½¦å’Œæ¸¸æˆç­‰éƒ½æ²¡å®ç°åˆ°ï¼Œåœ¨å¹¿å·ç°åœ¨æ²¡ä»€ä¹ˆæœ‹å‹å’ŒåŒå­¦åœ¨ï¼Œä¸€ä¸ªäººæ‰§è¡ŒåŠ›å¤ªå·®äº†ï¼Œå‘¨å…­æ—¥éšä¾¿æ‰¾ä¸ªå·æ‡’çš„ç†ç”±å°±æ··è¿‡äº†ã€‚ã€‚ã€‚\nä»Šå¹´åœ¨å·¥ä½œä¸Šæ˜¯å¿™ç¢çš„ä¸€å¹´ï¼Œä¸ŠåŠå¹´å¿™äºæŠŠCMSç³»ç»Ÿæ•°æ®å±‚åˆ‡æ¢åˆ°æ•°æ®ä¸­å¿ƒï¼Œä¸‹åŠå¹´å› å…¬å¸ä¸Šå¸‚ï¼Œå¿™äºæŠŠæœåŠ¡å™¨ä»windowsåˆ‡æ¢åˆ°linuxï¼Œå¼€å‘è¯­è¨€ä¹Ÿä»æœ€ç†Ÿæ‚‰çš„.NETè½¬ä¸ºä½¿ç”¨PHPã€‚è¿™ä¸€å¹´å¿™ç€å·¥ä½œï¼Œå¿™ç€åŠ ç­ï¼Œè®¡åˆ’çš„æ—…æ¸¸æ²¡å»åˆ°ï¼Œç”Ÿæ´»çŠ¶æ€ä¹Ÿæ˜¯è¶Šè¿‡è¶Šå·®ï¼Œè€Œå…¬å¸ä¸Šå¸‚ä¹Ÿæ²¡ä¸ºæ”¶å…¥å¸¦æ¥ä»€ä¹ˆæ”¶ç›Šï¼Œå¯¹å…¬å¸æœ‰ç‚¹å¤±æœ›é€äº†ã€‚2014å¹´å·¥ä½œå‡†å¤‡æŠŠé‡å¿ƒæ”¾å›åˆ°ç”Ÿæ´»ä¸­ï¼Œä¸èƒ½è¢«å·¥ä½œç»‘æ¶äº†ï¼Œå¤ªç´¯äº†ã€‚\nå¹´å‰å› å…¬å¸ç­–ç•¥è°ƒæ•´ï¼Œå¼€å‘è¯­è¨€å˜æ›´ï¼Œå¾ˆå¤šæ—§åŒäº‹éƒ½åœ¨ä¸ŠåŠå¹´ç¦»èŒï¼Œåªå‰©ä¸‹ä¸€ä¸¤ä¸ªäººç»´æŠ¤é¢‘é“ï¼Œä¸‹åŠå¹´æ–°åŒäº‹é™†é™†ç»­ç»­å…¥èŒï¼ŒæŒ£äº†åŠå¹´ï¼Œæ˜¥èŠ‚ååº”è¯¥å°±èƒ½å›å¤åˆ°æ­£è½¨äº†ã€‚ä¸è¿‡ç°åœ¨å‘ç°æ€æ ·ä¹Ÿèä¸è¿›æ–°å›¢é˜Ÿï¼Œä¹Ÿä¸å–œæ¬¢æ–°å›¢é˜Ÿæ°”æ°›ï¼Œåªå¸Œæœ›å¹´åèƒ½æ‰¾åˆ°ä¸é”™çš„å·¥ä½œï¼Œæ¢ä¸‹ç¯å¢ƒã€‚\n2014å¹´å°±è®¡åˆ’ä¸“ä¸šæ–¹é¢å­¦ä¸‹è‹±è¯­ï¼Œgolangå’Œçœ‹å¤šäº›å¼€æºä»£ç ï¼Œä¸šä½™æ–¹é¢å­¦ä¸‹æ¸¸æ³³å’Œæ‘„å½±ã€‚ç”Ÿæ´»ä¸Šå¸Œæœ›èƒ½å˜å¾—è‡ªä¿¡è±è¾¾äº›ï¼Œè®©è¿‡å»éƒ½è¿‡å»å§ã€‚å¯¹äºå®¶äººï¼Œå› ä¸ºä»ä¸­å­¦åå°±ä¸€ä¸ªäººå‡ºæ¥ä½å’Œç”Ÿæ´»ï¼Œçš„ç¡®æ²¡èŠ±å¤ªå¤šç²¾åŠ›å…³æ³¨å®¶äººï¼Œå¸Œæœ›ä»Šå¹´èƒ½åšå¾—æ›´å¥½ã€‚\n2013å¹´å¹´åº¦é€‰æ‹©å¦‚ä¸‹ï¼š\nå¹´åº¦æ¸¸æˆï¼š\næ—…è¡ŒTravel ç¬¬äºŒæ¬¡è¶…çº§æœºå™¨äººå¤§æˆ˜OG ä»Šå¹´å·¥ä½œå¤ªå¿™ï¼Œå¯¹æ¸¸æˆçš„çƒ­æƒ…ä¹Ÿä¸‹é™äº†ï¼Œå°±é€šäº†PSNæ¸¸æˆã€Šæ—…è¡Œã€‹ï¼Œå°æ—¶æœ€å–œæ¬¢çš„æœºå™¨æ‰“äº†20è¯å·¦å³å°±ä¸ç»§ç»­äº†ã€‚ã€‚ã€‚è™½ç„¶ä¸æƒ³æ‰¿è®¤ï¼Œçœ‹æ¥æ˜¯è¿‡äº†å–œæ¬¢æ¸¸æˆçš„å¹´é¾„äº†ã€‚ã€‚ã€‚\nå¹´åº¦åŠ¨ç”»ï¼š\nçŸ³å¤´é—¨ è¿›å‡»çš„å·¨äºº ã€ŠçŸ³å¤´é—¨ã€‹æ¯”è¾ƒæƒŠå–œï¼Œçœ‹ç”»é£æ˜¯æˆ‘ä¸€èˆ¬ä¸ä¼šäº‘çœ‹çš„åŠ¨ç”»ï¼Œä½†åœ¨bilibiliä¸Šå¾ˆå¤šäººæ¨èï¼ŒèŠ±äº†ä¸€æ™šé€šå®µçœ‹å®Œï¼Œå¾ˆå–œæ¬¢ã€‚æåã€Škill la killã€‹\nå¹´åº¦éŸ³ä¹ï¼š\nRain piano ver. Feels Like Coming Home Everybody Hurts The Beginning ã‚ã®æ—¥ã‚¿ã‚¤ãƒ ãƒã‚·ãƒ³ Let Her Go éŸ³ä¹éƒ½æ˜¯åŠ¨ç”»å’Œè§†é¢‘çš„éŸ³ä¹ï¼Œå¾ˆå¤šæ­Œéƒ½æ˜¯çœ‹bilibiliè§†é¢‘æ‰¾åˆ°çš„ï¼šï¼‰\nå¹´åº¦ç”µå½±ï¼š\nç–¯ç‹‚åŸå§‹äºº ç›—é’¥åŒ™çš„æ–¹æ³• / éµæ³¥æ£’ã®ãƒ¡ã‚½ãƒƒãƒ‰ æ—¥æœ¬ç”µå½±ã€Šç›—é’¥åŒ™çš„æ–¹æ³•ã€‹æ˜¯ä¸ªå°æƒŠå–œï¼Œå®åœ¨æ²¡çŒœåˆ°ç»“å±€ï¼šï¼‰\nå¹´åº¦å›¾ä¹¦ï¼š æ— \nä»Šå¹´çœ‹ä¹¦éƒ½è½¬åˆ°å¤šçœ‹äº†ï¼ŒåŸºæœ¬ä¸å†ä¹°çº¸ä¹¦ï¼Œéƒ½æ˜¯ä¹°ç”µå­ç‰ˆï¼Œä¸è¿‡æ²¡çœ‹åˆ°æœ€ç‰¹åˆ«å°è±¡æ·±åˆ»çš„ã€‚ä»Šå¹´æ„Ÿè§‰åœ¨ä¸Šç­è·¯ä¸Šçœ‹äº†ä¸å°‘ä¹¦ï¼Œä»¥æŠ€æœ¯ä¹¦ä¸ºä¸»ï¼Œä½†åœ¨è±†ç“£ä¸Šçœ‹ä¸‹æ¥ï¼Œä¹Ÿæ²¡å¤šå°‘==ï¼\nå¹´åº¦APPï¼š\npocket çŸ¥ä¹ å¤šçœ‹ å¹´åº¦ç½‘ç«™ï¼š\nbilibili ä»Šå¹´çœ‹ç”µå½±ï¼Œçœ‹æ–°ç•ªåŸºæœ¬éƒ½åœ¨bilibiliçœ‹ï¼Œå¼€å§‹å–œæ¬¢ä¸Šbilibiåº”è¯¥æ˜¯å»å¹´ä¸€èµ·çœ‹ã€ŠèˆŒå°–ä¸Šçš„ä¸­å›½ã€‹ï¼Œå¾ˆçƒ­é—¹ï¼Œå“ˆå“ˆã€‚ä¹‹åçœ‹ã€Šçˆ±æƒ…å…¬å¯“3ã€‹ï¼Œä»Šå¹´æœ«çš„ã€Šçˆ¸çˆ¸å»å“ªå„¿ã€‹ä¹Ÿæ˜¯ä¸å°çš„é«˜æ½®ã€‚\nå¹´åº¦æ•°ç ï¼š\nMacbook Air RX100 MX2 airæ˜¯ä¸ºäº†å·¥ä½œä¸Šè½¬linuxå‡†å¤‡çš„ï¼Œä½†ä¸€å¹´ä¸‹æ¥ç”¨å¾—ä¸å¤šã€‚ã€‚ã€‚MX2å¾ˆå–œæ¬¢ï¼Œåœ¨å›½äº§æ‰‹æœºä¸­ï¼Œé­…æ—çš„UIå’Œæ‰‹æœºå¤–å½¢æ˜¯æœ€å–œæ¬¢çš„äº†ï¼Œæ¯”è¾ƒiphone5å¥½çœ‹ï¼Œå°±æ˜¯ä¿¡å·çš„ç¡®ä¸å¥½ã€‚\n","date":"2014-01-01T21:14:00+08:00","permalink":"https://blog.xenori.com/2014/01/the-summary-of-2013/","title":"2013å¹´æ€»ç»“"},{"content":"é¢„è£…ç¼–è¯‘ç¯å¢ƒ åœ¨ubuntuä¸­æ‰§è¡Œä¸‹é¢å‘½ä»¤å®‰è£…ç¼–è¯‘ä¾èµ–è½¯ä»¶\n\u0026gt; sudo apt-get install \\ libxml2-dev \\ libcurl4-openssl-dev \\ libjpeg-dev \\ libpng-dev \\ libxpm-dev \\ libmysqlclient-dev \\ libpq-dev \\ libicu-dev \\ libfreetype6-dev \\ libldap2-dev \\ libxslt-dev ä¸‹è½½phpæºä»£ç  wget http://us3.php.net/get/php-5.5.5.tar.gz/from/cn2.php.net/mirror å¼€å§‹ç¼–è¯‘å®‰è£… \u0026gt; tar zxf php-5.5.5.tar.gz \u0026gt; cd php-5.5.5 \u0026gt; sudo ./configurate ... å®‰è£…apcå’Œmemcacheæ‰©å±•","date":"2013-11-12T01:07:00+08:00","permalink":"https://blog.xenori.com/2013/11/install-php-from-source-in-ubuntu/","title":"åœ¨ubuntuä¸­ç¼–è¯‘å®‰è£…php"},{"content":"phpä¸­æœ‰ä¸‰ä¸ªå‡½æ•°ä¸æ•æ‰è¿è¡Œé”™è¯¯æœ‰å…³ï¼Œåˆ†åˆ«æ˜¯ï¼š\nset_error_handlerï¼šè¿è¡Œé”™è¯¯å¤„ç†å‡½æ•°ï¼Œphpå†…æ ¸æ‰§è¡Œä»£ç å‡ºé”™æ—¶ä¸€èˆ¬æ˜¯è§¦å‘errorï¼Œè€Œä¸æ˜¯æŠ›å¼‚å¸¸ï¼ŒæŠ›å¼‚å¸¸æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­ç”¨çš„\nset_exception_handlerï¼šè¿è¡Œå¼‚å¸¸ä¿¡æ¯å¤„ç†å‡½æ•°ï¼Œå½“ä»£ç ä¸­throwçš„å¼‚å¸¸æ²¡æœ‰è¢«try-catchæ•è·æ—¶ï¼Œå°±ä¼šè°ƒç”¨è¯¥å‡½æ•°ã€‚phpä¸­errorå’Œexceptionçš„åŒºåˆ«å¯ä»¥çœ‹è¿™ç¯‡å›ç­”ï¼šphp-exceptions-vs-errors\nregister_shutdown_functionï¼šè„šæœ¬å…³é—­æ‰§è¡Œå‡½æ•°ï¼Œä¼šåœ¨phpè„šæœ¬æ¯æ¬¡æ‰§è¡Œå®Œæˆé€€å‡ºå‰è¿è¡Œã€‚\nä¸ºäº†ä¿è¯è¿è¡Œé”™è¯¯èƒ½è¢«é¡ºåˆ©æ•æ‰åˆ°ï¼Œå¿…é¡»ä¿è¯åœ¨æœ‰é”™çš„ç¨‹åºæ‰§è¡Œå‰å…ˆæ³¨å†Œäº†é”™è¯¯å¤„ç†å‡½æ•°ã€‚ ä¸€èˆ¬é”™è¯¯å¤„ç†ä»£ç ç»“æ„å¦‚ä¸‹ï¼š\nfunction handle_normal_error($errno, $errstr, $errfile, $errline) { // æŠŠerrorå°è£…ä¸ºå¼‚å¸¸ï¼Œç”±å¼‚å¸¸å¤„ç†å‡½æ•°ç»Ÿä¸€å¤„ç† throw new ErrorException($errstr, 0, $errno, $errfile, $errline); // don\u0026#39;t execute php default exception action return true; } set_error_handler(\u0026#39;handle_normal_error\u0026#39;, E_ALL | E_STRICT); function user_exception_handler($ex) { switch ($errno) { case E_USER_ERROR: send_error_to_log_server($msg); break; case E_USER_WARNING: // do something break; default: // do something break; } } set_exception_handler(\u0026#39;user_exception_handler\u0026#39;); function handle_fatal_error() { $error = error_get_last(); if (isset($error[\u0026#39;type\u0026#39;]) \u0026amp;\u0026amp; E_ERROR == $error[\u0026#39;type\u0026#39;]) { send_error_to_log_server($msg); } } register_shutdown_function(\u0026#39;handle_fatal_error\u0026#39;); åœ¨thinkphp 3.13ä¸­ï¼Œå·²ç»åšäº†å…¨å±€å¯¼å¸¸å¤„ç†ï¼Œä»£ç å¦‚ä¸‹ï¼š {% codeblock Think.class.php %}\n/** * åº”ç”¨ç¨‹åºåˆå§‹åŒ– * @access public * @return void */ static public function start() { // è®¾å®šé”™è¯¯å’Œå¼‚å¸¸å¤„ç† register_shutdown_function(array(\u0026lsquo;Think\u0026rsquo;,\u0026lsquo;fatalError\u0026rsquo;)); set_error_handler(array(\u0026lsquo;Think\u0026rsquo;,\u0026lsquo;appError\u0026rsquo;)); set_exception_handler(array(\u0026lsquo;Think\u0026rsquo;,\u0026lsquo;appException\u0026rsquo;));\n... } /** * è‡ªå®šä¹‰å¼‚å¸¸å¤„ç† * @access public * @param mixed $e å¼‚å¸¸å¯¹è±¡ */ static public function appException($e) { $error = array(); $error[\u0026lsquo;message\u0026rsquo;] = $e-\u0026gt;getMessage(); $trace = $e-\u0026gt;getTrace(); if(\u0026rsquo;throw_exception\u0026rsquo;==$trace[0][\u0026lsquo;function\u0026rsquo;]) { $error[\u0026lsquo;file\u0026rsquo;] = $trace[0][\u0026lsquo;file\u0026rsquo;]; $error[\u0026rsquo;line\u0026rsquo;] = $trace[0][\u0026rsquo;line\u0026rsquo;]; }else{ $error[\u0026lsquo;file\u0026rsquo;] = $e-\u0026gt;getFile(); $error[\u0026rsquo;line\u0026rsquo;] = $e-\u0026gt;getLine(); } Log::record($error[\u0026lsquo;message\u0026rsquo;],Log::ERR); halt($error); }\n/** * è‡ªå®šä¹‰é”™è¯¯å¤„ç† * @access public * @param int $errno é”™è¯¯ç±»å‹ * @param string $errstr é”™è¯¯ä¿¡æ¯ * @param string $errfile é”™è¯¯æ–‡ä»¶ * @param int $errline é”™è¯¯è¡Œæ•° * @return void */ static public function appError($errno, $errstr, $errfile, $errline) { switch ($errno) { case E_ERROR: case E_PARSE: case E_CORE_ERROR: case E_COMPILE_ERROR: case E_USER_ERROR: ob_end_clean(); // é¡µé¢å‹ç¼©è¾“å‡ºæ”¯æŒ if(C('OUTPUT_ENCODE')){ $zlib = ini_get('zlib.output_compression'); if(empty($zlib)) ob_start('ob_gzhandler'); } $errorStr = \u0026quot;$errstr \u0026quot;.$errfile.\u0026quot; ç¬¬ $errline è¡Œ.\u0026quot;; if(C('LOG_RECORD')) Log::write(\u0026quot;[$errno] \u0026quot;.$errorStr,Log::ERR); function_exists('halt')?halt($errorStr):exit('ERROR:'.$errorStr); break; case E_STRICT: case E_USER_WARNING: case E_USER_NOTICE: default: $errorStr = \u0026quot;[$errno] $errstr \u0026quot;.$errfile.\u0026quot; ç¬¬ $errline è¡Œ.\u0026quot;; trace($errorStr,'','NOTIC'); break; } } // è‡´å‘½é”™è¯¯æ•è· static public function fatalError() { // ä¿å­˜æ—¥å¿—è®°å½• if(C('LOG_RECORD')) Log::save(); if ($e = error_get_last()) { switch($e['type']){ case E_ERROR: case E_PARSE: case E_CORE_ERROR: case E_COMPILE_ERROR: case E_USER_ERROR: ob_end_clean(); function_exists('halt')?halt($e):exit('ERROR:'.$e['message']. ' in \u0026lt;b\u0026gt;'.$e['file'].'\u0026lt;/b\u0026gt; on line \u0026lt;b\u0026gt;'.$e['line'].'\u0026lt;/b\u0026gt;'); break; } } } {% endcodeblock %}\n{% codeblock functions.php %}\n/**\né”™è¯¯è¾“å‡º @param mixed $error é”™è¯¯ @return void */ function halt($error) { $e = array(); if (APP_DEBUG) { //è°ƒè¯•æ¨¡å¼ä¸‹è¾“å‡ºé”™è¯¯ä¿¡æ¯ if (!is_array($error)) { $trace = debug_backtrace(); $e[\u0026lsquo;message\u0026rsquo;] = $error; $e[\u0026lsquo;file\u0026rsquo;] = $trace[0][\u0026lsquo;file\u0026rsquo;]; $e[\u0026rsquo;line\u0026rsquo;] = $trace[0][\u0026rsquo;line\u0026rsquo;]; ob_start(); debug_print_backtrace(); $e[\u0026rsquo;trace\u0026rsquo;] = ob_get_clean(); } else { $e = $error; } } else { //å¦åˆ™å®šå‘åˆ°é”™è¯¯é¡µé¢ $error_page = C(\u0026lsquo;ERROR_PAGE\u0026rsquo;); if (!empty($error_page)) { redirect($error_page); } else { if (C(\u0026lsquo;SHOW_ERROR_MSG\u0026rsquo;)) $e[\u0026lsquo;message\u0026rsquo;] = is_array($error) ? $error[\u0026lsquo;message\u0026rsquo;] : $error; else $e[\u0026lsquo;message\u0026rsquo;] = C(\u0026lsquo;ERROR_MESSAGE\u0026rsquo;); } } // åŒ…å«å¼‚å¸¸é¡µé¢æ¨¡æ¿ include C(\u0026lsquo;TMPL_EXCEPTION_FILE\u0026rsquo;); exit; } {% endcodeblock %}\n","date":"2013-11-04T00:48:00+08:00","permalink":"https://blog.xenori.com/2013/11/handle-fatal-error-in-php/","title":"æ•æ‰phpä¸­çš„fatal erroré”™è¯¯"},{"content":"ç”±äºå›½å†…ç½‘ç»œçš„åŸå› ï¼Œåœ¨å®‰è£…rubyç›¸å…³è½¯ä»¶æ—¶ï¼Œç»å¸¸ä¼šåœ¨è¯·æ±‚rubygems.orgä¸‹è½½æ—¶ä¸€ç›´å¡ç€ä¸åŠ¨ï¼Œè¿™æ—¶å¯ä»¥åˆ‡æ¢åˆ°æ·˜å®çš„é•œåƒæºï¼Œé€Ÿåº¦å—–å—–çš„ã€‚\nhttp://ruby.taobao.org/\nè¯¦ç»†çš„æ›´æ”¹æ–¹æ³•å¯ä»¥è®¿é—®ä¸Šé¢çš„ç½‘å€ï¼Œå‡å¦‚é¡¹ç›®ä¸‹æœ‰GemFileæ–‡ä»¶ï¼Œè¿˜éœ€è¦æ›´æ”¹GemFileæ–‡ä»¶çš„é…ç½®æºåœ°å€ã€‚\nlinuxæ“ä½œç³»ç»ŸåŒ…ç®¡ç†é•œåƒç«™ï¼š centosã€ubuntuç­‰linuxå‘è¡Œç‰ˆçš„yumå’ŒaptåŒ…ç®¡ç†å·¥å…·é•œåƒç«™ï¼š\nhttp://mirrors.aliyun.com/\nhttp://mirrors.163.com/\n","date":"2013-07-15T00:15:00+08:00","permalink":"https://blog.xenori.com/2013/07/change-rubygem-source/","title":"æ›´æ”¹rubygemsé•œåƒæº"},{"content":"è½¯ä»¶ç¯å¢ƒ ç»§ç»­ä¸‹é¢çš„ç¤ºä¾‹å‰ï¼Œéœ€è¦ä¿è¯å®‰è£…äº†ä¸‹é¢çš„è½¯ä»¶ï¼š\nJDK 1.6 Android SDK IntelliJ IDEA 12 Scala 2.10.2 Maven 3 IntelliJ IDEA 12æ­£å¸¸ä¹Ÿå¯ä»¥æ¢ä¸ºAndroid Studioï¼Œä¸è¿‡å› ä¸ºAndroid Studioæ˜¯åŸºäºIntelliJ IDEA 13 EAPå¼€å‘çš„ï¼Œå½“å‰scala pluginè¿˜ä¸æ”¯æŒ13 EAPï¼Œæ‰€ä»¥è¿˜æ˜¯å»ºè®®ä½¿ç”¨IntelliJ IDEA 12ï¼Œç­‰scala pluginæ”¯æŒæœ€æ–°ç‰ˆåï¼Œå†æ¢ä¸ºAndroid Studioè¿›è¡Œå¼€å‘ã€‚\nç¤ºä¾‹é¡¹ç›® hello-scaloid-mavenæ˜¯ä¸€ä¸ªå®Œå…¨ä½¿ç”¨mavenç¼–è¯‘çš„ç¤ºä¾‹é¡¹ç›®,å€ŸåŠ©android maven pluginæ’ä»¶å¯ä»¥æŠŠä»£ç ç¼–è¯‘ä¸ºandroidçš„apkæ–‡ä»¶ã€‚\n1ã€ä¸‹è½½hello scaloid mavené¡¹ç›®åˆ°æœ¬åœ° {% codeblock lang:ruby %} git clone https://github.com/pocorall/hello-scaloid-maven.git hello-scaloid-maven {% endcodeblock %}\n2ã€æ‰“å¼€POM.xmlæ–‡ä»¶ï¼Œåœ¨ä¸­åŠ ä¸ŠAndroid SDKçš„æœ¬åœ°è·¯å¾„ {% codeblock lang:xml %} \u0026lt;scala.version\u0026gt;2.10.2\u0026lt;/scala.version\u0026gt; \u0026lt;android.sdk.path\u0026gt;/Applications/android sdk/\u0026lt;/android.sdk.path\u0026gt; {% endcodeblock %}\n3ã€æ‰§è¡Œmavenå‘½ä»¤ä¸‹è½½ä¾èµ–è½¯ä»¶ {% codeblock lang:ruby %} mvn clean package {% endcodeblock %}\n4ã€å½“æç¤ºbuild successåï¼Œç”¨IntelliJ IDEAçš„â€œFile-\u0026gt;Open Projectâ€æ‰“å¼€POM.xmlæ–‡ä»¶ã€‚è¿™é‡Œä¸å»ºè®®ç›´æ¥ä½¿ç”¨mvn idea:ideaå‘½ä»¤ç”Ÿæˆçš„IntelliJé¡¹ç›®æ–‡ä»¶ï¼Œå› ä¸ºIntelliJä¸€ç›´åœ¨æ›´æ–°ï¼Œè€Œmvnç”Ÿæˆçš„é¡¹ç›®æ–‡ä»¶å¯èƒ½æ ¼å¼æ¯”è¾ƒæ—§äº†ã€‚\n5ã€å› ä¸ºandroidä¸åŒ…æ‹¬scalaç±»åº“ï¼Œæ‰€ä»¥ç¼–è¯‘æ—¶éœ€è¦æŠŠscalaå’Œscaloidç±»åº“ä¹Ÿç¼–è¯‘åˆ°apkä¸­ï¼Œä½†ä¸€ä¸ªapkæ˜¯æœ‰æ–¹æ³•æ•°é‡é™åˆ¶çš„ï¼Œå½“ä¸ä½¿ç”¨Proguardè¿›è¡Œè£å‡ä¼˜åŒ–æ—¶ï¼Œä½¿ç”¨IntelliJ IDEAç¼–è¯‘é¡¹ç›®ç»å¸¸ä¼šæç¤ºé”™è¯¯ï¼š {% codeblock lang:ruby %} Android Dex: [hello-scaloid-maven] trouble writing output: Too many methods: 112662; max is 65536. By package: Android Dex: [hello-scaloid-maven] 2 android.annotation Android Dex: [hello-scaloid-maven] 32 android.gesture Android Dex: [hello-scaloid-maven] 48101 org.scaloid.common \u0026hellip; {% endcodeblock %}\n6ã€IntelliJ IDEAé»˜è®¤ä¸æ‰“å¼€Proguardï¼Œä¸‹é¢æˆ‘ä»¬ä¿®æ”¹é…ç½®æ‰“å¼€Proguardã€‚æ‰“å¼€â€œFile-\u0026gt;Prject Structure-\u0026gt;Facets-\u0026gt;android-\u0026gt;compilerâ€ï¼Œå‹¾é€‰ä¸ŠEnable ProGuardé¡¹ã€‚å¹¶æŠŠConfig fileæŒ‡å‘é¡¹ç›®æ ¹ç›®å½•çš„proguard.cfgæ–‡ä»¶ã€‚\næ³¨æ„ï¼šMACä¸‹android sdkç›®å½•å‡å¦‚æœ‰ç©ºæ ¼çš„è¯ï¼Œç¼–è¯‘æ—¶ä¼šæç¤ºé”™è¯¯ï¼š\nUnable to access jarfile /Applications/Android è¿™æ—¶éœ€è¦æ”¹ä¸‹Proguardè„šæœ¬ã€‚æ‰“å¼€â€œ$(android sdk path)/tools/proguard/bin/proguard.shâ€æ–‡ä»¶ï¼ŒæŠŠâ€œ$PROGUARD_HOME/lib/proguard.jarâ€è·¯å¾„ç”¨åŒå¼•å·æ‹¬èµ·æ¥ã€‚è¯¦ç»†å¯å‚è€ƒï¼šhttp://fiahfy.blogspot.com/2013/06/unable-to-access-jarfile.html\n7ã€è®¾ç½®å¥½Proguardåï¼Œå†ä½¿ç”¨IntelliJ IDEAç¼–è¯‘åº”è¯¥å°±èƒ½æˆåŠŸäº†ã€‚Have funï¼ï¼\nTipï¼šå‡å¦‚ä½ è§‰å¾—androidæ¨¡æ‹Ÿå™¨å¤ªæ…¢ï¼Œå¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« åšä¼˜åŒ–ï¼Œé€Ÿåº¦æé«˜10å€ï¼ï¼https://www.virag.si/2012/10/speeding-up-android-emulator/\n","date":"2013-06-30T15:41:00+08:00","permalink":"https://blog.xenori.com/2013/06/develop-android-with-intellij-idea-12-and-scaloid/","title":"ä½¿ç”¨scala+scaloid+IntelliJ IDEA 12å¼€å‘androidåº”ç”¨"},{"content":"å·¥ä½œç”¨ç”µè„‘å°†ä¼šåˆ‡æ¢åˆ°ubuntuä¸Šäº†ï¼Œè®°å½•ä¸‹ubuntuå¸¸ç”¨æ“ä½œã€‚\n===å‡çº§åˆ°php5.4=== For Ubuntu 11.10/12.04: sudo add-apt-repository ppa:ondrej/php5 sudo apt-get update sudo apt-get install php5 For Ubuntu 10.04 LTS, run the following commands (Thanks to Ivan Castellanos for the extra tip): sudo echo \u0026quot;deb http://ppa.launchpad.net/ondrej/php5/ubuntu lucid main\u0026quot; \u0026gt;\u0026gt; /etc/apt/sources.list sudo echo \u0026quot;deb-src http://ppa.launchpad.net/ondrej/php5/ubuntu lucid main\u0026quot; \u0026gt;\u0026gt; /etc/apt/sources.list sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys E5267A6C sudo apt-get update sudo apt-get install php5 You can check if PHP 5.4.x is successfully installed with this command: php5 -v http://www.zimbio.com/Ubuntu+Linux/articles/D_AsJR2qAL6/How+Upgrade+PHP+5+4+Ubuntu\n===å¼€å¯ubuntuçš„rootå¸å·=== $ sudo passwd root [sudo] password for ramesh: Enter new UNIX password: Retype new UNIX password: passwd: password updated successfully http://www.thegeekstuff.com/2009/09/ubuntu-tips-how-to-login-using-su-command-su-gives-authentication-failure-error-message/\n===å®‰è£…SSHè¿æ¥æœåŠ¡=== sudo apt-get install openssh-server https://help.ubuntu.com/10.04/serverguide/openssh-server.html\n===apacheå¸è½½ã€nginxå’Œphpå®‰è£…=== http://cc.ecjtu.net/posts/php-5-4-Nginx-ubuntu-make-install\nphpäº¤äº’å‘½ä»¤è¡Œï¼šhttp://phpsh.org/\n","date":"2012-10-30T15:14:22Z","permalink":"https://blog.xenori.com/2012/10/ubuntu-daily/","title":"ubuntuæ—¥å¸¸æ“ä½œ"},{"content":"IDA Proæ˜¯ä¸€æ¬¾å¼ºå¤§çš„åæ±‡ç¼–è½¯ä»¶ï¼Œç‰¹æœ‰çš„IDAè§†å›¾å’Œäº¤å‰å¼•ç”¨ï¼Œå¯ä»¥æ–¹ä¾¿ç†è§£ç¨‹åºé€»è¾‘å’Œå¿«é€Ÿå®šä½ä»£ç ç‰‡æ–­ï¼Œä»¥æ–¹ä¾¿ä¿®æ”¹ã€‚\nç¤ºä¾‹ç¨‹åº ä¸‹é¢ä¼šé€šè¿‡ä¿®æ”¹ç¤ºä¾‹ç¨‹åºçš„è¾“å‡ºå­—ç¬¦ä¸²ï¼Œæ¥è®²è§£å¦‚ä½•ä½¿ç”¨IDA Proã€‚\n#include main() { int n; scanf (\u0026quot;%d\u0026quot;,\u0026amp;n); if (n \u0026gt; 0) printf(\u0026quot;a \u0026gt; 0\u0026quot;); //åé¢ä¼šç”¨IDA ProæŠŠ'a'æ”¹æˆ'n' else printf(\u0026quot;n \u0026lt; 0\u0026quot;); } ç¼–è¯‘åçš„ç¨‹åºä¸‹è½½ï¼šdemo\nè¿è¡ŒIDA Pro è¿è¡ŒIDA Proï¼Œå¹¶ä½¿ç”¨PEæ–‡ä»¶çš„æ–¹å¼æ‰“å¼€ç¤ºä¾‹çš„test.exeæ–‡ä»¶ã€‚IDA Proä¼šæ–°å»ºä¸€ä¸ªå·¥ç¨‹ï¼Œå¹¶å¼€å§‹åæ±‡ç¼–ç¨‹åºã€‚åæ±‡ç¼–å®Œæˆåï¼Œåœ¨[IDA-View]çª—å£ä¸­ï¼Œå¯ä»¥çœ‹åˆ°ç¨‹åºé€»è¾‘çš„æ ‘å½¢å›¾ï¼Œå¦‚ä¸‹ï¼š\næ ‘å½¢å›¾æŠŠæ¡ä»¶åˆ†æ”¯æ¸…æ™°åœ°æ˜¾ç¤ºå‡ºæ¥äº†ï¼Œç»¿è‰²çº¿è¿ç€çš„è¡¨ç¤ºæ¡ä»¶ä¸ºtrueæ—¶æ‰§è¡Œçš„é€»è¾‘ï¼Œè€Œçº¢è‰²çº¿è¡¨ç¤ºæ¡ä»¶ä¸ºfalseæ—¶æ‰§è¡Œçš„é€»è¾‘ã€‚å³ä¸‹è§’æœ‰IDAè§†å›¾çš„ç¼©ç•¥å›¾ï¼Œåœ¨ä¸Šé¢ç‚¹å‡»å¯ä»¥å¿«é€Ÿå®šä½åˆ°è§†å›¾çš„æŒ‡å®šä½ç½®ã€‚\nIDAçš„å·¥å…·æ æœ‰å‡ ä¸ªæŒ‰é’®å¯¹å®šä½ä»£ç å¾ˆé‡è¦ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\nä»å·¦åˆ°å³åˆ†åˆ«æ˜¯ï¼š Open exports window:æ‰“å¼€å¯¼å‡ºçª—å£ Open import window:æ‰“å¼€å¯¼å…¥çª—å£ *Open names window:å‡½æ•°å’Œå‚æ•°çš„å‘½ååˆ—è¡¨ *Open functions window:ç¨‹åºè°ƒç”¨çš„æ‰€æœ‰å‡½æ•°çª—å£ *Open strings window: æ‰“å¼€å­—ç¬¦ä¸²æ˜¾ç¤ºçª—å£ï¼Œä¼šåˆ—å‡ºç¨‹åºä¸­çš„æ‰€æœ‰å­—ç¬¦ä¸²ï¼Œè¯¥çª—å£æœ‰åŠ©äºä½ é€šè¿‡ç¨‹åºçš„è¿è¡Œè¾“å‡ºé€†å‘æ‰¾å‡ºå¯¹åº”çš„ä»£ç ç‰‡æ–­ã€‚\nå®šä½ä»£ç ç‰‡æ–­ å‡è®¾æˆ‘ä»¬ç°åœ¨æ¥åˆ°ä¸ªä»»åŠ¡ï¼Œéœ€ä¿®æ­£ç¨‹åºï¼ŒæŠŠè¾“å‡ºâ€œa \u0026gt; 0â€ä¿®æ­£ä¸ºâ€œn \u0026gt; 0â€ã€‚ç¤ºä¾‹ç¨‹åºæ¯”è¾ƒç®€å•ï¼Œç›´æ¥çœ‹IDAè§†å›¾æˆ‘ä»¬å°±èƒ½æ‰¾åˆ°éœ€ä¿®æ”¹çš„ä»£ç ç‰‡æ–­ï¼Œä½†å®é™…å¤„ç†æ—¶ï¼Œå¯èƒ½ç¨‹åºæœ‰å‡ må¤§ï¼Œé€šè¿‡ä¸€ä¸ªä¸ªçœ‹IDAè§†å›¾å·²æ²¡æ³•æœ‰æ•ˆæ‰¾åˆ°ç›¸å…³çš„æ‰§è¡Œä»£ç ç‰‡æ–­ï¼Œè¿™æ—¶æ€ä¹ˆåŠï¼Ÿ ä½¿ç”¨å­—ç¬¦ä¸²çª—å£å’ŒIDAå¼ºå¤§çš„äº¤å‰å¼•ç”¨ï¼ ç‚¹å‡»å·¥å…·æ çš„[Open strings windows]æŒ‰é’®ï¼Œå¯ä»¥çœ‹åˆ°å¦‚ä¸‹çš„ç¨‹åºå­—ç¬¦ä¸²ï¼š\nç¨‹åºçš„å­—ç¬¦ä¸²è¾ƒå°‘ï¼Œå¯ä»¥å¾ˆå¿«åœ°çœ‹åˆ°æˆ‘ä»¬éœ€è¦çš„å­—ç¬¦ä¸²â€œa \u0026gt; 0â€åœ¨æ•°æ®æ®µ00403003ä½ç½®ã€‚å‡å¦‚å­—ç¬¦ä¸²å¤šåˆ°å·²ä¸èƒ½è‚‰çœ¼å®šä½æŸ¥æ‰¾ï¼Œå› ä¸ºå­—ç¬¦ä¸²çª—å£æ˜¯æ²¡æœ‰æŸ¥æ‰¾åŠŸèƒ½çš„ï¼Œè¿™æ—¶éœ€è¦å€ŸåŠ©å…¶ä»–çš„æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œå¦‚notepadï¼Œeditplusç­‰ã€‚åœ¨å­—ç¬¦ä¸²çª—å£å†…å³é”®ï¼Œé€‰æ‹©èœå•[copy]å‘½ä»¤ï¼Œä¼šæŠŠå­—ç¬¦ä¸²çª—å£çš„æ‰€æœ‰å†…å®¹å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼Œå†ç²˜è´´åˆ°è®°äº‹æœ¬ä¸­æŸ¥æ‰¾å°±å¯ä»¥äº†ã€‚\nåŒå‡»å­—ç¬¦ä¸²çª—å£çš„è¯¥è¡Œå­—ç¬¦ä¸²ï¼Œä¼šè·³è½¬åˆ°IDAè§†å›¾çš„00403003ä½ç½®ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\nè¯¥ä½ç½®çš„å­—ç¬¦ä¸²åé¢ä¼šæ³¨é‡Šæœ‰DATA XREFçš„å­—æ ·ï¼Œè¿™æ˜¯ç¨‹åºä¸­å¼•ç”¨åˆ°è¯¥å­—ç¬¦ä¸²çš„ä»£ç ç‰‡æ–­çš„åœ°å€ï¼åœ¨è¯¥è¡Œä¸Šå³é”®ï¼Œé€‰æ‹©[Jump to cross reference\u0026hellip;]é¡¹ï¼Œä¼šç«‹å³è·³è½¬åˆ°å¼•ç”¨è¯¥å­—ç¬¦ä¸²çš„ä»£ç ç‰‡æ–­ä½ç½®ï¼\næœ€åå®šä½çš„ä»£ç ç‰‡æ–­ ä¸Šå›¾æ˜¾ç¤ºçš„æ±‡ç¼–æŒ‡ä»¤å³æ˜¯æˆ‘ä»¬è¦æ‰¾çš„ä»£ç ç‰‡æ–­ï¼Œè¿™æ—¶ç‚¹å‡»[Hex View-A]çª—å£ï¼Œä¼šåˆ‡æ¢åˆ°äºŒè¿›åˆ¶æµè§ˆæ¨¡å¼ï¼Œå¹¶é«˜äº®äº†æ±‡ç¼–ä»£ç çš„äºŒè¿›åˆ¶æ ¼å¼æŒ‡ä»¤ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\nå·²æ‰¾åˆ°éœ€ä¿®æ”¹çš„ä»£ç ç‰‡æ–­ï¼Œå‰©ä¸‹çš„åªéœ€æŠŠaæ”¹æˆnã€‚\nä¿®æ”¹ç¨‹åºæ–‡ä»¶ åœ¨IDAä¸­ï¼Œå¯ä»¥åœ¨[Hex View-A]çª—å£å³é”®é€‰æ‹©[Edit]æ¥ä¿®æ”¹äºŒè¿›åˆ¶æŒ‡ä»¤ã€‚ä¿®æ”¹åé€šè¿‡å³é”®é€‰æ‹©[Commit Change]å¯ä»¥çœ‹åˆ°ä¿®æ”¹åçš„IDAè§†å›¾ã€‚ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ç§æ–¹å¼çš„ä¿®æ”¹å¹¶ä¸ä¼šæ›´æ–°åŸå§‹ç¨‹åºæ–‡ä»¶ï¼Œå®é™…åªæ˜¯ä¿®æ”¹äº†IDAçš„é¡¹ç›®æ–‡ä»¶ï¼IDAä¸­åªé€‚åˆåšä¸€äº›éªŒè¯æ€§çš„ä¿®æ”¹ï¼Œç¡®ä¿æ­£ç¡®åå†ä½¿ç”¨å…¶ä»–å·¥å…·ä¿®æ”¹åŸå§‹ç¨‹åºæ–‡ä»¶ã€‚ åœ¨IDAä¸­éªŒè¯ä¿®æ”¹æ­£ç¡®åï¼Œå¯ä»¥ä½¿ç”¨UltraEditæˆ–Hex Workshopæ¥ä¿®æ”¹åŸå§‹ç¨‹åºæ–‡ä»¶ã€‚ä¸‹é¢ä¼šä»¥UltraEditä¸ºä¾‹æ¥è¯´æ˜å¦‚ä½•ä¿®æ”¹ã€‚\nç”¨UltraEditç›´æ¥æ‰“å¼€ç¨‹åºæ–‡ä»¶ï¼ŒUltraEditä¼šä»¥16è¿›åˆ¶æ¨¡å¼æ˜¾ç¤ºç¨‹åºæ–‡ä»¶ã€‚UltraEditæ˜¾ç¤ºçš„åœ°å€å’ŒIDAæ˜¾ç¤ºçš„åœ°å€æ˜¯ä¸åŒçš„ï¼Œä¸ºäº†æ‰¾åˆ°å¯¹åº”ä»£ç ç‰‡æ–­åœ¨UltraEditä¸­çš„å®é™…åœ°å€ï¼Œéœ€è¦ä½¿ç”¨åˆ°UltraEditçš„æŸ¥æ‰¾åŠŸèƒ½ã€‚åœ¨IDAä¸­å¤åˆ¶éœ€ä¿®æ”¹çš„16è¿›åˆ¶æ¨¡å¼æ˜¾ç¤ºçš„æŒ‡ä»¤ï¼Œåœ¨UltraEditä¸­æ‰“å¼€æŸ¥æ‰¾ï¼Œç²˜è´´å¹¶æŸ¥æ‰¾è¯¥16è¿›åˆ¶å­—ç¬¦ä¸²ï¼ŒUltrEditä¼šå¾ˆå¿«å®šä½åˆ°è¯¥æŒ‡ä»¤å¤„ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\nåœ¨IDAä¸­ä½¿å¾—å³é”®æ¥å¤åˆ¶\nåœ¨UltraEditæ‰“å¼€æŸ¥æ‰¾åŠŸèƒ½\næ‰¾åˆ°äº†UltraEditçš„å¯¹åº”ä½ç½®\nç°åœ¨æˆ‘ä»¬è¦æŠŠâ€œa \u0026gt; 0â€æ”¹æˆâ€œn \u0026gt; 0â€ï¼Œaå¯¹åº”çš„ASCIIç æ˜¯61ï¼Œè€Œnå¯¹åº”çš„ASCIIç æ˜¯6Eï¼Œåªéœ€æŠŠ61æ”¹æˆ6Eå°±å¯ä»¥äº†ï¼Œä¿®æ”¹åä¿å­˜ã€‚\nå†æ¬¡è¿è¡Œï¼Œå¯ä»¥çœ‹åˆ°ç»“æœå·²æ”¹å˜ï¼\nç¤ºä¾‹åªæ˜¯ä¿®æ”¹äº†å­—ç¬¦ä¸²ï¼Œåªéœ€æ›´æ”¹æ•°æ®æ®µå†…å®¹å°±å¯ä»¥äº†ï¼Œä¸ç”¨æ›´æ”¹æŒ‡ä»¤ã€‚å‡å¦‚éœ€è¦æ›´æ”¹æŒ‡ä»¤ï¼Œéœ€è¦å‚è€ƒhttp://courses.engr.illinois.edu/ece390/resources/opcodes.html#Main 8086æŒ‡ä»¤æ“ä½œè¡¨å†™å‡ºå¯¹åº”æŒ‡ä»Šçš„16è¿›åˆ¶å½¢å¼ï¼Œå†ä¿®æ”¹ã€‚\nå‚è€ƒèµ„æ–™ï¼š http://blog.csdn.net/liquanhai/article/details/5479141 http://www.youtube.com/watch?v=Gl2S0YPRb9s http://www.woodmann.com/crackz/Tutorials/Flores1.htm http://courses.engr.illinois.edu/ece390/resources/opcodes.html#Main http://faydoc.tripod.com/cpu/conventions.htm\n","date":"2012-05-16T16:30:16Z","permalink":"https://blog.xenori.com/2012/05/disassembly-with-ida-pro/","title":"åˆ©ç”¨IDA Proåæ±‡ç¼–ç¨‹åº"},{"content":"å·¥ä½œä¸­å‘ç°ä¸€ä¸ªå…¬å…±ç»„ä»¶å› ä¸ºæŸä¸ªç±»ä¸å¸¦æœ‰[Serializable]ç‰¹æ€§ï¼Œå¯¼è‡´ä¿å­˜åˆ°memcacheæ—¶å‡ºé”™ã€‚åˆšå¥½è´Ÿè´£çš„åŒäº‹è¯·å‡ä¸åœ¨ï¼Œå°è¯•äº†iLSpyåç¼–è¯‘æ–¹æ³•åï¼Œæœ€åå†³å®šä½¿ç”¨Mono.Cecilç›´æ¥ä¿®æ”¹ç°æˆçš„ç¨‹åºé›†dllè§£å†³ã€‚\nç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š\nclass Program { static void Main(string[] args) { var asmFile = \u0026quot;TestDll.dll\u0026quot;; // ç¨‹åºé›†å Console.WriteLine(\u0026quot;add serializable attribute for '{0}'.\u0026quot;, asmFile); var asmDef = AssemblyDefinition.ReadAssembly(asmFile, new ReaderParameters { ReadSymbols = true // æ ‡è¯†æ˜¯å¦è¯»å–ä¿®æ”¹pdbæ–‡ä»¶ }); // å–ç±»åä¸­åŒ…å«\u0026quot;Entity\u0026quot;å­—ç¬¦ä¸²çš„ç±» var types = asmDef.Modules .SelectMany(m =\u0026gt; m.Types) .Where(t =\u0026gt; t.Name.Contains(\u0026quot;Entity\u0026quot;)); // è®¾ç½®ç±»ä¸ºå¯åºåˆ—åŒ– foreach (var type in types) { type.IsSerializable = true; } // é‡æ–°ä¿å­˜dll var newAsmFileName = \u0026quot;TestDll_new.dll\u0026quot;; asmDef.Write(newAsmFileName, new WriterParameters { WriteSymbols = true }); Console.WriteLine(\u0026quot;new dll has save as {0}.\u0026quot;, newAsmFileName); } } Mono.Cecilé™¤äº†å¯ä»¥æ›´æ”¹ç‰¹æ€§ï¼Œè¿˜èƒ½æŠŠsealedç±»æ›´æ”¹ä¸ºpublicç±»ï¼ŒåŠŸèƒ½éå¸¸å¼ºå¤§ã€‚\nä¸‹è½½demo\nå‚è€ƒèµ„æ–™ï¼š ä½¿ç”¨Mono.Cecilè¾…åŠ©ASP.NET MVCä½¿ç”¨dynamicç±»å‹Model\n","date":"2012-05-12T08:31:49Z","permalink":"https://blog.xenori.com/2012/05/use-mono-cecil-to-change-dll-attribute/","title":"ä½¿ç”¨Mono.Cecilæ›´æ”¹ç¨‹åºé›†dllç‰¹æ€§"},{"content":"è¿™æ˜¯å‡†å¤‡åœ¨æ¯å‘¨æŠ€æœ¯åˆ†äº«ä¼šä¸­åˆ†äº«çš„å†…å®¹ï¼Œä½†å› ä¸ºå›¢é˜Ÿéƒ½å¿™äºå„ç§éœ€æ±‚å’ŒæœåŠ¡å™¨è¿ç§»ï¼Œåˆ†äº«å°±ä¸€ç›´æç½®äº†ã€‚\nè¿™ä¸ªpptè¿˜æ˜¯æœ‰ç”¨å¿ƒåšçš„ï¼Œå¦‚pptçš„èƒŒæ™¯ï¼Œå’Œdebugæµç¨‹çš„ç®­å¤´éƒ½æ˜¯ä½¿ç”¨photoshopå·ä¸‹æ¥çš„= =ï¼\nç¤ºä¾‹ç¨‹åºï¼šDownload Example\n","date":"2012-04-24T15:52:37Z","permalink":"https://blog.xenori.com/2012/04/windbg-tutorial/","title":"WinDbgå…¥é—¨"},{"content":"androidæ¨¡æ‹Ÿå™¨é»˜è®¤çš„å†…éƒ¨å­˜å‚¨ç©ºé—´åªæœ‰å‡ åmï¼Œéšä¾¿å®‰è£…å‡ ä¸ªappå°±æ»¡äº†ï¼Œgoogleäº†ä¸‹ï¼Œå‘ç°AVDç®¡ç†å™¨æ˜¯æ²¡æœ‰å¢åŠ å†…éƒ¨å­˜å‚¨ç©ºé—´çš„è®¾ç½®çš„ï¼Œè¦å¢åŠ éœ€è¦ä½¿ç”¨å‘½ä»¤è¡Œæ¥å¯åŠ¨æ¨¡æ‹Ÿå™¨ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š\nemulator -partition-size \u0026lt;size\u0026gt; -avd \u0026lt;virtual device name\u0026gt; å¯ä»¥æŠŠå‘½ä»¤ä¿å­˜åˆ°æ‰¹å¤„ç†batæ–‡ä»¶ä¸­ï¼Œä»¥æ–¹ä¾¿ä»¥åç›´æ¥å¯åŠ¨ã€‚\nä½¿ç”¨å‘½ä»¤è¡Œå¯åŠ¨æ¨¡æ‹Ÿå™¨æ˜¯ä¸èƒ½ä½¿ç”¨snapshotåŠŸèƒ½çš„ï¼Œåˆ›å»ºçš„avdä¹‹å‰æœ‰å¯åŠ¨çš„è¯ï¼Œéœ€è¦å…ˆå…³é—­ã€‚ å‚è€ƒèµ„æ–™ï¼š https://groups.google.com/forum/?fromgroups#!topic/android-developers/wFO2HOcFiV4 http://developer.android.com/guide/developing/tools/emulator.html#startup-options\n","date":"2012-04-12T16:06:07Z","permalink":"https://blog.xenori.com/2012/04/android-internal-storage-space/","title":"å¢åŠ Androidæ¨¡æ‹Ÿå™¨çš„\"Internal Storage\"å®¹é‡"},{"content":"StackOverflowä¸Šçœ‹åˆ°çš„è§£é‡ŠWSGIå¦‚ä½•å·¥ä½œçš„å›¾ï¼ˆä¸€å›¾èƒœåƒè¨€ï¼‰ï¼š ç›¸å…³ï¼š http://stackoverflow.com/questions/1303118/looking-for-a-diagram-to-explain-wsgi http://www.python.org/dev/peps/pep-0333/\n","date":"2012-03-26T15:41:54Z","permalink":"https://blog.xenori.com/2012/03/a-diagram-to-explain-wsgi/","title":"WSGIå¤„ç†æµç¨‹å›¾"},{"content":"åœ¨å¾®åšä¸Šå‘ç°å·²æœ‰åŒå­¦æ•´ç†äº†ä¸€ä¸ªä¸é”™çš„linuxå‘½ä»¤æ–‡æ¡£ï¼šhttp://115.com/file/c2rzrvw3#Unix-Linux è¿™ç¯‡æ–‡ç« ç­‰é‡åˆ°å¥½çš„å‘½ä»¤å†ç»§ç»­æ›´æ–°ã€‚ã€‚ã€‚\næ–‡ä»¶å‘½ä»¤ | ç¨‹åºå‘½ä»¤ | ç½‘ç»œå‘½ä»¤ | ç³»ç»Ÿå‘½ä»¤\næ–‡ä»¶ åˆ›å»ºä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶\ntouch test.txt åˆ é™¤æ–‡ä»¶\nrm -f text.txt åˆ›å»ºä¸€ä¸ªç›®å½•\nmkdir newdir åˆ é™¤ä¸€ä¸ªç›®å½•\nrm -r dirname æ˜¾ç¤ºç›®å½•ä¸­çš„æ–‡ä»¶ä¿¡æ¯\nls -lt æ”¹å˜æ–‡ä»¶æˆ–ç›®å½•çš„æƒé™\nchmod 666 test.txt æŸ¥çœ‹æ–‡ä»¶å¤¹å¤§å°\ndu -h --max-depth=1 ./mp3 è§£å‹taræ–‡ä»¶\ntar zxpf test.tar.gz ç¨‹åº å®‰è£…ç¨‹åº\næ˜¾ç¤ºæ­£åœ¨è¿è¡Œçš„ç¨‹åº\nps -ef å…³é—­ç¨‹åº\nkill -QUIT [PID] å¼ºåˆ¶å…³é—­ç¨‹åº\nkill -9 [PID] ç½‘ç»œ æŸ¥çœ‹ç¨‹åºå ç”¨ç«¯å£æƒ…å†µ\nnetstat -anp -aæ˜¾ç¤ºæ‰€æœ‰è¿æ¥ï¼Œ-næ˜¾ç¤ºç«¯å£æƒ…å†µï¼Œ-pæ˜¾ç¤ºç¨‹åºPID\nç³»ç»Ÿ é‡å¯\nreboot å…³æœº\npoweroff ","date":"2012-03-17T09:42:44Z","permalink":"https://blog.xenori.com/2012/03/linux-useful-commands/","title":"linuxå¸¸ç”¨å‘½ä»¤"},{"content":"å·¥ä½œä¸­æœ‰æ—¶ä¼šç¢°åˆ°éœ€è¦è¿ç§»æ•°æ®åº“çš„æ—¶å€™ï¼Œå¦‚æ›´æ¢æœºæˆ¿ï¼Œæ›´æ¢æ–°æœåŠ¡å™¨ç­‰ã€‚è¿ç§»æ•°æ®åº“æœ€é‡è¦æ˜¯è¦ç¡®ä¿æ­£åœ¨è¿è¡Œçš„ç¨‹åºä¸ä¼šå› ä¸ºæ¼æ›´æ”¹è¿æ¥å­—ç¬¦ä¸²è€Œå¯¼è‡´ç¨‹åºæŠ¥é”™ã€‚ä½†æœ‰æ—¶ç»´æŠ¤çš„é¡¹ç›®å¯èƒ½è€æ—§ï¼Œæ²¡æœ‰ç›¸å…³ç»´æŠ¤æ–‡æ¡£ï¼Œè¿˜æœ‰ä¸€äº›ä½¿ç”¨è¯¥æ•°æ®åº“çš„windowsæœåŠ¡ä¹Ÿå¯èƒ½éå¸ƒåœ¨å…¶ä»–æœåŠ¡å™¨ä¸Šï¼Œè¿™æ—¶æˆ‘ä»¬è¯¥å¦‚ä½•æ‰¾åˆ°æ‰€æœ‰æ­£åœ¨ä½¿ç”¨è¯¥æ•°æ®åº“çš„æœåŠ¡å‘¢ï¼Ÿ\nä¸‹é¢ä»¥windowsæœåŠ¡å™¨å’ŒSql Serveræ•°æ®åº“ä¸ºä¾‹ï¼Œæ•°æ®åº“æœåŠ¡å™¨çš„ipæ˜¯192.168.6.189ï¼Œlinuxå¹³å°çš„æ€è·¯å·®ä¸å¤šï¼Œåªæ˜¯å‘½ä»¤æœ‰å˜åŒ–ã€‚\n1ã€æŸ¥çœ‹Sql Serverè¿›ç¨‹ID æ‰“å¼€ä»»åŠ¡ç®¡ç†å™¨ï¼Œç‚¹å‡»â€œæŸ¥çœ‹-\u0026gt;é€‰æ‹©åˆ—â€ï¼Œå‹¾é€‰â€œPID(è¿›ç¨‹æ ‡è¯†ç¬¦)â€ è¿›ç¨‹åç§°ä¸ºâ€œsqlservr.exeâ€çš„PIDå°±æ˜¯Sql Serverçš„è¿›ç¨‹IDï¼Œå½“å‰æ˜¯1800ã€‚\n2ã€æŸ¥çœ‹å½“å‰è¿æ¥Sql Serverçš„æœåŠ¡å™¨åˆ—è¡¨ æ‰“å¼€å‘½ä»¤è¡Œï¼Œè¾“å…¥ä¸‹é¢çš„å‘½ä»¤ï¼š\nnetstat -ano|find \u0026quot;1800\u0026quot; ç»“æœå¦‚ä¸‹ï¼š\nC:\\Documents and Settings\u0026gt;netstat -ano|find \u0026quot;1800\u0026quot; TCP 0.0.0.0:3758 0.0.0.0:0 LISTENING 1800 TCP 0.0.0.0:5025 0.0.0.0:0 LISTENING 1800 TCP 127.0.0.1:1434 0.0.0.0:0 LISTENING 1800 TCP 192.168.6.189:3758 192.168.6.76:2685 ESTABLISHED 1800 TCP 192.168.6.189:3758 192.168.6.76:2725 ESTABLISHED 1800 è¯¥å‘½ä»¤ä¼šæ‰“å°å‡ºæ‰€æœ‰è¿æ¥åˆ°1800è¿›ç¨‹çš„æœåŠ¡å™¨åˆ—è¡¨ï¼Œå¯ä»¥çœ‹åˆ°192.168.6.76è¿™å°æœåŠ¡å™¨æ­£åœ¨è¿æ¥åˆ°Sql Serverã€‚\n3ã€æŸ¥çœ‹è¿æ¥åˆ°æ•°æ®åº“æœåŠ¡å™¨çš„è¿›ç¨‹ è¿›å…¥æœåŠ¡å™¨192.168.6.76ï¼Œæ‰“å¼€å‘½ä»¤è¡Œï¼Œè¾“å…¥ä¸‹é¢çš„å‘½ä»¤ï¼š\nnetstat -ano |find \u0026quot;6.189\u0026quot; 6.189æ˜¯æ•°æ®åº“æœåŠ¡å™¨çš„ipï¼Œfindå‘½ä»¤ç”¨æ¥æŸ¥æ‰¾å¸¦æœ‰\u0026quot;6.189\u0026quot;å­—ç¬¦ä¸²çš„è¡Œã€‚è¾“å‡ºå¦‚ä¸‹ï¼š\nd:\\webroot\u0026gt;netstat -ano |find \u0026quot;6.189\u0026quot; TCP 192.168.6.76:2685 192.168.6.189:3758 ESTABLISHED 8520 TCP 192.168.6.76:2725 192.168.6.189:3758 ESTABLISHED 8520 ç»“æœæœ€å³è¾¹çš„å°±æ˜¯æ­£è¿æ¥åˆ°æ•°æ®åº“æœåŠ¡å™¨çš„è¿›ç¨‹IDï¼Œå½“å‰æ˜¯8520.ç°åœ¨å·²ç»æ‰¾åˆ°è¿›ç¨‹äº†^0^ï¼Œä½ åªéœ€æ‰“å¼€ä»»åŠ¡ç®¡ç†å™¨ï¼Œçœ‹ä¸‹è¯¥è¿›ç¨‹IDå¯¹åº”æ˜¯è¿›ç¨‹æ˜¯ä»€ä¹ˆï¼Œå°±èƒ½å‡†ç¡®å®šä½äº†ã€‚\n4ã€æŸ¥çœ‹IISè¿›ç¨‹å¯¹åº”çš„ç«™ç‚¹ æœ‰æ—¶æˆ‘ä»¬æ‰¾åˆ°ä½¿ç”¨æ•°æ®åº“çš„è¿›ç¨‹äº†ï¼Œä½†æ˜¯åƒIISè¿™ç§ç¨‹åºï¼Œå› ä¸ºæ‰€æœ‰ç«™ç‚¹çš„è¿›ç¨‹åéƒ½ç›¸åŒï¼Œæ‰€ä»¥æ— æ³•å‡†å¤‡å®šä½äº†ã€‚ æœ‰ä»€ä¹ˆæ–¹æ³•å¯ä»¥æ‰¾åˆ°w3wp.exeå¯¹åº”çš„ç«™ç‚¹åå‘¢ï¼Ÿå¯ä»¥ä½¿ç”¨iisappå‘½ä»¤ï¼š\nd:\\webroot\u0026gt;iisapp -a W3WP.exe PID: 6584 AppPoolId: test1.com W3WP.exe PID: 16304 AppPoolId: Special W3WP.exe PID: 8520 AppPoolId: test2.com W3WP.exe PID: 3164 AppPoolId: test3.com iisappå‘½ä»¤ä¼šè¾“å‡ºW3WPè¿›ç¨‹å¯¹åº”çš„åº”ç”¨ç¨‹åºæ± åï¼Œé€šè¿‡åº”ç”¨ç¨‹åºæ± åæˆ‘ä»¬å°±èƒ½å‡†å¤‡å®šä½ç«™ç‚¹ï¼šï¼‰\n","date":"2012-03-17T09:33:03Z","permalink":"https://blog.xenori.com/2012/03/find-who-connect-to-database/","title":"å¦‚ä½•æŸ¥çœ‹å“ªäº›è¿›ç¨‹å’ŒæœåŠ¡å™¨æ­£åœ¨ä½¿ç”¨æ•°æ®åº“"},{"content":"IISå¯ä»¥åœ¨ä¸€å°æœåŠ¡å™¨ä¸Šé…ç½®å¤šä¸ªwebç«™ç‚¹ï¼Œæ¯ä¸ªç«™ç‚¹é€šè¿‡ipåœ°å€ã€ç«¯å£(port)å’Œä¸»æœºå(host)ç»“åˆçš„æ ‡è¯†ç¬¦(ServerBindings Metabase)è¿›è¡ŒåŒºåˆ†ã€‚æ ‡è¯†å­—ç¬¦ä¸²çš„æ ¼å¼å¦‚ä¸‹ï¼š\nIP:Port:Hostname ä¸Šé¢çš„IPå’ŒHostnameæ˜¯å¯é€‰é¡¹ï¼Œå‡å¦‚è®¾å®šç«™ç‚¹æ—¶ä¸æŒ‡å®šï¼Œè¡¨ç¤ºåŒ¹é…æ‰€æœ‰ã€‚\nä¸»æœºå(Host Headers)æ˜¯HTTPæ¶ˆæ¯çš„ä¸€éƒ¨åˆ† æµè§ˆå™¨å’ŒwebæœåŠ¡å™¨ä¹‹é—´æ˜¯é€šè¿‡httpåè®®é€šä¿¡çš„ã€‚httpå‘é€çš„è¯·æ±‚å¤´éƒ¨(headers)éƒ¨åˆ†åŒ…å«æœ‰å¾ˆå¤šä¿¡æ¯ï¼Œå¦‚Content-Length, Referer, Hostç­‰ç­‰ã€‚\næµè§ˆå™¨å¦‚ä½•å’ŒwebæœåŠ¡å™¨é€šä¿¡ äº’è”ç½‘ä¸Šçš„ä¸¤å°ä¸»æœºä¹‹é—´æ˜¯é€šè¿‡TCP/IPåè®®è¿›è¡Œé€šä¿¡çš„ï¼Œé€šä¿¡å»ºç«‹è¿æ¥æ—¶éœ€è¦æŒ‡å®šipå’Œç«¯å£å·(port)ã€‚å½“æˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ä¸€ä¸ªç½‘ç«™çš„åŸŸåï¼Œå¹¶æŒ‰å›è½¦åï¼Œæµè§ˆå™¨é»˜è®¤ä¼šä½¿ç”¨httpåè®®å’Œ80ç«¯å£å‘å‡ºè¯·æ±‚ã€‚\næµè§ˆå™¨é¦–å…ˆéœ€è¦æŠŠåŸŸåè§£æä¸ºå¯¹åº”çš„ipåœ°å€ã€‚åŸŸåè§£æå¯ä»¥ä½¿ç”¨dnsæœåŠ¡å™¨æˆ–æœ¬åœ°çš„hostæ–‡ä»¶ã€‚\nå½“åŸŸåè§£æä¸ºipåœ°å€åï¼Œæµè§ˆå™¨ä¼šå’ŒwebæœåŠ¡å™¨å»ºç«‹è¿æ¥ï¼Œå¹¶å‘å‡ºç½‘é¡µè®¿é—®è¯·æ±‚ä¿¡æ¯ã€‚è¯·æ±‚ä¿¡æ¯çš„å¤´éƒ¨ä¸€èˆ¬åƒä¸‹é¢è¿™æ ·ï¼š\nGET /index.htm HTTP/1.1 Host: www.ilopia.com IISæ¥æ”¶åˆ°è¯·æ±‚åï¼Œä¼šæ£€æŸ¥è¯·æ±‚æ˜¯å¦å¸¦æœ‰hostä¿¡æ¯(è¯·æ±‚ä¸­ä¹Ÿå¯èƒ½ä¸å¸¦æœ‰hostä¿¡æ¯ï¼Œå¦‚ä½¿ç”¨ipç›´æ¥è®¿é—®)ã€‚IISå‘ç°æœ‰hoståï¼Œä¼šæŸ¥æ‰¾æ˜¯å¦æœ‰åŒ¹é…è¯¥hostçš„ç«™ç‚¹ï¼Œå¦‚æœæœ‰åŒ¹é…çš„ç«™ç‚¹ï¼Œå°±ä¼šæŠŠè¯·æ±‚è·¯ç”±ç»™å®ƒè¿›è¡Œå¤„ç†ã€‚\næœ€åä¸€æ­¥æ˜¯IISå“åº”å¤„ç†è¯·æ±‚ã€‚\nIISå¦‚ä½•åˆ†å‘è¯·æ±‚åˆ°æŒ‡å®šwebç«™ç‚¹ IISåˆ†å‘è¯·æ±‚åˆ°æŒ‡å®šç«™ç‚¹çš„è§„åˆ™å¦‚ä¸‹ï¼š\n1ã€æ˜¯å¦å­˜åœ¨å‡†ç¡®åŒ¹é… IP:Port:Hostnameæ ‡è¯†å­—ç¬¦ä¸²çš„ç«™ç‚¹ï¼Œå­˜åœ¨å³åˆ†å‘è¯·æ±‚ï¼Œæ²¡æœ‰è¿›è¡Œä¸‹ä¸€æ­¥åŒ¹é…\n2ã€æ˜¯å¦å­˜åœ¨ç›‘å¬æ‰€æœ‰IPåœ°å€(ç«™ç‚¹è®¾å®šæ—¶ä¸æŒ‡å®š)ï¼Œå¹¶ä¸”Portå’ŒHostnameéƒ½åŒ¹é…çš„ç«™ç‚¹ï¼Œå­˜åœ¨å³åˆ†å‘è¯·æ±‚ï¼Œæ²¡æœ‰è¿›è¡Œä¸‹ä¸€æ­¥åŒ¹é…\n3ã€æ˜¯å¦å­˜åœ¨ç«¯å£PortåŒ¹é…ï¼Œè€ŒIPå’ŒHostnameéƒ½æœªæŒ‡å®šçš„ç«™ç‚¹ï¼Œå­˜åœ¨å³åˆ†å‘è¯·æ±‚ï¼Œæ²¡æœ‰æµè§ˆå™¨ä¼šæç¤ºæ²¡æ³•è¿æ¥åˆ°æœåŠ¡å™¨\nå‚è€ƒèµ„æ–™ ServerBindings Metabase Property (IIS 6.0) Understanding Host Headers in IIS Using Host Headers to host multiple websites on IIS 6.0\n","date":"2012-03-03T17:00:18Z","permalink":"https://blog.xenori.com/2012/03/understanding-iis-host-headers/","title":"äº†è§£IISçš„ä¸»æœºå(Host Headers)é…ç½®é¡¹"},{"content":"æœ¬äººçš„ubuntu serverç‰ˆæœ¬æ˜¯10.04.4ï¼Œå®‰è£…åœ¨å…è´¹çš„vmware player 4.0ä¸­ã€‚ å®‰è£…vmware-toolséœ€è¦gccå’Œå¯¹åº”çš„linux-headersè¿›è¡Œç¼–è¯‘ï¼Œéœ€å…ˆæ‰§è¡Œä¸‹é¢ä¸¤ä¸ªå‘½ä»¤è¿›è¡Œå®‰è£…ï¼š\nsudo apt-get gcc sudo apt-get install build-essential linux-headers-$(uname -r) å®‰è£…åï¼Œç‚¹å‡»vmware playerèœå•â€œVirtual Machine-\u0026gt;Install VMware Toolsâ€ï¼Œç”»é¢ä¸‹æ–¹ä¼šå‡ºç°é»„è‰²çš„VMware Toolså®‰è£…æç¤ºæ¡†ã€‚ 1ã€æŠŠå®‰è£…å…‰ç›˜ç»‘å®šåˆ°ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼š\nmkdir /mnt/cdrom sudo mount /dev/cdrom /mnt/cdrom 2ã€è§£å‹å®‰è£…æ–‡ä»¶åˆ°ä¸´æ—¶ç›®å½•/tmpï¼š\ncd /tmp tar zxpf /mnt/cdrom/VMwareTools-8.0.0-\u0026lt;xxxx\u0026gt;.tar.gz \u0026lt;/xxxx\u0026gt; 3ã€æ‰§è¡Œå®‰è£…ï¼š\ncd vmware-tools-distrib sudo ./vmware-install.pl 4ã€ä¹‹åæŒ‰ç…§å®‰è£…æç¤ºï¼Œä¸€ç›´æŒ‰Enteré”®ç¡®è®¤å°±å¯ä»¥äº†ã€‚ 5ã€å®‰è£…åæ‰§è¡Œrebooté‡å¯ï¼š\nsudo reboot å‚è€ƒèµ„æ–™ï¼š http://www.vmware.com/support/ws55/doc/ws_newguest_tools_linux.html#wp1127177 http://ubuntuforums.org/showthread.php?t=1561822 http://ubuntu-tutorials.com/2007/10/02/how-to-install-vmware-tools-on-ubuntu-guests/\n","date":"2012-02-19T08:07:01Z","permalink":"https://blog.xenori.com/2012/02/how-to-install-vmware-tools-in-ubuntu-server/","title":"å¦‚ä½•åœ¨ubuntu server 10.04ä¸­å®‰è£…vmware tools"},{"content":"Molesæ˜¯ç”±å¾®è½¯ç ”ç©¶é™¢(Microsoft Research)å¼€å‘çš„.NETä¾èµ–åˆ†ç¦»æ¡†æ¶ï¼Œå®ƒå®ç°äº†ä½¿ç”¨è‡ªå®šä¹‰çš„å§”æ‰˜(delegate)æ–¹æ³•æ¥æ›¿æ¢åŸæœ‰ç±»ä¸­çš„æ–¹æ³•ï¼Œä»¥è¾¾åˆ°åˆ†ç¦»ä¾èµ–ï¼Œæ–¹ä¾¿å•å…ƒæµ‹è¯•çš„ç›®çš„ã€‚Molesåœ¨åŠŸèƒ½å’Œç”¨æ³•ä¸Šä¸å¼€æºçš„IoCæ¡†æ¶Moqå¾ˆåƒï¼Œä½†Molesæœ‰ä¸€äº›Moqå®ç°ä¸äº†åŠŸèƒ½ï¼Œå¦‚æ›¿æ¢é™æ€æ–¹æ³•ï¼Œå»æ‰é™æ€æ„é€ å‡½æ•°ï¼Œçªç ´è®¿é—®é™åˆ¶ç­‰ã€‚Molaséå¸¸æœ‰åˆ©äºå¯¹ASP.NET WebFormæ„å»ºçš„ç½‘ç«™å’Œä¾èµ–ç¬¬ä¸‰æ–¹ç±»åº“çš„ç¨‹åºè¿›è¡Œå•å…ƒæµ‹è¯•ã€‚\nä¸‹è½½å’Œå®‰è£… ä¸‹è½½Molesåç›´æ¥å®‰è£…å°±å¯ä»¥äº†ï¼Œé‡Œé¢é›†æˆæœ‰VS2010çš„æ’ä»¶ï¼Œå®‰è£…æˆåŠŸåï¼ŒVS2010å³é”®èœå•ä¸­ä¼šé›†æˆMolesåŠŸèƒ½èœå•ã€‚\nä½¿ç”¨ç¤ºä¾‹ æˆ‘ä»¬è¯•ä¸‹æµ‹è¯•2000å¹´åƒå¹´è™«çš„bugã€‚åœ¨VS2010ä¸­åˆ›å»ºä¸€ä¸ªMoleDomainçš„ç±»é¡¹ç›®ï¼Œå¹¶åˆ›å»ºç±»Y2KCheckerï¼Œä»£ç å¦‚ä¸‹ï¼š\nnamespace MoleDomain { public static class Y2KChecker { public static void Check() { if (DateTime.Now == new DateTime(2000, 1, 1)) throw new ApplicationException(\u0026quot;y2kbug!\u0026quot;); } } } ç°åœ¨æˆ‘ä»¬è¦æµ‹è¯•è¿™æ®µä»£ç ï¼Œç¡®å®šå½“æ—¶é—´ä¸º2000/1/1æ—¶ï¼Œç¨‹åºèƒ½æ­£ç¡®æŠ›å‡ºå¼‚å¸¸ã€‚å¾ˆæ˜¾ç„¶è¿™æ®µä»£ç æ²¡æ³•åšå•å…ƒæµ‹è¯•ï¼Œå› ä¸ºä»£ç ä¸­çš„DateTime.Nowæ˜¯ä¾èµ–ç³»ç»Ÿæ—¶é’Ÿçš„ï¼Œåªè¿”å›å½“å‰æ—¶é—´ï¼Œæˆ‘ä»¬æ²¡æ³•æ”¹å˜å®ƒçš„å€¼ä½¿å®ƒåˆšå¥½ç­‰äº2000/1/1ã€‚æ€ä¹ˆåŠå¥½å‘¢ï¼Ÿ\nä½¿ç”¨Molasè§£å†³è¿™ä¸ªé—®é¢˜å¾ˆç®€å•ã€‚åˆ›å»ºä¸€ä¸ªæµ‹è¯•é¡¹ç›®ï¼Œå¹¶å¼•ç”¨MoleDomainé¡¹ç›®ï¼Œå•å…ƒæµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š\n[TestMethod] [ExpectedException(typeof(ApplicationException))] public void Test() { Y2KChecker.Check(); } è¿è¡Œæµ‹è¯•ï¼Œä¼šæ˜¾ç¤ºé¢„æœŸçš„æœªé€šè¿‡ï¼Œå› ä¸ºDateTime.Nowç°åœ¨è¿”å›çš„è¿˜æ˜¯ç³»ç»Ÿæ—¶é—´ã€‚ æˆ‘ä»¬è¯•ä¸‹ä½¿ç”¨Molasæ›¿æ¢DateTime.Nowçš„è¿”å›å€¼ï¼Œåœ¨æµ‹è¯•é¡¹ç›®å¼•ç”¨åˆ—è¡¨ä¸­ï¼Œå³é”®MoleDomainï¼Œé€‰æ‹©â€œAdd Moles Assemblyâ€ï¼Œç¡®å®šåä¼šè‡ªåŠ¨åœ¨é¡¹ç›®ä¸­å¢åŠ ä¸€ä¸ªMoleDomain.molesæ–‡ä»¶ï¼Œmolesåç¼€çš„æ–‡ä»¶æ˜¯è®©Moleså¯¹è¯¥ç¨‹åºé›†è‡ªåŠ¨ç”Ÿæˆå¯¹åº”çš„Molasç±»å‹ç¨‹åºé›†ï¼Œä»¥ä¾¿æµ‹è¯•æ—¶ä½¿ç”¨ã€‚ å³é”®æµ‹è¯•é¡¹ç›®ï¼Œé€‰æ‹©â€œé‡æ–°ç”Ÿæˆâ€ï¼Œä¼šå‘ç°ç¨‹åºè‡ªåŠ¨å¼•ç”¨äº†å¾ˆå¤šMolesç›¸å…³çš„ç¨‹åºé›†ï¼Œå¦‚Microsoft.Moles.Frameworkï¼Œè¿˜æœ‰è‡ªåŠ¨ç”Ÿæˆçš„ MolaDomain.Molesç¨‹åºé›†ã€‚ è¦ä½¿Molesæ­£å¸¸è¿è¡Œï¼Œéœ€è¦æ”¹ä¸‹åŸæ¥çš„å•å…ƒæµ‹è¯•ä»£ç ã€‚åœ¨æµ‹è¯•æ–¹æ³•ä¸Šæ–¹åŠ ä¸ŠHostTypeç‰¹æ€§ï¼Œå¹¶å†™ä¸‹æ›¿æ¢DateTime.Nowè¿”å›å€¼çš„ä»£ç ï¼š\n[TestMethod] [ExpectedException(typeof(ApplicationException))] [HostType(\u0026quot;Moles\u0026quot;)] public void Test() { //åˆ©ç”¨å§”æ‰˜æ›¿æ¢åŸæ¥çš„è¿”å›å€¼ MDateTime.NowGet = () =\u0026gt; new DateTime(2000, 1, 1); Y2KChecker.Check(); } å†æ¬¡è¿è¡Œæµ‹è¯•ï¼Œå‘ç°è¿˜æ˜¯å¤±è´¥ï¼Œæç¤ºé”™è¯¯ï¼š\næµ‹è¯•æ–¹æ³• MoleDomain.Test.Y2KCheckerTest.Test å¼•å‘äº†å¼‚å¸¸ Microsoft.Moles.Framework.Moles.MoleNotInstrumentedExceptionï¼Œä½†åº”ä¸ºå¼‚å¸¸ System.ApplicationExceptionã€‚å¼‚å¸¸æ¶ˆæ¯: Microsoft.Moles.Framework.Moles.MoleNotInstrumentedException: The System.DateTime System.DateTime.get_Now() was not instrumented To resolve this issue, add the following attribute in the test project: using Microsoft.Moles.Framework; [assembly: MoledType(typeof(System.DateTime))] æç¤ºç¼ºå°‘ä¸€äº›å¼•ç”¨é…ç½®ï¼Œåœ¨æµ‹è¯•å‘½åç©ºé—´ä¸Šæ–¹åŠ ä¸Šä»£ç ï¼š\nusing Microsoft.Moles.Framework; [assembly: MoledType(typeof(System.DateTime))] namespace MoleDomain.Test { ..... } å†æ¬¡è¿è¡Œæµ‹è¯•ï¼Œç»ˆäºé€šè¿‡æµ‹è¯•äº†ï¼šï¼‰ MoleåŸºç¡€çŸ¥è¯† åŸå§‹ç±»æˆå‘˜æ–¹æ³•å¯¹åº”çš„Moleç±»å‹å±æ€§å¦‚ä¸‹ï¼š\nâ—‡ é™æ€æ–¹æ³•è¡¨ç¤ºä¸ºmoleç±»å‹çš„é™æ€å±æ€§\nâ—‡ ç±»å®ä¾‹æ–¹æ³•è¡¨ç¤ºä¸ºåµŒå¥—çš„AllInstancesç±»å‹çš„é™æ€å±æ€§\nâ—‡ ç±»æ„é€ å‡½æ•°è¡¨ç¤ºä¸ºmoleç±»å‹çš„å‘½åä¸ºConstructorçš„é™æ€å±æ€§\nä¸‹é¢éƒ¨åˆ†è¯´æ˜ä¸‹å¦‚ä½•ä½¿ç”¨. Static Methods ä¸ºmoleç±»å‹çš„é™æ€å±æ€§é™„åŠ å§”æ‰˜æ–¹æ³•å¯ä»¥æ›¿æ¢ç±»é™æ€æ–¹æ³•çš„å†…å®¹ã€‚moleç±»å‹å±æ€§åªèƒ½é™„åŠ ä¸€ä¸ªå§”æ‰˜æ–¹æ³•ã€‚å¦‚MyClassç±»æœ‰ä¸€ä¸ªé™æ€æ–¹æ³•MyMethodï¼š\npublic static class MyClass { public static int MyMethod() { ... } } æˆ‘ä»¬é™„åŠ ä¸€ä¸ªmoleåˆ°MyMethodä¸­ï¼Œä½¿å®ƒä¸€ç›´è¿”å›5ï¼š\nMMyClass.MyMethod = () =\u0026gt;5; è‡ªåŠ¨ç”Ÿæˆçš„MMyClassç±»å‹çš„ä»£ç ç»“æ„å¦‚ä¸‹ï¼š\npublic class MMyClass { public static Func MyMethod { set { ... } } } å®‰è£…Molesæ¡†æ¶åï¼Œä½¿ç”¨å³é”®çš„â€œAdd Moles Assemblyâ€åŠŸèƒ½æ·»åŠ .moleåç¼€æ–‡ä»¶åï¼ŒMMyClasså°±èƒ½è‡ªåŠ¨ç”Ÿæˆã€‚\nå®ä¾‹æ–¹æ³•(å¯¹æ‰€æœ‰å®ä¾‹ç”Ÿæ•ˆ) å’Œé™æ€æ–¹æ³•ç›¸ä¼¼ï¼Œä¹Ÿå¯ä»¥å¯¹æ‰€æœ‰å®ä¾‹æ–¹æ³•è¿›è¡Œmoleã€‚å®ä¾‹æ–¹æ³•æ”¾ç½®åœ¨åµŒå¥—ç±»AllInstancesçš„é™æ€å±æ€§ä¸­ï¼Œä¾‹å¦‚ä¸‹é¢MyClasså®ä¾‹çš„MyMethodæ–¹æ³•ï¼š\npublic class MyClass { public int MyMethod() { ... } } moleä¸€ä¸ªæ–¹æ³•ä½¿æ‰€æœ‰å®ä¾‹å¯¹è±¡éƒ½è¿”å›5ï¼š\nMMyClass.AllInstances.MyMethod = _ =\u0026gt; 5; è‡ªåŠ¨ç”Ÿæˆçš„MMyClassç»“æ„å¦‚ä¸‹ï¼š\npublic class MMyClass : MoleBase { public static class AllInstances { public static FuncMyMethod { set { ... } } } } å®ä¾‹æ–¹æ³•(å¯¹ä¸€ä¸ªå®ä¾‹ç”Ÿæ•ˆ) å¯¹ä¸åŒçš„å®ä¾‹ï¼Œå®ä¾‹æ–¹æ³•å¯ä»¥moleä¸åŒçš„å§”æ‰˜æ–¹æ³•ã€‚moleçš„å±æ€§å®é™…æ˜¯moleç±»å‹å®ä¾‹è‡ªå·±çš„å±æ€§ï¼ˆä¸æ˜¯é™æ€æ–¹æ³•)ï¼Œæ¯ä¸ªmoleç±»å‹å®ä¾‹éƒ½ä¼šæœ‰ä¸€ä¸ªåŸå§‹ç±»å‹çš„å®ä¾‹å¯¹è±¡ã€‚å¦‚MyClassçš„å®ä¾‹æ–¹æ³•MyMethodï¼š\npublic class MyClass { public int MyMethod() { ... } } æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸¤ä¸ªMMyClassçš„å®ä¾‹å¯¹è±¡ï¼Œä¸€ä¸ªä½¿å®ƒè¿”å›5ï¼Œå¦ä¸€ä¸ªä½¿å®ƒè¿”å›10ï¼š\nvar myClass1 = new MMyClass() { MyMethod = () =\u0026gt; 5 }; var myClass2 = new MMyClass() { MyMethod = () =\u0026gt; 10 }; è‡ªåŠ¨ç”Ÿæˆçš„moleç±»å‹ä»£ç ç»“æ„å¦‚ä¸‹ï¼š\npublic class MMyClass : MoleBase { public Func MyMethod { set { ... } } public MyClass Instance { get { ... } } } åŸå§‹ç±»å‹å¯¹è±¡å¯ä»¥é€šè¿‡moleå®ä¾‹å¯¹è±¡çš„Instanceå±æ€§è·å¾—ï¼š\nvar mole = new MMyClass(); var instance = mole.Instance; moleå®ä¾‹å¯¹è±¡ä¹Ÿå¯ä»¥éšå¼è½¬æ¢ä¸ºåŸå§‹ç±»å‹å¯¹è±¡ï¼Œæ‰€ä»¥ä½ å¯ä»¥ç›´æ¥èµ‹å€¼å¯¹åŸå§‹ç±»å‹ï¼Œå¦‚ä¸‹ï¼š\nvar mole = new MMyClass(); MyClassinstance = mole; æ„é€ å‡½æ•°(Constructors) ç±»æ„é€ å‡½æ•°ä¹Ÿå¯ä»¥moleæ¥è¿›è¡Œä¸€äº›èµ‹å€¼æ“ä½œã€‚ç±»æ„é€ å‡½æ•°è¡¨ç¤ºä¸ºmoleç±»å‹çš„é™æ€æ–¹æ³•Constructorï¼Œå¦‚ä¸‹é¢çš„MyClassç±»å¸¦æœ‰ä¸€ä¸ªintå‚æ•°çš„æ„é€ å‡½æ•°ï¼š\npublic class MyClass { public MyClass(int value) { this.Value = value; } ... } é€šè¿‡é™„åŠ æ„é€ å‡½æ•°ä½¿ä»¥åçš„æ‰€æœ‰å®ä¾‹çš„Valueå±æ€§éƒ½è¿”å›-5ï¼š\nMMyClass.ConstructorInt32 = (@this, value) =\u0026gt; { var mole = new MMyClass(@this) { ValueGet = () =\u0026gt; -5 }; }; å¦‚æœä½ åªæƒ³moleåé¢ä¸€ä¸ªå®ä¾‹ï¼Œæˆ‘ä»¬åªéœ€æŠŠConstructoré™æ€å±æ€§èµ‹nullå€¼ï¼Œå¦‚ï¼š\nMMyClass.ConstructorInt32 = (@this, value) =\u0026gt; { ... MMyClass.ConstructorInt32 = null; }; éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ¯ä¸ªmoleç±»å‹éƒ½æœ‰ä¸¤ä¸ªæ„é€ å‡½æ•°ï¼Œå½“éœ€è¦ä¸€ä¸ªæ–°çš„moleå®ä¾‹å¯¹è±¡æ—¶ï¼Œä½¿ç”¨é»˜è®¤çš„æ„é€ å™¨ï¼›è€Œå¸¦æœ‰ä¸€ä¸ªåŸå§‹ç±»å‹å‚æ•°çš„æ„é€ å‡½æ•°ï¼Œåªåº”è¯¥åœ¨moleæ„é€ å‡½æ•°æ—¶ä½¿ç”¨ã€‚\npublic MMyClass() { } public MMyClass(MyClass instance) : base(instance) { } è‡ªåŠ¨ç”Ÿæˆçš„MMyClassä»£ç ç»“æ„å¦‚ä¸‹ï¼š\npublic class MMyClass : MoleBase { public static Action ConstructorInt32 { set { ... } } public MMyClass() { } public MMyClass(MyClass instance) : base(instance) { } ... } åŸºç±»æˆå‘˜(Base Members) åªè¦æŠŠå­ç±»å®ä¾‹ä½œä¸ºåŸºç±»æ„é€ å‡½æ•°çš„å‚æ•°ä¼ å…¥ï¼Œå°±å¯ä»¥åˆ›å»ºä¸€ä¸ªåŸºç±»çš„moleå¯¹è±¡ï¼Œå¹¶è®¿é—®åˆ°åŸºç±»ä¸­çš„moleå±æ€§ã€‚ä¾‹å¦‚ï¼ŒåŸºç±»Baseæœ‰ä¸€ä¸ªMyMethodçš„æ–¹æ³•ï¼Œè€ŒChildæ˜¯Baseçš„å­ç±»ï¼š\npublic abstract class Base { public int MyMethod() { ... } } public class Child : Base { } é€šè¿‡åˆ›å»ºä¸€ä¸ªMBaseå¯¹è±¡æˆ‘ä»¬èƒ½è®¾ç½®Baseçš„moleå±æ€§ï¼š\nvar child = new MChild(); new MBase(child) { MyMethod = () =\u0026gt; 5 }; æ³¨æ„è¿™é‡Œï¼Œå½“MChildå®ä¾‹ä½œä¸ºä¼ å…¥MBaseæ„é€ å‡½æ•°æ—¶ï¼Œä¼šè¢«éšå¼è½¬æ¢ä¸ºChildå®ä¾‹ã€‚ MChildå’ŒMBaseçš„è‡ªåŠ¨ç”Ÿæˆä»£ç å¦‚ä¸‹ï¼š\npublic class MChild : MoleBase { public MChild() { } public MChild(Child child) : base(child) { } } public class MBase : MoleBase { public MBase(Base target) { } public Func MyMethod { set { ... } } } é™æ€æ„é€ å‡½æ•° é™æ€æ„é€ å‡½æ•°åœ¨Molesä¸­è¢«ç‰¹æ®Šå¯¹å¾…ï¼ŒMolesåªèƒ½ç®€å•åœ°æŠ¹å»é™æ€æ„é€ å‡½æ•°ï¼Œè€Œä¸èƒ½é‡æ–°ä¸ºå®ƒé™„åŠ æ–°çš„å§”æ‰˜æ–¹æ³•ã€‚Molesé€šè¿‡æŒ‡å®š[MolesEraseStaticConstructor]ç‰¹æ€§æ¥æŠ¹å»ä¸€ä¸ªç±»çš„é™æ€æ„é€ å‡½æ•°ã€‚\n[assembly: MolesEraseStaticConstructor(typeof(MyStatic))] class MyStatic { static MyStatic() { throw new Exception(); // needs molingâ€¦ } } ç»ˆç»“å™¨(Finalizers) å¯¹äºç»ˆç»“å™¨ï¼ŒMolesä¹Ÿæ˜¯ç‰¹æ®Šå¯¹å¾…çš„ã€‚Molesä¹Ÿæ˜¯åªèƒ½ç®€å•æŠ¹å»ç»ˆç»“å™¨ï¼Œé€šè¿‡æŒ‡å®š[MolesEraseFinalizer]ç‰¹æ€§å®ç°ã€‚\n[assembly: MolesEraseFinalizer(typeof(MyFinalizer))] class MyFinalizer { ~MyFinalizer() { throw new Exception(); // needs molingâ€¦ } } ç§æœ‰æ–¹æ³• å‡å¦‚ç§æœ‰æ–¹æ³•çš„ç­¾åç±»å‹æ˜¯å¯è§çš„ï¼ŒMolesä¼šä¸ºç§æœ‰æ–¹æ³•è‡ªåŠ¨ç”Ÿæˆmoleå±æ€§ã€‚ç­¾åç±»å‹å¯è§æ˜¯æŒ‡ï¼Œå‚æ•°ç±»å‹æˆ–è¿”å›å€¼ç±»å‹æ˜¯å¯è§çš„ï¼Œä¸æ˜¯ç§æœ‰ç±»å‹ã€‚\nç»‘å®šæ¥å£ å½“ç±»æœ‰å®ç°æ¥å£æ—¶ï¼ŒMolesè‡ªåŠ¨ç”Ÿæˆçš„moleç±»å‹ä¼šæä¾›ç«‹å³ç»‘å®šæ¥å£æˆå‘˜çš„æ–¹æ³•ã€‚ä¾‹å¦‚ï¼ŒMyClasså®ç°äº†s IEnumerableæ¥å£ï¼š\npublic class MyClass : IEnumerable { public IEnumerator GetEnumerator() { ... } ... } é€šè¿‡moleç±»å‹çš„Bindæ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥ç®€æ·åœ°moleæ¥å£å®ç°ï¼š\nvar myClass = new MMyClass(); myClass.Bind(new int[] { 1, 2, 3 }); è‡ªåŠ¨ç”Ÿæˆçš„MMyClassä»£ç ç»“æ„å¦‚ä¸‹ï¼š\npublic class MMyClass : MoleBase { public MMyClass Bind(IEnumerable target) { ... } } Molesç¼ºç‚¹ Molesç¼ºç‚¹æ˜¯ï¼Œæµ‹è¯•è¿è¡Œæ¯”è¾ƒæ…¢ï¼Œè¿˜æœ‰æµ‹è¯•ä»£ç åªèƒ½åœ¨æœ¬æœºä¸Šæ‰èƒ½æµ‹è¯•é€šè¿‡ï¼Œå‡å¦‚åŒä¼´è·å–ä»£ç åéœ€è¦è¿è¡Œå•å…ƒæµ‹è¯•ï¼Œå¿…é¡»ä¹Ÿå®‰è£…Molasç¯å¢ƒã€‚\nå‚è€ƒèµ„æ–™ http://research.microsoft.com/en-us/projects/pex/molesmanual.pdf\nhttp://research.microsoft.com/en-us/projects/pex/documentation.aspx\n","date":"2012-02-14T17:29:51Z","permalink":"https://blog.xenori.com/2012/02/molas-isolation-framework/","title":"Molasâ€”â€”.NETä¾èµ–åˆ†ç¦»æ¡†æ¶"},{"content":"å‰ä¸€ç¯‡æ–‡ç« ä»‹ç»äº†WinDbgå…¥é—¨ï¼Œæœ¬ç¯‡ä¸»è¦ä»‹ç»WinDbgå¸¸ç”¨å‘½ä»¤å’Œç”¨æ³•ã€‚\nè°ƒè¯•ç¨‹åºçš„CPUæ»¡è½½é—®é¢˜ï¼Œå…³é”®æ˜¯è¦çŸ¥é“ç¨‹åºå½“å‰æ­£åœ¨è¿›è¡Œä»€ä¹ˆæ“ä½œã€‚å‡å¦‚æˆ‘ä»¬åœ¨cpuæ»¡è½½æ—¶åˆ›å»ºäº†ä¸€ä¸ªdumpæ–‡ä»¶ï¼Œä½¿ç”¨ä¸‹é¢å‡ ä¸ªå‘½ä»¤å¯ä»¥æŸ¥çœ‹å½“å‰ç¨‹åºæ­£åœ¨è¿›è¡Œä»€ä¹ˆå¤„ç†ï¼š .time è¿è¡Œ.timeå‘½ä»¤ä¼šæ˜¾ç¤ºæ—¶é—´ç›¸å…³çš„ä¿¡æ¯ï¼Œå¦‚ç³»ç»Ÿè¿è¡Œæ—¶é—´ï¼Œè¿›ç¨‹è¿è¡Œæ—¶é—´å’ŒCPUèŠ±è´¹åœ¨å†…æ ¸æ€å’Œç”¨æˆ·æ€çš„æ—¶é—´ã€‚\n0:000\u0026gt; .time Debug session time: Tue Oct 23 08:38:35.000 2007 (GMT+1) System Uptime: 4 days 17:48:01.906 Process Uptime: 0 days 0:24:37.000 Kernel time: 0 days 0:04:23.000 User time: 0 days 0:03:28.000 ä½ å¯ä»¥çœ‹åˆ°ç³»ç»Ÿå·²æ­£å¸¸è¿è¡Œè¶…è¿‡4å¤©ï¼Œè¿›ç¨‹è¿è¡Œäº†24åˆ†é’Ÿï¼ŒCPUåœ¨å†…æ ¸æ€å’Œç”¨æˆ·æ€ç´¯ç§¯ä½¿ç”¨äº†8åˆ†é’Ÿã€‚æ ¹æ®è¿›ç¨‹æ—¶é—´å’ŒCPUæ—¶é—´èƒ½å¤§æ¦‚ä¼°ç®—å‡ºCPUä½¿ç”¨ç‡å¹³å‡å€¼æ˜¯32.5%ã€‚\n!threadpool\n****é€šè¿‡!threadpoolå‘½ä»¤æˆ‘ä»¬èƒ½å‡†ç¡®çŸ¥é“åˆ›å»ºdumpæ—¶cpuçš„ä½¿ç”¨ç‡ã€‚ä¹Ÿèƒ½çŸ¥é“åœ¨é˜Ÿåˆ—ä¸­çš„å¾…å¤„ç†è¯·æ±‚æ•°ï¼ŒCompletion Port(IOCP)çº¿ç¨‹æ•°å’Œå®šæ—¶å™¨timeæ•°ã€‚\n0:000\u0026gt; !threadpool CPU utilization 100% Worker Thread: Total: 5 Running: 4 Idle: 1 MaxLimit: 200 MinLimit: 2 Work Request in Queue: 16 Unknown Function: 6a2d945d Context: 023ede30 Unknown Function: 6a2d945d Context: 023ee1e8 AsyncTimerCallbackCompletion TimerInfo@11b53760 Unknown Function: 6a2d945d Context: 023ee3a8 Unknown Function: 6a2d945d Context: 023e3040 Unknown Function: 6a2d945d Context: 023ee178 Unknown Function: 6a2d945d Context: 023edfb0 AsyncTimerCallbackCompletion TimerInfo@11b36428 AsyncTimerCallbackCompletion TimerInfo@11b53868 Unknown Function: 6a2d945d Context: 023ee060 Unknown Function: 6a2d945d Context: 023ee290 Unknown Function: 6a2d945d Context: 023eded0 Unknown Function: 6a2d945d Context: 023edd88 Unknown Function: 6a2d945d Context: 023ede98 Unknown Function: 6a2d945d Context: 023ee258 Unknown Function: 6a2d945d Context: 023edfe8 -------------------------------------- Number of Timers: 9 -------------------------------------- Completion Port Thread:Total: 3 Free: 3 MaxFree: 4 CurrentLimit: 2 MaxLimit: 200 MinLimit: 2 æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å½“å‰CPUå·²100%ä½¿ç”¨ç‡ï¼Œæˆ‘ä»¬è¿›å…¥ä¸‹ä¸€å‘½ä»¤ã€‚\n!runaway\nè¿™ä¸ªå‘½ä»¤ç”¨äºæ˜¾ç¤ºæ‰€æœ‰æ­£åœ¨è¿è¡Œçš„çº¿ç¨‹å’Œå®ƒä»¬çš„CPUä½¿ç”¨ç‡ã€‚è¿™ä¸ªå‘½ä»¤å¯¹äºæŸ¥æ‰¾é«˜CPUä½¿ç”¨ç‡é—®é¢˜å¾ˆæœ‰å¸®åŠ©ï¼\n0:000\u0026gt; !runaway User Mode Time Thread Time 25:1a94 0 days 0:00:39.937 16:1bc0 0 days 0:00:38.390 50:1e8c 0 days 0:00:08.859 52:1e40 0 days 0:00:08.687 20:1c2c 0 days 0:00:08.234 51:1340 0 days 0:00:08.171 21:1bcc 0 days 0:00:06.953 26:13ec 0 days 0:00:06.671 44:131c 0 days 0:00:03.906 22:d8c 0 days 0:00:03.375 33:78c 0 days 0:00:02.656 34:1a8c 0 days 0:00:00.906 29:1f5c 0 days 0:00:00.828 6:e28 0 days 0:00:00.625 5:1c78 0 days 0:00:00.546 23:14a4 0 days 0:00:00.484 4:5ac 0 days 0:00:00.437 45:5dc 0 days 0:00:00.421 3:13b4 0 days 0:00:00.421 47:19c8 0 days 0:00:00.375 28:1b6c 0 days 0:00:00.250 46:1dac 0 days 0:00:00.156 7:1dd8 0 days 0:00:00.109 48:cdc 0 days 0:00:00.093 49:1eac 0 days 0:00:00.062 15:1a64 0 days 0:00:00.062 0:1804 0 days 0:00:00.046 36:4a4 0 days 0:00:00.031 11:1eb4 0 days 0:00:00.031 1:10b4 0 days 0:00:00.031 31:16ac 0 days 0:00:00.015 14:4ac 0 days 0:00:00.015 2:186c 0 days 0:00:00.015 59:590 0 days 0:00:00.000 58:294 0 days 0:00:00.000 57:16d0 0 days 0:00:00.000 56:1578 0 days 0:00:00.000 55:1428 0 days 0:00:00.000 54:16d8 0 days 0:00:00.000 53:fd8 0 days 0:00:00.000 43:1b8c 0 days 0:00:00.000 42:1c24 0 days 0:00:00.000 41:1e2c 0 days 0:00:00.000 40:11b0 0 days 0:00:00.000 39:edc 0 days 0:00:00.000 38:1a08 0 days 0:00:00.000 37:171c 0 days 0:00:00.000 35:1254 0 days 0:00:00.000 32:1f9c 0 days 0:00:00.000 30:1ae8 0 days 0:00:00.000 27:190c 0 days 0:00:00.000 24:1d2c 0 days 0:00:00.000 19:1e38 0 days 0:00:00.000 18:ee4 0 days 0:00:00.000 17:fb8 0 days 0:00:00.000 13:1b54 0 days 0:00:00.000 12:1a48 0 days 0:00:00.000 10:f64 0 days 0:00:00.000 9:1024 0 days 0:00:00.000 8:1b78 0 days 0:00:00.000 ä½ å¯ä»¥çœ‹åˆ°è¿è¡Œçº¿ç¨‹çš„æ€»æ—¶é—´å’Œä½¿ç”¨.timeå‘½ä»¤çœ‹åˆ°çš„æ€»cpuä½¿ç”¨æ—¶é—´å¹¶ä¸ç›¸ç­‰ã€‚åŸå› å¾ˆç®€å•ï¼Œå› ä¸ºçº¿ç¨‹è¢«é‡å¤ä½¿ç”¨æˆ–å›æ”¶äº†ã€‚è¿™ä¹Ÿæ„å‘³ç€ä¸€ä¸ªçº¿ç¨‹çš„CPUä½¿ç”¨æ—¶é—´å¯èƒ½æ˜¯å¤„ç†å¤šä¸ªè¯·æ±‚çš„ç»“æœã€‚\n!threads\n!threadsæ˜¾ç¤ºå½“å‰æ‰€æœ‰çš„æ‰˜ç®¡çº¿ç¨‹ä¿¡æ¯ã€‚è¾“å‡ºå¦‚ä¸‹ï¼š\n0:000\u0026gt; !threads ThreadCount: 48 UnstartedThread: 0 BackgroundThread: 29 PendingThread: 0 DeadThread: 19 Hosted Runtime: no PreEmptive GC Alloc Lock ID OSID ThreadOBJ State GC Context Domain Count APT Exception 16 1 1bc0 001fccd0 1808220 Enabled 00000000:00000000 0019daf0 0 Ukn (Threadpool Worker) 22 2 d8c 002016f0 b220 Enabled 00000000:00000000 0019daf0 0 MTA (Finalizer) 14 4 4ac 00242e58 880a220 Enabled 00000000:00000000 0019daf0 0 MTA (Threadpool Completion Port) 23 5 14a4 11b39f18 80a220 Enabled 00000000:00000000 0019daf0 0 MTA (Threadpool Completion Port) 24 6 1d2c 11b41ad8 1220 Enabled 00000000:00000000 0019daf0 0 Ukn 25 7 1a94 11b46c70 180b220 Enabled 27240c98:27241fd8 11b42540 1 MTA (Threadpool Worker) 26 9 13ec 12ce2888 200b220 Enabled 2a9f1434:2a9f33c0 11b42540 0 MTA 27 a 190c 12d85eb8 200b220 Enabled 00000000:00000000 11b42540 0 MTA 29 b 1f5c 13df6a50 200b220 Enabled 2ab1da6c:2ab1f1c0 11b42540 0 MTA 30 c 1ae8 12d44a58 b220 Enabled 00000000:00000000 11b42540 0 MTA 31 d 16ac 12e2e008 200b220 Enabled 2a81348c:2a8153c0 11b42540 1 MTA 5 e 1c78 12da2160 220 Enabled 00000000:00000000 0019daf0 0 Ukn 33 8 78c 11b674c8 200b220 Enabled 2707b818:2707c1d8 11b42540 0 MTA 34 12 1a8c 13f163c8 220 Enabled 00000000:00000000 0019daf0 0 Ukn 36 13 4a4 13eef718 200b220 Enabled 2a7db4a4:2a7dd3c0 11b42540 0 MTA 4 14 5ac 13ef2008 220 Enabled 00000000:00000000 0019daf0 0 Ukn 42 10 1c24 13f0e950 880b220 Enabled 00000000:00000000 0019daf0 0 MTA (Threadpool Completion Port) 6 11 e28 13f16008 220 Enabled 00000000:00000000 0019daf0 0 Ukn 3 f 13b4 13eba008 220 Enabled 00000000:00000000 0019daf0 0 Ukn 43 15 1b8c 140db008 880b220 Enabled 00000000:00000000 0019daf0 0 MTA (Threadpool Completion Port) 44 17 131c 140ceb28 200b220 Enabled 272288c8:27229fd8 11b42540 0 MTA 45 1d 5dc 140cd0a0 220 Enabled 00000000:00000000 0019daf0 0 Ukn 47 20 19c8 1651a008 220 Enabled 00000000:00000000 0019daf0 0 Ukn XXXX 24 0 16468880 1801820 Enabled 00000000:00000000 0019daf0 0 Ukn (Threadpool Worker) 46 1f 1dac 1650ab48 220 Enabled 00000000:00000000 0019daf0 0 Ukn XXXX 1a 0 140d5008 1801820 Enabled 00000000:00000000 0019daf0 0 Ukn (Threadpool Worker) XXXX 16 0 140c5008 1801820 Enabled 00000000:00000000 0019daf0 0 Ukn (Threadpool Worker) 50 3 1e8c 14064420 180b220 Enabled 27246f54:27247fd8 11b42540 1 MTA (Threadpool Worker) XXXX 35 0 1406e800 1801820 Enabled 00000000:00000000 0019daf0 0 Ukn (Threadpool Worker) 51 36 1340 140df008 180b220 Enabled 2adec9cc:2aded1c0 11b42540 1 MTA (Threadpool Worker) XXXX 37 0 16566868 1801820 Enabled 00000000:00000000 0019daf0 0 Ukn (Threadpool Worker) 48 38 cdc 16578840 220 Enabled 00000000:00000000 0019daf0 0 Ukn XXXX 39 0 16566c28 1801820 Enabled 00000000:00000000 0019daf0 0 Ukn (Threadpool Worker) XXXX 3b 0 1646b8b0 1801820 Enabled 00000000:00000000 0019daf0 0 Ukn (Threadpool Worker) XXXX 3c 0 16674008 1801820 Enabled 00000000:00000000 0019daf0 0 Ukn (Threadpool Worker) XXXX 3d 0 16676418 1801820 Enabled 00000000:00000000 0019daf0 0 Ukn (Threadpool Worker) XXXX 3e 0 16676fb8 1801820 Enabled 00000000:00000000 0019daf0 0 Ukn (Threadpool Worker) XXXX 3f 0 16674d48 1801820 Enabled 00000000:00000000 0019daf0 0 Ukn (Threadpool Worker) XXXX 40 0 1667de10 1801820 Enabled 00000000:00000000 0019daf0 0 Ukn (Threadpool Worker) XXXX 41 0 16680050 1801820 Enabled 00000000:00000000 0019daf0 0 Ukn (Threadpool Worker) XXXX 42 0 166812e8 1801820 Enabled 00000000:00000000 0019daf0 0 Ukn (Threadpool Worker) XXXX 43 0 16683e60 1801820 Enabled 00000000:00000000 0019daf0 0 Ukn (Threadpool Worker) 52 44 1e40 165259e8 180b220 Enabled 2adf126c:2adf31c0 11b42540 1 MTA (Threadpool Worker) XXXX 45 0 165b7c08 1801820 Enabled 00000000:00000000 0019daf0 0 Ukn (Threadpool Worker) XXXX 46 0 165aa3d8 1801820 Enabled 00000000:00000000 0019daf0 0 Ukn (Threadpool Worker) XXXX 47 0 165242c8 1801820 Enabled 00000000:00000000 0019daf0 0 Ukn (Threadpool Worker) XXXX 48 0 165e9500 1801820 Enabled 00000000:00000000 0019daf0 0 Ukn (Threadpool Worker) 49 3a 1eac 165676f0 220 Enabled 00000000:00000000 0019daf0 0 Ukn çº¿ç¨‹IDä¸ºXXXXè¡¨ç¤ºè¯¥çº¿ç¨‹å·²ç»“æŸï¼Œå¹¶åœ¨ç­‰å¾…å›æ”¶ã€‚æˆ‘ä»¬ä¹Ÿèƒ½çœ‹åˆ°çº¿ç¨‹IDä¸º22çš„çº¿ç¨‹æ­£åœ¨ç»ˆç»“(finalizer)ã€‚å‡å¦‚æˆ‘ä»¬ä½¿ç”¨!runawayå‘½ä»¤æ—¶çœ‹åˆ°22çº¿ç¨‹æœ‰å¤§é‡çš„cpuæ´»åŠ¨ï¼Œå¯èƒ½æˆ‘ä»¬çš„ç¨‹åºæœ‰ç»ˆç»“(finalizer)é—®é¢˜ã€‚\nåˆ‡æ¢åˆ°æŒ‡å®šçº¿ç¨‹\nè¦åˆ‡æ¢åˆ°æŒ‡å®šçš„çº¿ç¨‹ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„æ ¼å¼å‘½ä»¤ï¼š~[thread id]sï¼Œå‡å¦‚æˆ‘ä»¬è¦åˆ‡æ¢åˆ°50çº¿ç¨‹ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š\n0:000\u0026gt; ~50s ç°åœ¨æˆ‘ä»¬å·²åˆ‡æ¢åˆ°çº¿ç¨‹50ï¼Œå¯ä»¥ä½¿ç”¨å¾ˆå¤šå…¶ä»–æœ‰ç”¨çš„å‘½ä»¤ã€‚\n!clrstack !clrstackæ˜¾ç¤ºå½“å‰çº¿ç¨‹çš„å †æ ˆä¿¡æ¯ï¼Œé€šè¿‡æŒ‡å®šâ€œ-pâ€å‚æ•°ï¼Œè¿˜èƒ½çœ‹åˆ°æ–¹æ³•è°ƒç”¨çš„å‚æ•°å’Œå±€éƒ¨å˜é‡ä¿¡æ¯ã€‚ ä¸‹é¢æ˜¯çº¿ç¨‹50çš„å †æ ˆä¿¡æ¯ï¼š\n0:050\u0026gt; !clrstack OS Thread Id: 0x1e8c (50) ESP EIP 17a9e750 7d61c828 [NDirectMethodFrameSlim: 17a9e750] System.DirectoryServices.Protocols.Wldap32.ldap_bind_s(IntPtr, System.String, System.DirectoryServices.Protocols.SEC_WINNT_AUTH_IDENTITY_EX, System.DirectoryServices.Protocols.BindMethod) 17a9e768 14df70f9 System.DirectoryServices.Protocols.LdapConnection.BindHelper(System.Net.NetworkCredential, Boolean) 17a9e794 14df6de0 System.DirectoryServices.Protocols.LdapConnection.Bind() 17a9e79c 14df59e9 System.DirectoryServices.Protocols.LdapConnection.SendRequestHelper(System.DirectoryServices.Protocols.DirectoryRequest, Int32 ByRef) 17a9e8b8 14df56e8 System.DirectoryServices.Protocols.LdapConnection.SendRequest(System.DirectoryServices.Protocols.DirectoryRequest, System.TimeSpan) 17a9e8bc 14df5657 [InlinedCallFrame: 17a9e8bc] ä»ä¸‹å‘ä¸Šçœ‹ï¼Œæˆ‘ä»¬èƒ½çŸ¥é“LdapConnectionè°ƒç”¨äº†SendRequestæ–¹æ³•ï¼Œè€ŒSendRequeståˆè°ƒç”¨äº†SendRequestHelperæ–¹æ³•ç­‰ç­‰ã€‚ å¦‚æœæˆ‘ä»¬æ‰§è¡Œâ€œ!clrstack -pâ€å‘½ä»¤ï¼Œæˆ‘ä»¬å¾—åˆ°ä¿¡æ¯ï¼š\n0:050\u0026gt; !clrstack -p OS Thread Id: 0x1e8c (50) ESP EIP 17a9e750 7d61c828 [NDirectMethodFrameSlim: 17a9e750] System.DirectoryServices.Protocols.Wldap32.ldap_bind_s(IntPtr, System.String, System.DirectoryServices.Protocols.SEC_WINNT_AUTH_IDENTITY_EX, System.DirectoryServices.Protocols.BindMethod) 17a9e768 14df70f9 System.DirectoryServices.Protocols.LdapConnection.BindHelper(System.Net.NetworkCredential, Boolean) PARAMETERS: this = 0x271fdfe0 newCredential = needSetCredential = 17a9e794 14df6de0 System.DirectoryServices.Protocols.LdapConnection.Bind() PARAMETERS: this = 17a9e79c 14df59e9 System.DirectoryServices.Protocols.LdapConnection.SendRequestHelper(System.DirectoryServices.Protocols.DirectoryRequest, Int32 ByRef) PARAMETERS: this = 0x271fdfe0 request = 0x27246e38 messageID = 0x17a9e8ec 17a9e8b8 14df56e8 System.DirectoryServices.Protocols.LdapConnection.SendRequest(System.DirectoryServices.Protocols.DirectoryRequest, System.TimeSpan) PARAMETERS: this = 0x271fdfe0 request = 0x27246e38 requestTimeout = 17a9e8bc 14df5657 [InlinedCallFrame: 17a9e8bc] æˆ‘ä»¬å¯ä»¥çœ‹åˆ°DirectoryRequestå‚æ•°ä¼ é€’ç»™äº†SendRequestå’ŒSendRequestHelperï¼Œè¦æŸ¥çœ‹DirectoryRequestçš„ç›¸å…³ä¿¡æ¯ï¼Œæˆ‘ä»¬åªéœ€å¤åˆ¶å®ƒçš„åœ°å€ï¼ˆ0x27246e38ï¼‰ï¼Œå¹¶åœ¨ä¸‹ä¸ªå‘½ä»¤ä¸­ä½¿ç”¨ã€‚\n!dumpobject (!do) è¿™æ˜¯å¦å¤–ä¸€ä¸ªé‡è¦çš„å‘½ä»¤ã€‚Dumpobjectä¼šæ‰“å°å‡ºæŒ‡å®šåœ°å€çš„å¯¹è±¡çš„ç›¸å…³ä¿¡æ¯ã€‚æˆ‘ä»¬ä½¿ç”¨åˆšæ‰çš„åœ°å€è¯•ä¸‹:\n0:050\u0026gt; !do 0x27246e38 Name: System.DirectoryServices.Protocols.SearchRequest MethodTable: 14b394c4 EEClass: 14d97ce0 Size: 52(0x34) bytes GC Generation: 0 (C:\\WINDOWS\\assembly\\GAC_MSIL\\System.DirectoryServices.Protocols\\2.0.0.0__b03f5f7f11d50a3a\\System.DirectoryServices.Protocols.dll) Fields: MT Field Offset Type VT Attr Value Name 02c39310 4000102 4 System.String 0 instance 00000000 directoryRequestID 14b398bc 4000103 8 ...ControlCollection 0 instance 27246e90 directoryControlCollection 02c39310 4000111 c System.String 0 instance 27246d00 dn 12579f5c 4000112 10 ....StringCollection 0 instance 27246eb4 directoryAttributes 02c36ca0 4000113 14 System.Object 0 instance 27246ddc directoryFilter 14b39344 4000114 18 System.Int32 1 instance 1 directoryScope 14b393fc 4000115 1c System.Int32 1 instance 0 directoryRefAlias 0fd3da00 4000116 20 System.Int32 1 instance 0 directorySizeLimit 1202af88 4000117 28 System.TimeSpan 1 instance 27246e60 directoryTimeLimit 120261c8 4000118 24 System.Boolean 1 instance 0 directoryTypesOnly é€šè¿‡æ‰“å°çš„ä¿¡æ¯ï¼Œå¯ä»¥çŸ¥é“å®ƒæ˜¯System.DirectoryServices.Protocols.SearchRequestçš„ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œæ˜¾ç¤ºçš„éƒ½æ˜¯ System.DirectoryServices.Protocols.SearchRequestçš„å±æ€§å€¼ã€‚è¦çŸ¥é“SearchRequestç±»çš„ç›¸å…³å±æ€§ä¿¡æ¯ï¼Œå¯ä»¥æŸ¥çœ‹MSDNã€‚å½“å‰æˆ‘ä»¬å·²æœ‰RequestId, Scopeå’ŒDistinguishedNameç­‰ç­‰ã€‚ æ‰€ä»¥ï¼Œå‡å¦‚æˆ‘ä»¬æƒ³çŸ¥é“SearchRequestå¯¹è±¡çš„DistinguishedNameå±æ€§å€¼ï¼Œå³æ˜¯ä¸Šé¢åˆ—è¡¨ä¸­çš„dnï¼Œæˆ‘ä»¬åªéœ€å†å¤åˆ¶å®ƒçš„åœ°å€ï¼ˆ27246d00ï¼‰ï¼Œå¹¶å†æ¬¡ä½¿ç”¨!dumpobjectå‘½ä»¤ã€‚å› ä¸ºDistinguishedNameæ˜¯System.Stringç±»å‹ï¼Œæ‰€ä»¥è¾“å‡ºç»“æœå¾ˆæ˜æ˜¾ï¼š\n0:050\u0026gt; !do 27246d00 Name: System.String MethodTable: 02c39310 EEClass: 0fb610ac Size: 112(0x70) bytes GC Generation: 0 (C:\\WINDOWS\\assembly\\GAC_32\\mscorlib\\2.0.0.0__b77a5c561934e089\\mscorlib.dll) String: CN=Dummy,CN=Accounts,CN=useradm,DC=dummy,DC=net Fields: MT Field Offset Type VT Attr Value Name 0fd3da00 4000096 4 System.Int32 1 instance 48 m_arrayLength 0fd3da00 4000097 8 System.Int32 1 instance 47 m_stringLength 0fb80010 4000098 c System.Char 1 instance 43 m_firstChar 02c39310 4000099 10 System.String 0 shared static Empty \u0026gt;\u0026gt; Domain:Value 0019daf0:03380310 11b42540:03380310 \u0026lt;\u0026lt; 0fb86d44 400009a 14 System.Char[] 0 shared static WhitespaceChars \u0026gt;\u0026gt; Domain:Value 0019daf0:03380324 11b42540:033855bc \u0026lt;\u0026lt; é€šè¿‡è¾“å‡ºçš„ä¿¡æ¯æˆ‘ä»¬å¾ˆå®¹æ˜“çŸ¥é“DistinguishedNameå±æ€§çš„å€¼æ˜¯â€œCN=Dummy,CN=Accounts,CN=useradm,DC=dummy,DC=netâ€ã€‚å¦‚æœæˆ‘ä»¬æƒ³æŸ¥çœ‹æ›´å¤šå†…å®¹ï¼Œåªéœ€ç»§ç»­ä½¿ç”¨!dumpobjectå‘½ä»¤å³å¯ã€‚\n!dumpstackobjects (!dso) ä½¿ç”¨è¯¥å‘½ä»¤æˆ‘ä»¬å¯ä»¥æŸ¥çœ‹åˆ°å½“å‰çº¿ç¨‹çš„å †æ ˆå¼•ç”¨çš„æ‰€æœ‰æ‰˜ç®¡å¯¹è±¡ã€‚æ‰“å°ä¿¡æ¯å¦‚ä¸‹ï¼š\n0:050\u0026gt; !dso OS Thread Id: 0x1e8c (50) ESP/REG Object Name 17a9e534 0741f860 System.RuntimeType 17a9e6b8 271fdfe0 System.DirectoryServices.Protocols.LdapConnection 17a9e6bc 27246f20 System.DirectoryServices.Protocols.SEC_WINNT_AUTH_IDENTITY_EX 17a9e740 271fdfe0 System.DirectoryServices.Protocols.LdapConnection 17a9e744 27246f20 System.DirectoryServices.Protocols.SEC_WINNT_AUTH_IDENTITY_EX 17a9e764 27246f20 System.DirectoryServices.Protocols.SEC_WINNT_AUTH_IDENTITY_EX 17a9e768 271fdfe0 System.DirectoryServices.Protocols.LdapConnection 17a9e780 271fdfe0 System.DirectoryServices.Protocols.LdapConnection 17a9e784 27246e38 System.DirectoryServices.Protocols.SearchRequest 17a9e794 271fdf14 System.DirectoryServices.Protocols.LdapDirectoryIdentifier 17a9e7a8 27246ef8 System.Collections.ArrayList 17a9e7bc 27246ef8 System.Collections.ArrayList 17a9e7c8 271fdfe0 System.DirectoryServices.Protocols.LdapConnection 17a9e8a4 27246e38 System.DirectoryServices.Protocols.SearchRequest 17a9e8d0 27246ed8 System.Object[] (System.Object[]) 17a9e8e0 073ff6b8 System.String cn 17a9e8e4 271fdfe0 System.DirectoryServices.Protocols.LdapConnection 17a9e8f4 27246d00 System.String CN=Dummy,CN=Accounts,CN=useradm,DC=Dummy,DC=net 17a9e8f8 271fdfe0 System.DirectoryServices.Protocols.LdapConnection 17a9e8fc 27246e38 System.DirectoryServices.Protocols.SearchRequest 17a9e910 03380310 System.String 17a9e914 27246e24 System.Object[] (System.String[]) 17a9e918 272399a8 System.String CN=OID-Dummy-ABC123,CN=Dummy,CN=Accounts,CN=useradm,DC=Dummy,DC=net 17a9e91c 27246ddc System.String (CN=OID-Dummy-ABC123) ...etc... è¿™ä¸ªå‘½ä»¤å¯¹äºæŸ¥æ‰¾å½“å‰çº¿ç¨‹å¼•ç”¨äº†é‚£äº›å¯¹è±¡å¾ˆæœ‰ç”¨ã€‚å‡å¦‚ä½ æƒ³æŸ¥çœ‹æŸä¸€å¯¹è±¡ï¼Œåªéœ€å¤åˆ¶[Object]å­—æ®µçš„åœ°å€ï¼Œå¹¶ä½¿ç”¨ !dumpobjectå‘½ä»¤ï¼š\n0:050\u0026gt; !do 271fdfe0 Name: System.DirectoryServices.Protocols.LdapConnection MethodTable: 14a2040c EEClass: 149daf08 Size: 56(0x38) bytes (C:\\WINDOWS\\assembly\\GAC_MSIL\\System.DirectoryServices.Protocols\\2.0.0.0__b03f5f7f11d50a3a\\System.DirectoryServices.Protocols.dll) Fields: MT Field Offset Type VT Attr Value Name 14a2078c 40000c3 4 ...NetworkCredential 0 instance 00000000 directoryCredential 14a2144c 40000c4 8 ...ificateCollection 0 instance 271fe018 certificatesCollection 1202af88 40000c5 10 System.TimeSpan 1 instance 271fdff0 connectionTimeOut 1466fe50 40000c6 c ...rectoryIdentifier 0 instance 271fdf14 directoryIdentifier 14a2034c 4000236 24 System.Int32 0 instance 2 connectionAuthType 14a223a4 4000237 18 ...dapSessionOptions 0 instance 271fe2d8 options 0fb896d8 4000238 28 System.IntPtr 0 instance 564180944 ldapHandle 120261c8 4000239 2c System.Boolean 0 instance 0 disposed 120261c8 400023a 2d System.Boolean 0 instance 0 bounded 120261c8 400023b 2e System.Boolean 0 instance 0 needRebind 14a22084 400023e 1c ...pResponseCallback 0 instance 271fe03c fd 120261c8 4000243 2f System.Boolean 0 instance 0 setFQDNDone 120261c8 4000244 30 System.Boolean 0 instance 1 automaticBind 120261c8 4000245 31 System.Boolean 0 instance 1 needDispose 120261c8 4000246 32 System.Boolean 0 instance 1 connected 14a2267c 4000247 20 ...s.QUERYCLIENTCERT 0 instance 271fe394 clientCertificateRoutine 0fd314bc 400023c 20 ...ections.Hashtable 0 shared static handleTable \u0026gt;\u0026gt; Domain:Value 0019daf0:NotInit 11b42540:073fe504 \u0026lt; \u0026lt; 02c36ca0 400023d 24 System.Object 0 shared static objectLock \u0026gt;\u0026gt; Domain:Value 0019daf0:NotInit 11b42540:073fe53c \u0026lt; \u0026lt; 0fd314bc 400023f 28 ...ections.Hashtable 0 shared static asyncResultTable \u0026gt;\u0026gt; Domain:Value 0019daf0:NotInit 11b42540:073fe610 \u0026lt; \u0026lt; 14a21864 4000240 2c ...lResultsProcessor 0 shared static partialResultsProcessor \u0026gt;\u0026gt; Domain:Value 0019daf0:NotInit 11b42540:073fe678 \u0026lt; \u0026lt; 12305e94 4000241 30 ....ManualResetEvent 0 shared static waitHandle \u0026gt;\u0026gt; Domain:Value 0019daf0:NotInit 11b42540:073fe64c \u0026lt; \u0026lt; 14a21954 4000242 34 ...lResultsRetriever 0 shared static retriever \u0026gt;\u0026gt; Domain:Value 0019daf0:NotInit 11b42540:073fe6a8 \u0026lt; \u0026lt; !dumparray (!da) ä½ å¯èƒ½å·²ç»æ³¨æ„åˆ°æœ‰å¾ˆå¤šå¯¹è±¡æ•°ç»„åœ¨å †æ ˆä¸­ï¼Œåœ¨ä¸Šé¢çš„åˆ—è¡¨ä¸­æŸ¥æ‰¾System.Object[]ç±»å‹å°±èƒ½æ‰¾åˆ°ã€‚å¦‚æœä½ å¯¹å¯¹è±¡æ•°ç»„ä½¿ç”¨ !dumpobjectå‘½ä»¤ï¼Œä½ åªèƒ½çœ‹åˆ°æ•°ç»„ä¿¡æ¯ï¼Œè€Œä¸èƒ½çœ‹åˆ°æ•°ç»„çš„å†…å®¹ä¿¡æ¯ï¼Œè¦çœ‹åˆ°æ•°ç»„å†…å®¹ä¿¡æ¯ï¼Œå°±éœ€è¦ä½¿ç”¨!dumparrayå‘½ä»¤ï¼Œæˆ–ç®€ç§°!da:\n0:050\u0026gt; !do 27239b98 Name: System.Object[] MethodTable: 02c3896c EEClass: 02c388ec Size: 24(0x18) bytes Array: Rank 1, Number of elements 2, Type CLASS Element Type: System.String Fields: None 0:050\u0026gt; !da 27239b98 Name: System.String[] MethodTable: 02c3896c EEClass: 02c388ec Size: 24(0x18) bytes Array: Rank 1, Number of elements 2, Type CLASS Element Methodtable: 02c39310 [0] 272399a8 [1] 27239a44 é€šè¿‡!dumparrayå‘½ä»¤æˆ‘ä»¬èƒ½çŸ¥é“è¯¥æ•°ç»„å¯¹è±¡æ˜¯å­—ç¬¦ä¸²æ•°ç»„ï¼Œå¹¶ç»™å‡ºäº†æ•°ç»„é¡¹çš„åœ°å€ã€‚å†ä½¿ç”¨!dumpobjectå‘½ä»¤æˆ‘ä»¬å°±èƒ½çœ‹åˆ°æ•°ç»„é¡¹çš„å…·ä½“å†…å®¹ã€‚\n!objsize å¦‚æœä½ æŸ¥çœ‹ä¸Šé¢æ‰“å°çš„ä¿¡æ¯ï¼Œå¯ä»¥çœ‹åˆ°å¯¹è±¡çš„å¤§å°æ˜¯24å­—èŠ‚ã€‚ä»æŸæ–¹é¢æ¥è¯´ï¼Œè¿™æ˜¯å¯¹çš„ï¼Œ24å­—èŠ‚æ˜¯System.Object[]æ•°ç»„å¯¹è±¡æœ¬èº«å¤§å°ï¼Œä½†å¹¶ä¸åŒ…æ‹¬æ•°ç»„å†…å®¹çš„å¤§å°!è¦è·å¾—æ•´ä¸ªå¯¹è±¡çš„å¤§å°ï¼Œå°±è¦ä½¿ç”¨åˆ° !objsizeå‘½ä»¤:\n0:050\u0026gt; !objsize 27239b98 sizeof(27239b98) =Â 348 (Â 0x15c) bytes (System.Object[]) !objsizeä¼šéå†å¯¹è±¡å¼•ç”¨çš„æ‰€æœ‰å­å¯¹è±¡ï¼Œå¹¶è®¡ç®—å‡ºæ€»çš„å¤§å°ã€‚å¦‚ä¸Šé¢æ•°ç»„å¯¹è±¡å’Œå®ƒçš„å†…å®¹çš„æ€»å¤§å°æ˜¯348å­—èŠ‚ã€‚ å¦‚æœå¯¹è±¡æœ‰å¼•ç”¨å¾ˆå¤šå­å¯¹è±¡ï¼Œé‚£ä¹ˆ!objsizeä¼šèŠ±è´¹è¾ƒå¤šçš„æ—¶é—´è®¡ç®—å‡ºæ€»å¤§å°ã€‚\n!dumpheap è¿™æ˜¯å¦ä¸€ä¸ªè¾ƒé¢‘ç¹ä½¿ç”¨çš„å‘½ä»¤ã€‚!dumpheapä¼šæ‰“å°å‡ºæ‰€æœ‰åœ¨æ‰˜ç®¡å †ä¸­çš„å¯¹è±¡ä¿¡æ¯ã€‚ç›´æ¥æ‰§è¡Œè¯¥å‘½ä»¤ä¼šæ‰“å°å‡ºå¤§é‡çš„ä¿¡æ¯ï¼Œæ‰€ä»¥ä¸€èˆ¬ä½¿ç”¨æ—¶éƒ½è‡³å°‘å¸¦ä¸Šä¸€ä¸ªå‚æ•°ã€‚åŠ ä¸Š-statå‚æ•°åä¼šè¾“å‡ºæ€»ç»“åçš„ä¿¡æ¯ï¼Œå¦‚ä¸‹é¢æ˜¯æˆªå–çš„æ˜¯!dumpheap -statå‘½ä»¤è¾“å‡ºçš„ä¸€éƒ¨åˆ†:\n0:050\u0026gt; !dumpheap -stat ------------------------------ Heap 0 total 2754508 objects ------------------------------ Heap 1 total 2761329 objects ------------------------------ total 5515837 objects Statistics: MTÂ CountÂ TotalSize Class Name 16e0a6d8Â 1Â 12 System.Collections.Generic.ObjectEqualityComparer`1[[System.Data.ProviderBase.DbConnectionInternal, System.Data]] 16d9cd9cÂ 1Â 12 System.Xml.Serialization.Configuration.DateTimeSerializationSection+DateTimeSerializationMode 16d9bf30Â 1Â 12 System.Diagnostics.OrdinalCaseInsensitiveComparer 16d9112cÂ 1Â 12 System.Xml.Serialization.NameTable 16d7f664Â 1Â 12 System.Xml.Serialization.TempAssemblyCache 163ea85cÂ 1Â 12 System.Data.Res 1501e4c4Â 1Â 12 System.Collections.Generic.ObjectEqualityComparer`1[[System.Web.UI.Control, System.Web]] 14efb138Â 1Â 12 System.Net.TimeoutValidator 14ef9964Â 1Â 12 System.Net.Cache.HttpRequestCacheLevel 14ef77a8Â 1Â 12 Microsoft.Win32.WinInetCache 14ef68e4Â 1Â 12 System.Net.WebRequest+WebProxyWrapper 14ef658cÂ 1Â 12 System.Net.Configuration.ProxyElement+BypassOnLocalValues 14ef63d8Â 1Â 12 System.Net.Configuration.ProxyElement+AutoDetectValues 14ef5b68Â 1Â 12 System.Net.CaseInsensitiveAscii 14ef5610Â 1Â 12 System.Net.HeaderInfoTable 14ef4718Â 1Â 12 System.Net.HttpRequestCreator 14db6710Â 1Â 12 System.Web.Configuration.MachineKeyValidationConverter 14db3140Â 1Â 12 System.Collections.Generic.ObjectEqualityComparer`1[[System.Runtime.Serialization.MemberHolder, mscorlib]] 14b3f4d8Â 1Â 12 System.Web.UI.SupportsEventValidationAttribute ...etc... 14a276a8Â 19578Â 704808 System.DirectoryServices.Interop.AdsValueHelper 14a2ea24Â 9196Â 735680 System.Web.UI.WebControls.Label 14a2e51cÂ 16862Â 741928 System.Web.UI.WebControls.Style 125778ecÂ 48015Â 768240 System.Collections.Specialized.NameObjectCollectionBase+NameObjectEntry 120261c8Â 65842Â 790104 System.Boolean 14a2ee7cÂ 9198Â 809424 System.Web.UI.WebControls.Table 14b311c4Â 9647Â 810348 System.Web.UI.WebControls.Image 13a2b7dcÂ 34913Â 837912 System.Web.HttpServerVarsCollectionEntry 14b303a4Â 10605Â 848400 System.Web.UI.WebControls.HyperLink 14d8e3d4Â 77748Â 932976 Microsoft.Web.UI.WebControls.BaseChildNodeCollection+ActionType 14db90acÂ 81372Â 976464 System.Web.UI.WebControls.FontInfo 14b30694Â 28648Â 1031328 System.Web.UI.WebControls.TableRow+CellControlCollection 14d8fdbcÂ 38912Â 1089536 Microsoft.Web.UI.WebControls.TreeNodeCollection 14b3d0bcÂ 86592Â 1385472 System.Web.UI.Pair 1466c5c4Â 39305Â 1414980 System.Web.UI.ControlCollection 14d8e48cÂ 77748Â 1865952 Microsoft.Web.UI.WebControls.BaseChildNodeCollection+Action 1545061cÂ 38874Â 2176944 Microsoft.Web.UI.WebControls.TreeNode 14b30eecÂ 52668Â 2317392 System.Web.UI.WebControls.TableItemStyle 14a2f804Â 28515Â 2395260 System.Web.UI.WebControls.TableRow 14a2be6cÂ 40894Â 2453640 System.Web.UI.LiteralControl 0fd3da00Â 228792Â 2745504 System.Int32 14b3e3acÂ 244793Â 2937516 System.Web.UI.IndexedString 14a2de94Â 198580Â 3177280 System.Web.UI.StateBag 1466c454Â 80512Â 3542528 System.Web.UI.Control+OccasionalFields 12302c2cÂ 205849Â 4116980 System.Collections.Specialized.HybridDictionary 14b30024Â 52934Â 4446456 System.Web.UI.WebControls.TableCell 12302f2cÂ 178294Â 4992232 System.Collections.Specialized.ListDictionary 14a2e284Â 412762Â 6604192 System.Web.UI.StateItem 14d8ce64Â 117078Â 7024680 Microsoft.Web.UI.WebControls.CssCollection 0fd314bcÂ 132065Â 7395640 System.Collections.Hashtable 1230319cÂ 422580Â 8451600 System.Collections.Specialized.ListDictionary+DictionaryNode 1202a58cÂ 380438Â 9130512 System.Collections.ArrayList 0fd32050Â 133000Â 22582944 System.Collections.Hashtable+bucket[] 02c3896cÂ 649842Â 23275900 System.Object[] 0fd3c12cÂ 3471Â 36385536 System.Byte[] 001fee20Â 338Â 65409920Â Free 02c39310Â 683083Â 161821000 System.String Total 5515837 objects Fragmented blocks larger than 0.5 MB: AddrÂ SizeÂ Followed by 2adf31ccÂ 2.0MBÂ 2aff85d8 System.String 2b006a2cÂ 20.3MBÂ 2c4530d8 System.Net.SocketAddress è¾“å‡ºä¿¡æ¯æŒ‰å¯¹è±¡ç±»å‹çš„æ€»å¤§å°å‡åºæ’åºï¼Œä½ ä¸€èˆ¬å¯ä»¥åœ¨åˆ—è¡¨çš„æœ€ä¸‹é¢æ‰¾åˆ°stringå¯¹è±¡çš„å¤§å°ï¼Œå› ä¸ºå­—ç¬¦ä¸²åœ¨ç¨‹åºä¸­ä¸€èˆ¬æ˜¯æœ€å¸¸ç”¨çš„ã€‚ å…¶ä»–æ¯”è¾ƒæœ‰ç”¨çš„å‚æ•°æ˜¯-typeå’Œ-mtï¼ˆMethodTableçš„æ„æ€ï¼‰ã€‚ä½¿ç”¨å®ƒä»¬ä½ å¯ä»¥æŸ¥çœ‹æŒ‡å®šå¯¹è±¡ç±»å‹çš„è¯¦ç»†ä¿¡æ¯ï¼Œä¾‹å¦‚å‡å¦‚æˆ‘ä»¬æƒ³æŸ¥çœ‹System.Net.HttpRequestCreatorç±»å‹çš„å…·ä½“ä¿¡æ¯ï¼Œå¯ä»¥å¤åˆ¶ä¸Šé¢åˆ—è¡¨ä¸­å®ƒçš„MTå­—æ®µåœ°å€ï¼ˆ14ef4718ï¼‰ï¼Œç„¶åä½¿ç”¨ !dumpheap -mtå‘½ä»¤ï¼š\n0:050\u0026gt; !dumpheap -mt 14ef4718 ------------------------------ Heap 0 Address MT Size 0342ccf8 14ef4718 12 total 1 objects ------------------------------ Heap 1 Address MT Size total 0 objects ------------------------------ total 1 objects Statistics: MT Count TotalSize Class Name 14ef4718 1 12 System.Net.HttpRequestCreator ä¸Šé¢åˆ—å‡ºäº†æ‰€æœ‰System.Net.HttpRequestCreatorç±»å‹çš„å¯¹è±¡çš„åœ°å€ï¼Œå‡å¦‚æˆ‘ä»¬æƒ³æŸ¥çœ‹æŒ‡å®šå¯¹è±¡çš„ä¿¡æ¯ï¼Œå†ä½¿ç”¨!dumpobjectå‘½ä»¤å°±å¯ä»¥äº†ã€‚ !dumpheap -typeå¯ä»¥æ ¹æ®å­—ç¬¦ä¸²æ¥åŒ¹é…å¯¹åº”çš„å¯¹è±¡ç±»å‹ã€‚å¦‚æˆ‘ä»¬è¾“å…¥å‘½ä»¤â€œ!dumpheap -type System.Webâ€ï¼Œæ˜¯æŒ‡æ˜¾ç¤ºæ‰€æœ‰ç±»ååŒ…å«æœ‰â€œSystem.Webâ€å­—ç¬¦ä¸²çš„å¯¹è±¡ä¿¡æ¯ã€‚ å…¶ä»–å‚æ•°-minå’Œ-maxæ˜¯æ¥å—è¡¨ç¤ºå¯¹è±¡å¤§å°çš„æœ€å¤§å€¼å’Œæœ€å°å€¼ï¼ˆå•ä½å­—èŠ‚ï¼‰ï¼Œå‘½ä»¤ä¼šåªåˆ—å‡ºå¤§äºæŒ‡å®šå€¼æˆ–å°äºæŒ‡å®šå€¼çš„å¯¹è±¡ä¿¡æ¯ã€‚è¿™ä¸¤ä¸ªå‚æ•°å¯¹äºæŸ¥æ‰¾æ»¥ç”¨å­—ç¬¦ä¸²é—®é¢˜å¾ˆæœ‰å¸®åŠ©ã€‚\nå®æˆ˜è®­ç»ƒ æŸ¥æ˜ç¼“å­˜ä½¿ç”¨çš„å¤§å° ä¸ºäº†çŸ¥é“åœ¨System.Web.Caching.Cacheç±»å‹ä¸­æœ‰å¤šå°‘æ•°æ®ï¼Œæˆ‘æ‰§è¡Œäº†â€œ !dumpheap -stat -type System.Web.Caching.Cacheâ€å‘½ä»¤ã€‚æ³¨æ„ï¼Œæˆ‘ç”¨äº†-statå‚æ•°ï¼Œå¦åˆ™æˆ‘ä¼šå¾—åˆ°ä¸€ä¸ªåŒ…å«æœ‰System.Web.Caching.CacheKeyså’ŒSystem.Web.Caching.CacheEntryså¯¹è±¡çš„å¾ˆé•¿çš„åˆ—è¡¨ã€‚ä¸‹é¢çš„æ‰§è¡Œç»“æœï¼š\n0:050\u0026gt; !dumpheap -type System.Web.Caching.Cache -stat ------------------------------ Heap 0 total 665 objects ------------------------------ Heap 1 total 1084 objects ------------------------------ total 1749 objects Statistics: MT Count TotalSize Class Name 123056f8 1 12 System.Web.Caching.CacheKeyComparer 1230494c 1 12 System.Web.Caching.Cache 1230500c 1 24 System.Web.Caching.CacheMultiple 1230514c 1 32 System.Web.Caching.CacheMemoryStats 123053b4 1 36 System.Web.Caching.CacheMemoryTotalMemoryPressure 123059bc 2 40 System.Web.Caching.CacheUsage 12304bdc 1 48 System.Web.Caching.CacheCommon 123054f4 1 52 System.Web.Caching.CacheMemoryPrivateBytesPressure 12305874 2 64 System.Web.Caching.CacheExpires 12304e64 2 200 System.Web.Caching.CacheSingle 1255b594 85 1360 System.Web.Caching.CacheDependency+DepFileInfo 123046c4 40 1440 System.Web.Caching.CacheDependency 123042ec 47 1504 System.Web.Caching.CacheItemRemovedCallback 123063fc 832 16640 System.Web.Caching.CacheKey 12306820 732 52704 System.Web.Caching.CacheEntry Total 1749 objects å¾ˆæ˜æ˜¾System.Web.Caching.Cacheçš„æ–¹æ³•åˆ—è¡¨åœ°å€ï¼ˆMethodTableï¼‰æ˜¯1230494cï¼Œå†ä½¿ç”¨!dumpheapå‘½ä»¤æˆ‘å°±èƒ½çœ‹åˆ°å®ƒçš„æ‰€æœ‰å¯¹è±¡ä¿¡æ¯ï¼Œå¦‚ä¸‹ï¼š\n0:050\u0026gt; !dumpheap -mt 1230494c ------------------------------ Heap 0 Address MT Size 03392d20 1230494c 12 total 1 objects ------------------------------ Heap 1 Address MT Size total 0 objects ------------------------------ total 1 objects Statistics: MT Count TotalSize Class Name 1230494c 1 12 System.Web.Caching.Cache Total 1 objects å¯ä»¥çœ‹åˆ°System.Web.Caching.Cacheç±»å‹åªæœ‰ä¸€ä¸ªå¯¹è±¡ï¼Œåœ°å€æ˜¯03392d20ï¼Œå†é€šè¿‡!objsizeå‘½ä»¤å°±èƒ½è®¡ç®—å‡ºå®ƒçš„å¤§å°ã€‚å› ä¸ºç¼“å­˜å¯¹è±¡å¾ˆå¤æ‚ï¼Œå¹¶åŒ…å«æœ‰å¤§é‡çš„å­å¯¹è±¡ï¼Œè¦è®¡ç®—å‡ºæ€»å¤§å°éœ€è¦èŠ±äº›æ—¶é—´ï¼š\n0:050\u0026gt; !objsize 03392d20 sizeof(03392d20) = 266640828 ( 0xfe49dbc) bytes (System.Web.Caching.Cache) æ‰€ä»¥ç¼“å­˜çš„æ€»å¤§å°æ˜¯ 266 MBã€‚\nç¼“å­˜äº†ä»€ä¹ˆä¸œè¥¿ï¼Ÿ ä¸ºäº†å¼„æ¸…ç¼“å­˜ä¸­ä¿å­˜äº†ä»€ä¹ˆå†…å®¹ï¼Œæˆ‘æŸ¥çœ‹äº†System.Web.Caching.CacheEntryçš„å¯¹è±¡ä¿¡æ¯ã€‚é€šè¿‡ä¹‹å‰çš„ä¿¡æ¯å¯ä»¥çŸ¥é“System.Web.Caching.CacheEntryç±»å‹çš„æ–¹æ³•åˆ—è¡¨(MethodTable)æ˜¯12306820ã€‚æ‰§è¡Œ!dumpheapå‘½ä»¤å–CacheEntryçš„æ‰€æœ‰å¯¹è±¡ä¿¡æ¯ï¼š\n0:050\u0026gt; !dumpheap -mt 12306820 ------------------------------ Heap 0 Address MT Size 033950bc 12306820 72 033a20d8 12306820 72 033ac79c 12306820 72 033da21c 12306820 72 033f04c4 12306820 72 03428ec8 12306820 72 0344dab4 12306820 72 03815d00 12306820 72 038265d8 12306820 72 ....etc... 03af7010 12306820 72 03b291bc 12306820 72 03b2c674 12306820 72 03b6dca0 12306820 72 03b797dc 12306820 72 03b85318 12306820 72 03ba9150 12306820 72 03c258cc 12306820 72 03de43c8 12306820 72 03e160f8 12306820 72 total 382 objects ------------------------------ total 732 objects è¦æ˜¾ç¤ºä¸Šé¢çš„ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨â€œ!dumpheap -type System.Web.Caching.CacheEntryâ€å‘½ä»¤ã€‚ æœ‰äº†æ‰€æœ‰CacheEntryå¯¹è±¡çš„åœ°å€ä¿¡æ¯ï¼Œæˆ‘éšæœºæ‹¿äº†ä¸€ä¸ªåœ°å€æŸ¥çœ‹å®ƒçš„å†…å®¹ï¼š\n0:050\u0026gt; !do 03b2c674 Name: System.Web.Caching.CacheEntry MethodTable: 12306820 EEClass: 122f6470 Size: 72(0x48) bytes (C:\\WINDOWS\\assembly\\GAC_32\\System.Web\\2.0.0.0__b03f5f7f11d50a3a\\System.Web.dll) Fields: MT Field Offset Type VT Attr Value Name 02c39310 4001327 4 System.String 0 instance 03b2c600 _key 0fb8f1f8 4001328 c System.Byte 0 instance 2 _bits 0fd3da00 4001329 8 System.Int32 0 instance -1314181915 _hashCode 02c36ca0 4001330 10 System.Object 0 instance 03b2c644 _value 120219d0 4001331 1c System.DateTime 1 instance 03b2c690 _utcCreated 120219d0 4001332 24 System.DateTime 1 instance 03b2c698 _utcExpires 1202af88 4001333 2c System.TimeSpan 1 instance 03b2c6a0 _slidingExpiration 0fb8f1f8 4001334 d System.Byte 0 instance 7 _expiresBucket 123062d8 4001335 34 ...g.ExpiresEntryRef 1 instance 03b2c6a8 _expiresEntryRef 0fb8f1f8 4001336 e System.Byte 0 instance 4294967295 _usageBucket 12306738 4001337 38 ...ing.UsageEntryRef 1 instance 03b2c6ac _usageEntryRef 120219d0 4001338 3c System.DateTime 1 instance 03b2c6b0 _utcLastUpdate 123046c4 4001339 14 ...g.CacheDependency 0 instance 00000000 _dependency 02c36ca0 400133a 18 System.Object 0 instance 033d8344 _onRemovedTargets 120219d0 400132d 1bc System.DateTime 1 shared static NoAbsoluteExpiration \u0026gt;\u0026gt; Domain:Value 0019daf0:NotInit 11b42540:03395104 \u0026lt; \u0026lt; 1202af88 400132e 1c0 System.TimeSpan 1 shared static NoSlidingExpiration \u0026gt;\u0026gt; Domain:Value 0019daf0:NotInit 11b42540:03395114 \u0026lt; \u0026lt; 1202af88 400132f 1c4 System.TimeSpan 1 shared static OneYear \u0026gt;\u0026gt; Domain:Value 0019daf0:NotInit 11b42540:03395124 \u0026lt; \u0026lt; è¾“å‡ºçš„æ˜¯CacheEntryçš„å±æ€§ä¿¡æ¯ï¼Œé‡Œé¢æœ€é‡è¦çš„æ˜¯_valueå±æ€§ã€‚æˆ‘å¤åˆ¶å®ƒçš„åœ°å€ï¼ˆ03b2c644ï¼‰ï¼Œå†ç”¨!dumpobjectå‘½ä»¤æŸ¥çœ‹ï¼š\n0:000\u0026gt; !do 03e160c8 Name: System.Web.SessionState.InProcSessionState MethodTable: 14dbad5c EEClass: 14e43af8 Size: 48(0x30) bytes (C:\\WINDOWS\\assembly\\GAC_32\\System.Web\\2.0.0.0__b03f5f7f11d50a3a\\System.Web.dll) Fields: MT Field Offset Type VT Attr Value Name 1466c9d8 4001d89 4 ...ateItemCollection 0 instance 1a7f5438 _sessionItems 1292672c 4001d8a 8 ...ObjectsCollection 0 instance 00000000 _staticObjects 0fd3da00 4001d8b c System.Int32 0 instance 20 _timeout 120261c8 4001d8c 18 System.Boolean 0 instance 0 _locked 120219d0 4001d8d 1c System.DateTime 1 instance 03e160e4 _utcLockDate 0fd3da00 4001d8e 10 System.Int32 0 instance 1 _lockCookie 1202bf60 4001d8f 24 ...ReadWriteSpinLock 1 instance 03e160ec _spinLock 0fd3da00 4001d90 14 System.Int32 0 instance 0 _flags å¯ä»¥çœ‹åˆ°ç¼“å­˜çš„æ˜¯ä¸€ä¸ªInProcSessionStateå¯¹è±¡ã€‚\nå‚è€ƒæ–‡ç« ï¼š Getting started with windbg - part I\nGetting started with windbg - part II\n","date":"2012-02-02T03:33:37Z","permalink":"https://blog.xenori.com/2012/02/windbg-useful-commands/","title":"WinDbgå¸¸ç”¨å‘½ä»¤"},{"content":"åŸæ–‡ï¼šhttp://blogs.msdn.com/b/kaevans/archive/2011/04/11/intro-to-windbg-for-net-developers.aspx ç¿»è¯‘ï¼šbitxeno\nå½“ä½ çš„ä»£ç å‘å¸ƒä¸ºäº§å“åï¼Œæ— è®ºæ˜¯åœ¨å…¶ä»–äººçš„ç”µè„‘ä¸­è¿è¡Œï¼Œè¿˜æ˜¯éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸­ï¼Œä½ é€šå¸¸ä¸å†èƒ½è®¿é—®åˆ°å®ƒçš„ç¨‹åºæ–‡ä»¶ï¼Œä¹Ÿä¸èƒ½è§‚å¯Ÿåˆ°ä»£ç çš„å½“å‰è¿è¡Œæƒ…å†µå’Œè¿è¡Œç¯å¢ƒã€‚å½“ä½ çš„ä»£ç åœ¨æ–°çš„ç¯å¢ƒè¿è¡Œæ—¶ï¼Œæœ‰å¾ˆå¤šå› ç´ ä¼šå½±å“åˆ°ç¨‹åºçš„è¿è¡Œæƒ…å†µï¼Œå¦‚æœåŠ¡å™¨ç³»ç»Ÿæ‰“äº†æ›´æ–°è¡¥ä¸ï¼Œç½‘ç»œç­–ç•¥æ”¹å˜ï¼Œé˜²ç«å¢™è§„åˆ™é™åˆ¶ï¼Œç£ç›˜æƒé™é…ç½®ç­‰ç­‰ã€‚å½“ä»£ç è¿è¡Œä¸æ­£å¸¸æ—¶ï¼Œä½ å¯èƒ½åªèƒ½é ä»£ç ä¸­å„å¤„è¾“å‡ºçš„æ—¥å¿—æ¥åˆ¤æ–­è¿è¡Œæƒ…å†µã€‚ä½†åªé è¾“å‡ºæ—¥å¿—ï¼Œä½ æœ‰æ—¶è¿˜æ˜¯ä¸èƒ½åˆ¤æ–­æ•…éšœå‡ºç°çš„åŸå› ã€‚\nåœ¨ä¸æµªè´¹å®¢æˆ·æ—¶é—´çš„åŒæ—¶åšæ•…éšœæ’é™¤å¯¹ä½ æ˜¯ä¸ªå¾ˆå¤§çš„æŒ‘æˆ˜ï¼Œå› ä¸ºä¸ä¼šæœ‰å®¢æˆ·å–œæ¬¢è¢«ä¸€ä¸ªææŠ€æœ¯çš„å®¶ä¼™ä¸æ–­é—®æ˜¯ç‚¹äº†é‚£ä¸ªæŒ‰é’®æ“ä½œäº†å“ªäº›æ­¥éª¤å¯¼è‡´ç¨‹åºå‡ºé”™çš„ã€‚bossä¹Ÿä¸ä¼šç»™ä½ å‡ å¤©ç”šè‡³å‡ å‘¨çš„æ—¶é—´è®©ä½ æ…¢æ…¢æ’é™¤æ•…éšœï¼Œä½ å¿…é¡»ç°åœ¨å°±çŸ¥é“åˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆã€‚\nç†æƒ³æƒ…å†µä¸‹ï¼Œä½ åº”è¯¥èƒ½çœ‹åˆ°å †æ ˆè·Ÿè¸ªï¼Œèƒ½æŸ¥çœ‹åˆ°å½“å‰çš„å˜é‡å€¼ï¼Œèƒ½è°ƒè¯•ä»£ç ã€‚äº‹å®è¯æ˜ä½ å¯ä»¥åšåˆ°è¿™ç‚¹ã€‚ã€‚ã€‚è€Œä¸”ä¸éœ€è¦é™„åŠ åˆ°å®¢æˆ·ç¯å¢ƒä¸­ï¼\nä¸‹è½½WinDbg ä¸‹è½½Debugging Tools for Windowsåˆ°ä½ çš„æœ¬åœ°å¼€å‘æœºä¸­ï¼Œwindbgæ˜¯å…¶ä¸­çš„ä¸€éƒ¨åˆ†ï¼Œå¦‚æœä½ åªéœ€è¦windbgï¼Œåœ¨å¯ä»¥åœ¨â€œCommon Utilitiesâ€ä¸­é€‰æ‹©â€œDebugging Tools for Windows\u0026ldquo;è¿›å…¥å®‰è£…ã€‚å®‰è£…ç¨‹åºä¼šæ ¹æ®ä½ ç”µè„‘çš„cpuç±»å‹å®‰è£…å¯¹åº”çš„windbgï¼Œx86çš„ç”µè„‘ä¼šå®‰è£…x86ç‰ˆæœ¬ï¼Œx64çš„cpuç”µè„‘å°±ä¼šå®‰è£…x64ç‰ˆã€‚å¦‚æœä½ é€‰æ‹©çš„æ˜¯â€œRedistributable Packagesâ€œï¼Œå°±ä¼šä¸ºä½ ä¸‹è½½å…¨éƒ¨ä¸‰ä¸ªç‰ˆæœ¬ï¼ˆx86,x64,Itaniumï¼‰ã€‚\nWinDbgé»˜è®¤ä¼šå®‰è£…åˆ°cç›˜çš„â€œProgram Files\\Debugging Tools for Windowsâ€æ–‡ä»¶å¤¹ä¸‹ï¼Œå»ºè®®ä½ æŠŠå®‰è£…ç›®å½•å¤åˆ¶åˆ°â€œd:\\debugâ€ï¼Œè¿™æ ·æ–¹ä¾¿åé¢å¢åŠ å…¶ä»–æ‰©å±•ç»„ä»¶ã€‚\nå®‰è£…å¥½åï¼Œç›®å½•ä¸‹çš„windbg.exeå°±æ˜¯windbgç¨‹åº\nå®‰è£…PssCor2\n****ä¸‹ä¸€æ­¥æ˜¯åŠ è½½æ‰˜ç®¡ä»£ç æ‰©å±•ç»„ä»¶PssCor2ã€‚é»˜è®¤æ—¶ï¼ŒWinDbgåªèƒ½ç”¨äºè°ƒè¯•éæ‰˜ç®¡ä»£ç ç¨‹åº ï¼Œè€ŒåŠ è½½.netä½¿ç”¨çš„SOS.dllæ‰©å±•ç»„ä»¶åï¼ŒWinDbgå°±èƒ½è°ƒè¯•æ‰˜ç®¡ç¨‹åºäº†ã€‚WinDbgè°ƒè¯•.netç¨‹åºçš„å¦ä¸€ä¸ªé€‰æ‹©æ˜¯PssCor2ï¼Œå®ƒæ˜¯SOS.dllçš„è¶…é›†ï¼Œå¹¶æä¾›äº†ä¸€äº›é¢å¯¹æ‰˜ç®¡ä»£ç çš„é¢å¤–åŠŸèƒ½ï¼Œå¦‚æŸ¥çœ‹æ‰˜ç®¡çº¿ç¨‹ï¼Œæ‰˜ç®¡å †ï¼ŒCLRå †æ ˆç­‰ç­‰ã€‚\nä¸‹è½½PssCor2å¹¶è§£å‹åˆ°â€œd:\\debugâ€ï¼Œä»¥æ–¹ä¾¿åé¢çš„è°ƒè¯•ä½¿ç”¨ã€‚\nè®¾å®šç¬¦å·æ–‡ä»¶è·¯å¾„ï¼ˆSymbol Pathï¼‰\n****å½“ä½ ä½¿ç”¨Visual Studioç¼–è¯‘ç¨‹åºæ—¶ï¼Œæ˜¯å¦æœ‰ç•™æ„åˆ°åœ¨bin/Debugæ–‡ä»¶å¤¹ä¸‹ä¼šæœ‰.pdbåç¼€çš„æ–‡ä»¶ï¼Ÿè¿™äº›æ–‡ä»¶åŒ…å«æœ‰dllç¨‹åºé›†çš„è°ƒè¯•ç¬¦å·ï¼Œpdbæ–‡ä»¶å¹¶ä¸åŒ…å«æœ‰æ‰§è¡Œä»£ç ï¼Œåªæ˜¯ä½¿è°ƒè¯•å·¥å…·èƒ½æŠŠä»£ç æ‰§è¡ŒæŒ‡ä»¤ç¿»è¯‘ä¸ºæ­£ç¡®çš„å¯è¯†åˆ«å­—ç¬¦ã€‚å¾®è½¯æä¾›äº†åŒ…å«å¤§é‡pdbæ–‡ä»¶çš„å…¬å…±æœåŠ¡å™¨ï¼Œåœ°å€å¦‚ä¸‹ï¼š\nhttp://msdl.microsoft.com/download/symbols\nåœ¨windbgä¸­è®¾å®šç¬¦å·æ–‡ä»¶è·¯å¾„åï¼Œç›¸å…³çš„pdbæ–‡ä»¶ä¼šè‡ªåŠ¨ä»æœåŠ¡å™¨ä¸‹è½½ä¸‹æ¥å¹¶ä¿å­˜åˆ°æœ¬åœ°ã€‚ä½ é¦–å…ˆéœ€è¦æŒ‡å®šä¸€ä¸ªpdbæ–‡ä»¶çš„ä¿å­˜è·¯å¾„ï¼Œå¦‚â€œd:\\debug\\symbolsâ€ã€‚\næ‰“å¼€windbgç¨‹åºï¼Œé€‰æ‹©â€œFile-\u0026gt;Symbol File Pathâ€¦â€œï¼ŒæŠŠä¸‹é¢çš„å†…å®¹å¤åˆ¶è¿›å»ä¿å­˜ã€‚\nsrv*d:\\debug\\symbols*http://msdl.microsoft.com/download/symbols åˆ›å»ºæµ‹è¯•ç¨‹åº\næˆ‘ä»¬å…ˆåˆ›å»ºä¸€ä¸ªç®€å•çš„å‘½ä»¤è¡Œç¨‹åºç”¨äºæµ‹è¯•ï¼š\nusing System; namespace Microsoft.PFE.Samples { public class Program { static void Main() { Console.WriteLine(\u0026quot;Enter a message:\u0026quot;); string input = Console.ReadLine(); Data d = new Data { ID = 5, Message = input, CurrentDateTime = System.DateTime.Now }; Console.WriteLine(\u0026quot;You entered: \u0026quot; + d); } } public class Data { public int ID {get; set;} public string Message {get; set;} public DateTime CurrentDateTime {get; set;} public override string ToString() { Console.ReadLine(); return string.Format(\u0026quot;ID:{0} {1} at {2}\u0026quot;, ID, Message, CurrentDateTime.ToLongTimeString()); } } } å› ä¸ºPssCor2åªèƒ½å¤„ç†.Net 3.5ä»¥ä¸‹çš„ç¨‹åºï¼Œæ‰€ä»¥åœ¨ç¼–è¯‘å‰éœ€è¦å…ˆæŠŠç¨‹åºçš„ç¯å¢ƒæ”¹ä¸º.Net 3.5ã€‚å‡å¦‚æ˜¯è°ƒè¯•.NET 4.0çš„ç¨‹åºï¼Œå¯ä»¥ä¸‹è½½PssCor4ã€‚ç¼–è¯‘è¿è¡Œç¨‹åºï¼Œè¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œçœ‹ç¨‹åºæ˜¯å¦è¿è¡Œæ­£å¸¸ã€‚\nå®¢æˆ·æŠ±æ€¨è¯´ä¸çŸ¥é“ä¸ºä»€ä¹ˆç¨‹åºéœ€è¦æŒ‰ä¸¤æ¬¡enteré”®ã€‚ç¨‹åºå¹¶ä¸æŒ‰æˆ‘ä»¬çš„é¢„æœŸå·¥ä½œï¼Œæˆ‘ä»¬å¿…é¡»æ‰¾åˆ°å…·ä½“çš„åŸå› ã€‚ä½œä¸ºä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œæˆ‘ä»¬èƒ½ä¸€çœ¼çœ‹å‡ºä»£ç ä¸­çš„ToString()æ–¹æ³•ä¸­å¤šäº†ä¸€æ¬¡ReadLine()å¯¼è‡´çš„ï¼Œä½†æˆ‘ä»¬è¿™æ¬¡è¯•ä¸‹ç”¨windbgæ‰¾å‡ºé—®é¢˜æ‰€åœ¨ã€‚\nè¿è¡Œç¨‹åºï¼Œè¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ŒæŒ‰ä¸€æ¬¡enterï¼Œå½“å‡ºç°ç¬¬äºŒæ¬¡è¾“å…¥æç¤ºæ—¶ï¼Œä¸è¦åŠ¨ï¼æˆ‘ä»¬å¤„äºæ•æ‰é—®é¢˜çš„å…³é”®ç‚¹ï¼Œæˆ‘ä»¬éœ€è¦åšä¸€ä¸ªdumpæ–‡ä»¶ã€‚\nåˆ›å»ºdumpæ–‡ä»¶\n****åœ¨windows7å’Œwindows2008ä¸­ï¼Œå¯ä»¥åœ¨ä»»åŠ¡ç®¡ç†å™¨ä¸­ç›´æ¥åˆ›å»ºdumpæ–‡ä»¶ã€‚åªéœ€æ‰“å¼€ä»»åŠ¡ç®¡ç†å™¨ï¼Œå³é”®è¿›ç¨‹åå¹¶é€‰æ‹©â€œCreate Dump Fileâ€ã€‚\ndumpæ–‡ä»¶åˆ›å»ºæˆåŠŸåï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°æç¤ºï¼š\ndumpæ–‡ä»¶æ˜¯å½“å‰è¿›ç¨‹çš„å†…å­˜å¿«ç…§ï¼Œdumpæ–‡ä»¶çš„å¤§å°ä¼šå’Œè¿›ç¨‹ä½¿ç”¨çš„å†…å­˜å¤§å°ä¸€æ ·ï¼Œä¸ºäº†å‡å°‘ä½“ç§¯ï¼Œä½ å¯ä»¥ä½¿ç”¨å‹ç¼©è½¯ä»¶è¿›è¡Œå‹ç¼©ã€‚\nè¿˜æœ‰å¦å¤–çš„å·¥å…·å¯ä»¥åˆ›å»ºdumpæ–‡ä»¶ï¼Œå¦‚Process Explorer from SysInternalsï¼Œä¹Ÿåªéœ€è¦åœ¨ä»»åŠ¡ç®¡ç†ä¸­å³é”®é€‰æ‹©â€œFull Dumpâ€ã€‚\nADPluså’ŒDebugDiagä¹Ÿå¯ä»¥åˆ›å»ºdumpæ–‡ä»¶ã€‚ADPlusæ˜¯windbgå®‰è£…ç›®å½•ä¸‹çš„ä¸€ä¸ªå‘½ä»¤è¡Œç¨‹åºï¼Œä½ å¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤åˆ›å»ºä¸€ä¸ªdumpæ–‡ä»¶ï¼š\nAdplus -quiet -hang -p 4332 -o d:\\debug 4332æ˜¯è¿›ç¨‹idï¼Œä»»åŠ¡ç®¡ç†å™¨é»˜è®¤æ˜¯ä¸æ˜¾ç¤ºè¿›ç¨‹idçš„ï¼Œè¦æ˜¾ç¤ºå‡ºæ¥ï¼Œéœ€è¦åœ¨windowsä»»åŠ¡ç®¡ç†å™¨é€‰æ‹©â€œæŸ¥çœ‹-\u0026gt;é€‰æ‹©åˆ—â€ï¼Œå‹¾é€‰â€œPIDï¼ˆè¿›ç¨‹æ ‡è¯†ç¬¦ï¼‰â€ã€‚\nå¼€å§‹ä½¿ç”¨WinDbg\n****ç°åœ¨æˆ‘ä»¬æœ‰äº†ç¨‹åºdumpæ–‡ä»¶ï¼Œæ‰“å¼€windbgç¨‹åºï¼Œé€‰æ‹©èœå•â€œFile-\u0026gt;Open Crash Dumpâ€ï¼Œå¹¶é€‰æ‹©åˆšåˆ›å»ºçš„dumpæ–‡ä»¶ï¼Œä½ ä¼šçœ‹åˆ°ä¸€äº›ä¿¡æ¯ï¼š\nLoading Dump File [D:\\debug\\program6.dmp] User Mini Dump File: Only registers, stack and portions of memory are available Symbol search path is: srv*d:\\debug\\symbols*http://msdl.microsoft.com/download/symbols Executable search path is: Windows 7 Version 7600 MP (8 procs) Free x64 Product: WinNt, suite: SingleUserTS Machine Name: Debug session time: Sun Feb 6 10:43:57.000 2011 (GMT-6) System Uptime: not available Process Uptime: 0 days 1:05:48.000 ......................... ntdll!NtRequestWaitReplyPort+0xa: 00000000`76d2ff7a c3 ret åœ¨ä¸Šé¢çš„æ–‡å­—ä¸­ï¼Œä½ å¯ä»¥çœ‹åˆ°dumpæ–‡ä»¶çš„è·¯å¾„ï¼Œç¬¦å·æ–‡ä»¶çš„æŸ¥æ‰¾è·¯å¾„ç­‰ä¿¡æ¯ã€‚è€Œç¨‹åºæœ€ä¸‹æ–¹æœ‰ä¸ªè¾“å…¥æ¡†ï¼Œä½ å¯ä»¥åœ¨ä¸Šé¢è¾“å…¥å‘½ä»¤ã€‚\næ˜¾ç¤ºæ¨¡å—\nè®©æˆ‘ä»¬è¯•ä¸‹æ˜¾ç¤ºç¨‹åºå·²åŠ è½½äº†å“ªäº›æ¨¡å—ã€‚åœ¨çª—å£æœ€ä¸‹æ–¹çš„è¾“å…¥æ¡†ä¸­ï¼Œè¾“å…¥â€œlmâ€å‘½ä»¤ã€‚\n0:000\u0026gt; lm start end module name 00000000`00120000 00000000`00128000 program (deferred) 00000000`742b0000 00000000`74379000 msvcr80 (deferred) 00000000`76ac0000 00000000`76bba000 user32 (deferred) 00000000`76bc0000 00000000`76cdf000 kernel32 (pdb symbols) d:\\debug\\symbols\\kernel32.pdb\\D5E268B5DD1048A1BFB011C744DD3DFA2\\kernel32.pdb 00000000`76ce0000 00000000`76e8b000 ntdll (pdb symbols) d:\\debug\\symbols\\ntdll.pdb\\0F7FCF88442F4B0E9FB51DC4A754D9DE2\\ntdll.pdb 000007fe`f3fb0000 000007fe`f4134000 mscorjit (deferred) 000007fe`f5030000 000007fe`f5f0b000 mscorlib_ni (deferred) 000007fe`f7650000 000007fe`f7ffe000 mscorwks (deferred) 000007fe`f8010000 000007fe`f80a0000 mscoreei (deferred) 000007fe`f80a0000 000007fe`f810f000 mscoree (deferred) 000007fe`fcb70000 000007fe`fcb7f000 CRYPTBASE (deferred) 000007fe`fcc40000 000007fe`fcc4f000 profapi (deferred) 000007fe`fcf20000 000007fe`fcf8b000 KERNELBASE (deferred) 000007fe`fd0e0000 000007fe`fd2e2000 ole32 (deferred) 000007fe`fd4d0000 000007fe`fd59a000 usp10 (deferred) 000007fe`fd6f0000 000007fe`fe476000 shell32 (deferred) 000007fe`fe480000 000007fe`fe4ae000 imm32 (deferred) 000007fe`fe840000 000007fe`fe84e000 lpk (deferred) 000007fe`fe9d0000 000007fe`feaab000 advapi32 (deferred) 000007fe`feb50000 000007fe`fec7e000 rpcrt4 (deferred) 000007fe`fec80000 000007fe`fecf1000 shlwapi (deferred) 000007fe`fed00000 000007fe`fed67000 gdi32 (deferred) 000007fe`fee10000 000007fe`fef19000 msctf (deferred) 000007fe`fef20000 000007fe`fefbf000 msvcrt (deferred) 000007fe`fefd0000 000007fe`fefef000 sechost (deferred) åœ¨ä¸Šé¢çš„æ¨¡å—åˆ—è¡¨ä¸­ï¼Œä½ éœ€è¦å…³æ³¨çš„æ˜¯mscorwksæ˜¯å¦å­˜åœ¨ï¼ŒPssCor2åªèƒ½ç”¨äº.NET 3.5çš„ç¨‹åºï¼Œå‡å¦‚æ˜¯.NET 4.0ç¨‹åºï¼Œå°±çœ‹ä¸åˆ°mscorwksæ¨¡å—ã€‚\nå¯¹äºSharePointå¼€å‘äººå‘˜ï¼Œå‡å¦‚ä½ æ­£åœ¨è°ƒè¯•ç¨‹åºç‰¹æ€§å¦‚ receivers å’Œ event å¤„ç†ä¸ºä»€ä¹ˆä¸è§¦å‘ï¼Œlmå°†æ˜¯å¾ˆå¥½ç”¨çš„å‘½ä»¤ã€‚é€šè¿‡ä¸Šé¢çš„åˆ—è¡¨ï¼Œä½ èƒ½çŸ¥é“æœ‰å“ªäº›æ¨¡å—æ²¡åŠ è½½è¿›æ¥ï¼Œå¯èƒ½æ˜¯é…ç½®ä¸æ­£ç¡®å¯¼è‡´çš„ï¼Œè¿™æ ·èƒ½å¤§å¤§åœ°å‡å°‘ä½ æŸ¥æ‰¾é—®é¢˜çš„èŒƒå›´ã€‚å¯¹äºASP.NETå¼€å‘äººå‘˜ï¼Œä¼šæœ‰åŠ©äºæŸ¥æ‰¾HttpModuleä¸è§¦å‘çš„åŸå› ï¼Œå¯èƒ½æ˜¯web.configé…ç½®ä¸æ­£ç¡®ã€‚\nåŠ è½½PssCor2\nè¦æŠŠPssCor2æ‰©å±•ç»„ä»¶åŠ è½½å…¥windbgï¼Œéœ€ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼š\n.load d:\\debug\\psscor2\\amd64\\psscor2.dll æˆ‘çš„ç”µè„‘æ˜¯64ä½çš„ï¼Œæ‰€ä»¥æˆ‘åŠ è½½äº†AMD64 ç‰ˆæœ¬çš„PssCor2.dllã€‚åŠ è½½çš„PssCor2ç‰ˆæœ¬å¿…é¡»å’Œdumpæ–‡ä»¶è¿›ç¨‹æ‰€åœ¨æœåŠ¡å™¨çš„æ¶æ„ç›¸ä¸€è‡´ï¼Œå‡å¦‚ä½ æ˜¯è°ƒè¯•x86ç¨‹åºçš„dumpæ–‡ä»¶ï¼Œä½ å°±å¿…é¡»åŠ è½½x86ç‰ˆæœ¬çš„PssCor2.dllã€‚ è¾“å…¥ä¸‹é¢çš„å‘½ä»¤ï¼Œä»¥ç¡®è®¤PssCor2æ˜¯å¦åŠ è½½æˆåŠŸï¼š\n!help æ­£ç¡®ä¼šè¾“å…¥ä¸‹é¢çš„å†…å®¹ï¼š\n0:000\u0026gt; .load d:\\debug\\psscor2\\amd64\\psscor2.dll 0:000\u0026gt; !help ------------------------------------------------------------------------------- PSSCOR is a debugger extension DLL designed to aid in the debugging of managed programs. Functions are listed by category, then roughly in order of importance. Shortcut names for popular functions are listed in parenthesis. Type \u0026quot;!help \u0026quot; for detailed info on that function. Object Inspection Examining code and stacks ----------------------------- ----------------------------- DumpObj (do) Threads DumpArray (da) CLRStack DumpStackObjects (dso) IP2MD DumpAllExceptions (dae) BPMD DumpHeap U DumpVC DumpStack GCRoot EEStack ObjSize GCInfo FinalizeQueue EHInfo PrintException (pe) COMState TraverseHeap DumpField (df) DumpDynamicAssemblies (dda) GCRef DumpColumnNames (dcn) DumpRequestQueues DumpUMService Examining CLR data structures Diagnostic Utilities ----------------------------- ----------------------------- DumpDomain VerifyHeap EEHeap DumpLog Name2EE FindAppDomain SyncBlk SaveModule DumpThreadConfig (dtc) SaveAllModules (sam) DumpMT GCHandles DumpClass GCHandleLeaks DumpMD VMMap Token2EE VMStat EEVersion ProcInfo DumpModule StopOnException (soe) ThreadPool MinidumpMode DumpHttpRuntime FindDebugTrue DumpIL FindDebugModules PrintDateTime Analysis DumpDataTables CLRUsage DumpAssembly CheckCurrentException (cce) RCWCleanupList CurrentExceptionName (cen) PrintIPAddress VerifyObj DumpHttpContext HeapStat ASPXPages GCWhere DumpASPNETCache (dac) ListNearObj (lno) DumpSig DumpMethodSig Other DumpRuntimeTypes ----------------------------- ConvertVTDateToDate (cvtdd) FAQ ConvertTicksToDate (ctd) DumpRequestTable DumpHistoryTable DumpBuckets GetWorkItems DumpXmlDocument (dxd) DumpCollection (dc) Examining the GC history ----------------------------- HistInit HistStats HistRoot HistObj HistObjFind HistClear mscordacwks.dll\næˆ‘å–œæ¬¢åœ¨æœåŠ¡å™¨ä¸­åˆ›å»ºç¨‹åºçš„dumpæ–‡ä»¶ï¼Œç„¶åæŠŠdumpæ–‡ä»¶è½¬ç§»åˆ°è‡ªå·±çš„windows7å¼€å‘æœºä¸Šè¿›è¡Œè°ƒè¯•ã€‚å‡å¦‚æœåŠ¡å™¨æ˜¯Windows Server 2008 R2çš„æ“ä½œç³»ç»Ÿï¼Œå½“æˆ‘åœ¨æœ¬åœ°å¼€å‘æœºä½¿ç”¨psscor2æ—¶ï¼Œå¾ˆå®¹æ˜“é‡åˆ°ä¸‹é¢çš„é”™è¯¯ï¼š\nCLRDLL: CLR DLL load disabled Failed to load data access DLL, 0x80004005 Verify that 1) you have a recent build of the debugger (6.2.14 or newer) 2) the file mscordacwks.dll that matches your version of mscorwks.dll is in the version directory 3) or, if you are debugging a dump file, verify that the file mscordacwks___.dll is on your symbol path. 4) you are debugging on the same architecture as the dump file. For example, an IA64 dump file must be debugged on an IA64 machine. You can also run the debugger command .cordll to control the debugger's load of mscordacwks.dll. .cordll -ve -u -l will do a verbose reload. If that succeeds, the PSSCOR command should work on retry. If you are debugging a minidump, you need to make sure that your executable path is pointing to mscorwks.dll as well. é€šè¿‡bingæœç´¢å‘ç°ä¸€ç¯‡ç›¸å…³çš„åšå®¢æ–‡ç« how to work around the mscordacwks issueï¼Œæ–‡ç« æŒ‡å‡ºéœ€è¦æŠŠæœåŠ¡å™¨çš„mscordacwksæ–‡ä»¶æ‹·è´åˆ°windbgç¨‹åºç›®å½•ä¸‹ã€‚mscordacwksåœ¨æˆ‘çš„Windows Server 2008 R2æœåŠ¡å™¨ä¸Šçš„ç‰ˆæœ¬æ˜¯4952ï¼Œæ‰€ä»¥æˆ‘æŠŠæœåŠ¡å™¨ä¸Šçš„mscordacwksæ‹·è´åˆ°windbgç›®å½•ï¼Œå¹¶é‡å‘½åä¸ºâ€œmscordacwks_AMD64_AMD64_2.0.50727.4952.dllâ€œã€‚mscordacwksåœ¨æœåŠ¡å™¨çš„è·¯å¾„æ˜¯â€œâ€C:\\WINDOWS\\Microsoft.NET\\Framework\\v2.0.50727\\mscordacwks.dllâ€ï¼Œå‡å¦‚ä½ ä¸çŸ¥é“æ­£ç¡®çš„é‡å‘½åè§„åˆ™ï¼Œä½ å¯ä»¥è¾“å…¥ä¸‹é¢çš„å‘½ä»¤ï¼Œè¾“å‡ºä¼šæç¤ºéœ€è¦åŠ è½½çš„mscordacwkså‘½åã€‚\n0:000\u0026gt; .cordll -ve -u -l CLR DLL status: No load attempts 0:000\u0026gt; !threads CLRDLL: C:\\WINDOWS\\Microsoft.NET\\Framework\\v2.0.50727\\mscordacwks.dll:2.0.50727.3053 f:0 doesn't match desired version 2.0.50727.3625 f:0 CLRDLL: Unable to find mscordacwks_AMD64_AMD64_2.0.50727.4952.dll by mscorwks search CLRDLL: Unable to find 'mscordacwks_AMD64_AMD64_2.0.50727.4952.dll' on the path CLRDLL: Unable to get version info for 'd:\\debug\\symbols\\mscorwks.dll\\4E154C985a9000\\mscordacwks_AMD64_AMD64_2.0.50727.4952.dll', Win32 error 0n87 CLRDLL: ERROR: Unable to load DLL mscordacwks_AMD64_AMD64_2.0.50727.4952.dll, Win32 error 0n87 Failed to load data access DLL, 0x80004005 Verify that 1) you have a recent build of the debugger (6.2.14 or newer) 2) the file mscordacwks.dll that matches your version of mscorwks.dll is in the version directory 3) or, if you are debugging a dump file, verify that the file mscordacwks___.dll is on your symbol path. 4) you are debugging on the same architecture as the dump file. For example, an IA64 dump file must be debugged on an IA64 machine. You can also run the debugger command .cordll to control the debugger's load of mscordacwks.dll. .cordll -ve -u -l will do a verbose reload. If that succeeds, the PSSCOR command should work on retry. If you are debugging a minidump, you need to make sure that your executable path is pointing to mscorwks.dll as well. é‡å‘½ååï¼Œå†æ¬¡è¾“å…¥ä¸Šé¢çš„å‘½ä»¤ï¼Œä¼šæ˜¾ç¤ºåŠ è½½æˆåŠŸæç¤ºã€‚\n0:000\u0026gt; .cordll -ve -u -l CLR DLL status: Loaded DLL mscordacwks_AMD64_AMD64_2.0.50727.4952.dll æ£€æŸ¥CRLå †æ ˆ\nè¦æŸ¥çœ‹CLRå †æ ˆå†…å®¹ï¼Œè¾“å…¥ä¸‹é¢å‘½ä»¤ï¼š\n!clrstack è¾“å‡ºå¦‚ä¸‹ï¼š\n0:000\u0026gt; !clrstack OS Thread Id: 0xa48 (0) *** WARNING: Unable to verify checksum for mscorlib.ni.dll Child-SP RetAddr Call Site 000000000012e910 000007fef5a910e9 DomainNeutralILStubClass.IL_STUB(Microsoft.Win32.SafeHandles.SafeFileHandle, Byte*, Int32, Int32 ByRef, IntPtr) 000000000012ea30 000007fef5a91202 System.IO.__ConsoleStream.ReadFileNative(Microsoft.Win32.SafeHandles.SafeFileHandle, Byte[], Int32, Int32, Int32, Int32 ByRef) 000000000012ea90 000007fef538065a System.IO.__ConsoleStream.Read(Byte[], Int32, Int32) 000000000012eaf0 000007fef53a28ca System.IO.StreamReader.ReadBuffer() 000000000012eb40 000007fef5a9435f System.IO.StreamReader.ReadLine() 000000000012eb90 000007ff0017015b System.IO.TextReader+SyncTextReader.ReadLine() 000000000012ebf0 000007fef791d502 Program.Main() çœŸæ£’ï¼ä½ ç°åœ¨å¯ä»¥çœ‹åˆ°å †æ ˆçš„è°ƒç”¨æƒ…å†µäº†ã€‚æˆ‘ä»¬å¯ä»¥ç«‹å³çœ‹åˆ°ç¨‹åºè¿›å…¥äº†Program.Mainå‡½æ•°ï¼Œè°ƒç”¨Console.ReadLineå¹¶ç­‰å¾…ç”¨æˆ·çš„è¾“å…¥ã€‚\nç»“è®º\næœ¬ç¯‡æ–‡ç« åªæ˜¯ç®€å•ä»‹ç»windbgçš„ä½¿ç”¨ï¼Œå‡å¦‚ä½ æƒ³å…¨å±€çš„äº†è§£windbgï¼Œå¹¶å¦‚ä½•ä½¿ç”¨windbgåšæ•…éšœæ’é™¤ï¼Œå¯ä»¥çœ‹ä¸‹Tess Ferrandezçš„è§†é¢‘æ•™ç¨‹â€œDebugging .NET Applications with WinDbgâ€œã€‚\næ‰©å±•é˜…è¯»ï¼š\nProcess Explorer from SysInternals\nPssCor2 Debugging Extension\nDownload the Debugging Tools for Windows\nSOS.dll (SOS Debugging Extension)\nâ€œFailed to load data access DLL, 0x80004005â€ â€“ OR â€“ What is mscordacwks.dll?\nDebugDiag\nGetting started with windbg - part I\nGetting started with windbg - part II\n","date":"2012-02-01T08:28:43Z","permalink":"https://blog.xenori.com/2012/02/intro-to-windbg-for-dotnet-developers/","title":"é¢å‘.NETå¼€å‘äººå‘˜çš„WinDbgå…¥é—¨æ•™ç¨‹"},{"content":"HAProxyæ˜¯linuxå¹³å°ä¸Šçš„è´Ÿè½½å‡è¡¡è½¯ä»¶ï¼Œæœ‰å®Œå–„çš„æœåŠ¡å™¨å¥åº·æ£€æµ‹å’Œä¼šè¯(session)ä¿æŒåŠŸèƒ½ï¼Œæ€§èƒ½é«˜ï¼Œæ”¯æŒtcpå’Œhttpç½‘ç»œè¿æ¥åˆ†å‘ã€‚\né—®é¢˜èµ·å›  å…¥å…¬å¸ä¸€å¹´ï¼Œæˆ‘å‘ç°åœ¨ASP.NETç½‘ç«™ä¸Šéƒ¨ç½²æ›´æ–°æ—¶ï¼Œç»å¸¸ä¼šé‡åˆ°ä¸‹é¢è¿™æ ·çš„çƒ¦æ¼ï¼š\nå‡å¦‚æ›´æ–°åˆ°binæ–‡ä»¶å¤¹ä¸‹çš„dllæ–‡ä»¶ï¼Œä¼šå¼•èµ·iisçš„åº”ç”¨ç¨‹åºæ± é‡å¯ï¼Œä»è€Œå¯¼è‡´æ›´æ–°è¿™æ®µæ—¶é—´å†…ï¼Œç”¨æˆ·è®¿é—®ç½‘ç«™ä¼šéå¸¸ç¼“æ…¢ï¼Œç”šè‡³å‡ºç°é¡µé¢è¶…æ—¶ã€‚\néƒ¨ç½²æ›´æ–°æ—¶è¦å°å¿ƒç¿¼ç¿¼ï¼Œç¥ˆç¥·ä¸Šå¸æ²¡å°‘æ‹·äº†ä»€ä¹ˆæ–‡ä»¶ï¼Œå‡å¦‚æ›´æ–°åç½‘ç«™å‡ºé”™ï¼Œå°±åªèƒ½å¿ƒè·³åŠ é€Ÿåœ°å¿«é€Ÿè¿˜åŸç³»ç»Ÿ\nç¼–è¾‘ç»å¸¸æä¸€äº›éœ€æ±‚åªæ˜¯ç®€å•æ›´æ”¹ä¸‹é¡µé¢æ–‡å­—ï¼Œè€Œä¸ºäº†ä¸ä½¿è¿™ç§ç®€å•çš„æ›´æ”¹å¼•èµ·åº”ç”¨ç¨‹åºæ± é‡å¯ï¼Œä¸€èˆ¬éƒ¨ç½²ç½‘ç«™æ—¶éƒ½æ˜¯é‡‡ç”¨copyæ–¹å¼å‘å¸ƒï¼Œè€Œç½‘ç«™ä¹Ÿå·¥ä½œåœ¨debugæ¨¡å¼ä¸‹ï¼Œè€Œä¸æ˜¯æ›´ä¼˜åŒ–é€Ÿåº¦æ›´å¿«çš„releaseæ¨¡å¼\nä¸Šé¢å‡ ç§æƒ…å†µéƒ½å¾ˆå½±å“ç”¨æˆ·ä½“éªŒï¼Œä¹Ÿè®©æ¯æ¬¡æ›´æ–°æ—¶è‚¾ä¸Šæ¿€ç´ ä¸Šå‡ã€‚ è¦è§£å†³ä¸Šé¢çš„çƒ¦æ¼ï¼Œéœ€è¦æ»¡è¶³ä¸‹é¢å‡ ä¸ªæ¡ä»¶ï¼š\næœ‰è‡³å°‘ä¸¤ä¸ªä»¥ä¸Šçš„ç›¸åŒåŠŸèƒ½ç«™ç‚¹ï¼Œå½“ä¸€ä¸ªç«™ç‚¹ä¸‹çº¿ç»´æŠ¤æ—¶ï¼Œåç»­çš„è¯·æ±‚èƒ½è‡ªåŠ¨äº¤ç»™å¦ä¸€ä¸ªç«™ç‚¹å¤„ç†\næœ‰ç«™ç‚¹å¥åº·æ£€æµ‹åŠŸèƒ½ï¼Œå¯ä»¥ä¸€ä¸ªä¸ªè½®æµåœ°ä¸‹çº¿ç«™ç‚¹å’Œä¸Šçº¿ç«™ç‚¹ï¼Œè¿™è¿‡ç¨‹ä¸­å¯¹ç”¨æˆ·çš„è®¿é—®å®Œå…¨ä¸å—å½±å“ åº”ç”¨HAProxyçš„è´Ÿè½½å‡è¡¡å’ŒæœåŠ¡å™¨æ£€æµ‹ç‰¹æ€§å¯ä»¥å¾ˆå¥½åœ°è§£å†³ä¸Šé¢çš„é—®é¢˜ï¼Œæœ€ç®€å•çš„è´Ÿè½½å‡è¡¡æ¡†æ¶å¦‚ä¸‹ï¼š\n192.168.1.2:8001 IP=192.168.1.1 192.168.1.2:8002 192.168.1.3 -------+-------------+-------+-----------+---- | | | _|_db +--+--+ +-+-+ +-+-+ (___) | LB | | A | | B | (___) +-----+ +---+ +---+ (___) haproxy 2 cheap web sites keepalived 192.168.1.1æ˜¯ä¸€å°linuxæœåŠ¡å™¨ï¼Œè¿è¡Œç€HAProxyã€‚ 192.168.1.2æ˜¯ä¸€å°windowsæœåŠ¡å™¨ï¼Œiisä¸Šè¿è¡Œç€ä¸¤ä¸ªç›¸åŒçš„ç«™ç‚¹ï¼Œç«¯å£åˆ†åˆ«è®¾ä¸º8001/8002 192.168.1.3æ˜¯æ•°æ®åº“æœåŠ¡å™¨\nHAProxyéƒ¨ç½²æµ‹è¯• å®‰è£…HAProxy åœ¨ubuntuä¸­å®‰è£…HAProxyå¾ˆç®€å•ï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤å°±èƒ½è‡ªåŠ¨ä¸‹è½½å®‰è£…ï¼š\nsudo apt-get install haproxy å‡å¦‚ubuntuæœåŠ¡å™¨ä¸Šçš„ä¸æ˜¯æœ€æ–°ç‰ˆï¼Œä½ æƒ³å®‰è£…æœ€æ–°ç‰ˆï¼Œå¯ä»¥åˆ°å®˜ç½‘ä¸‹è½½æœ€æ–°çš„tarå‹ç¼©åŒ…ï¼Œè§£å‹åè¿›å…¥è¯¥ç›®å½•ï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼š\nmake install é…ç½®HAProxy åˆ›å»ºé…ç½®æ–‡ä»¶haproxy.cfg\nmkdir /etc/haproxy vim /etc/haproxy/haproxy.cfg HAProxyæä¾›äº†ä¸¤ç§é›¶åœæœºç»´æŠ¤æ–¹æ¡ˆï¼Œä¸€ç§æ˜¯å®šæ—¶æ£€æµ‹æŒ‡å®šæ–‡ä»¶çš„è¯·æ±‚æ˜¯å¦æˆåŠŸï¼Œä¸æˆåŠŸè¶…è¿‡æŒ‡å®šæ¬¡æ•°åï¼Œå¯è®¤ä¸ºæœåŠ¡å™¨å·²åœæœºï¼Œæ–°è¿›å…¥çš„è¿æ¥ä¼šè‡ªåŠ¨åˆ†å‘åˆ°å…¶ä»–æœºå™¨ï¼Œå¦ä¸€ç§æ˜¯ä½¿ç”¨å¤‡ä»½æœåŠ¡å™¨ï¼Œä¸‹é¢åªä»‹ç»æœ€ç®€å•çš„ç¬¬ä¸€ç§ã€‚ HAProxyå®ç°æœåŠ¡å™¨æ£€æµ‹å’Œè´Ÿè½½å‡è¡¡çš„ç®€å•é…ç½®å¦‚ä¸‹ï¼š\n# this config needs haproxy-1.1.28 or haproxy-1.2.1 global maxconn 4096 uid 99 gid 99 daemon defaults mode http timeout connect 5000ms timeout client 50000ms timeout server 50000ms option redispatch listen http-in bind *:80 balance roundrobin option httpchk HEAD /deploy.txt HTTP/1.0 server server1 192.168.1.2:8001 check inter 2000 rise 2 fall 2 server server2 192.168.1.2:8002 check inter 2000 rise 2 fall 2 ä¸‹é¢è¯´ä¸‹ä¸»è¦çš„å‡ ä¸ªé…ç½®é¡¹ï¼š option redispatchï¼šå½“ä¹‹å‰è¿æ¥çš„æœåŠ¡å™¨å®•æœºåï¼Œè‡ªåŠ¨æŠŠè¿æ¥åˆ†å‘åˆ°å…¶ä»–æœåŠ¡å™¨ bindï¼šç›‘å¬æŒ‡å®šçš„ç«¯å£ balance roundrobinï¼šä»¥è½®è¯¢çš„æ–¹å¼åˆ†å‘è¿æ¥ option httpchk HEAD /deploy.txt HTTP/1.0ï¼šé€šè¿‡è¯·æ±‚/deploy.txtæ–‡ä»¶æ¥ç¡®å®šæœåŠ¡å™¨å¥åº·æƒ…å†µ server server1 192.168.1.2:8001ï¼šæŒ‡å®šåˆ†å‘çš„ç«™ç‚¹ï¼Œserver1å¯ä»¥æ˜¯ä»»æ„åç§°ï¼Œåœ¨å†™logæ—¶ä½¿ç”¨ check inter 2000ï¼šè¡¨ç¤ºæœåŠ¡å™¨æ£€æµ‹çš„é—´éš”æ—¶é—´ï¼Œ2000æŒ‡2ç§’ï¼Œå•ä½æ˜¯æ¯«ç§’ rise 2ï¼šè¡¨ç¤ºæœåŠ¡å™¨æ£€æµ‹è¯·æ±‚æˆåŠŸ2æ¬¡åï¼Œå¯è®¤ä¸ºç«™ç‚¹å·²æ¢å¤ï¼Œè¿æ¥å¯ä»¥é‡æ–°åˆ†å‘ç»™å®ƒ fall 2ï¼šè¡¨ç¤ºæœåŠ¡æ£€æµ‹è¯·æ±‚å¤±è´¥2æ¬¡åï¼Œå¯è®¤ä¸ºç«™ç‚¹å·²å®•æœºï¼Œä¹‹åä¸ä¼šå†åˆ†å‘è¿æ¥ç»™å®ƒ\nè¯¦ç»†çš„é…ç½®è¯´æ˜å¯ä»¥çœ‹HAProxyé…ç½®æ–‡æ¡£\nè¿è¡ŒHAProxy æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤æ£€æŸ¥é…ç½®æ˜¯å¦æ­£ç¡®ï¼š\nhaproxy -f /etc/haproxy/haproxy.cfg -c è¿è¡Œhaproxyï¼š\nhaproxy -f /etc/haproxy/haproxy.cfg åˆ›å»ºæµ‹è¯•ç«™ç‚¹ åœ¨æœåŠ¡å™¨192.168.1.2ä¸­ï¼Œåˆ›å»ºç«™ç‚¹server1ï¼Œserver2ï¼Œç«¯å£åˆ†åˆ«æ˜¯8001ï¼Œ8002ã€‚ server1ä¸­åˆ›å»ºdefault.htmç½‘é¡µï¼Œå¹¶è¾“å‡ºå†…å®¹ï¼š server2ä¸­åˆ›å»ºdefault.htmç½‘é¡µï¼Œå¹¶è¾“å‡ºå†…å®¹ï¼š åœ¨server1å’Œserver2æ ¹ç›®å½•éƒ½åˆ›å»ºä¸€ä¸ªç©ºç™½çš„deploy.txtæ–‡æœ¬æ–‡ä»¶ï¼Œä»¥ä¾¿haproxyç”¨æ¥æ£€æµ‹æœåŠ¡å™¨å¥åº·æƒ…å†µ.\næµ‹è¯• åœ¨æµè§ˆå™¨ä¸­è®¿é—®linuxæœåŠ¡å™¨çš„http://192.168.1.1åœ°å€ï¼Œå°±èƒ½çœ‹åˆ°server1å’Œserver2çš„ç«™ç‚¹å†…å®¹ï¼Œæ¯æ¬¡åˆ·æ–°ç½‘é¡µä¼šè½®æµæ˜¾ç¤ºserver1å’Œserver2çš„default.htmå†…å®¹ï¼Œå› ä¸ºç°åœ¨æ˜¯ä»¥è½®è¯¢æ–¹å¼åˆ†å‘è¯·æ±‚è¿æ¥çš„ã€‚ å°è¯•æŠŠserver1ä¸­çš„deploy.txtæ–‡ä»¶é‡å‘½åä¸ºdeploy1.txtï¼Œé‡å‘½ååå› ä¸ºhaproxyæ£€æµ‹deploy.txtæ—¶è¿”å›404ï¼Œhaproxyä¼šè®¤ä¸ºæ˜¯æœåŠ¡å™¨æœ‰é—®é¢˜ï¼Œå½“ç»è¿‡4ç§’åï¼Œé‡æ–°åˆ·æ–°ç½‘é¡µï¼Œå¯ä»¥çœ‹åˆ°ç½‘é¡µåªæ˜¾ç¤ºserver2çš„ç½‘é¡µå†…å®¹ã€‚ é‡æ–°æŠŠserver1çš„deploy1.txtæ”¹å›deploy.txtï¼Œé™å¾…4ç§’åå†åˆ·æ–°ç½‘é¡µï¼Œå¯ä»¥çœ‹åˆ°åˆèƒ½æ˜¾ç¤ºserver1çš„ç½‘é¡µå†…å®¹äº†ã€‚\nå‚è€ƒèµ„æ–™ï¼š Zero-Downtime Restarts with HAProxy HAProxy Architecture Guide\n","date":"2012-01-21T08:04:49Z","permalink":"https://blog.xenori.com/2012/01/zero-downtime-with-haproxy/","title":"åˆ©ç”¨HAProxyå®ç°é›¶åœæœºæ›´æ–°ç»´æŠ¤"},{"content":"1ã€å®‰è£…JAVA SDK\nåˆ°å®˜ç½‘ï¼ˆhttp://www.oracle.com/technetwork/java/javase/downloads/index.htmlÂ ï¼‰ä¸‹è½½æœ€æ–°çš„javase sdkï¼Œæ¨èå®‰è£…1.6ç‰ˆã€‚å®‰è£…å®Œæˆåï¼Œåœ¨windowsç¯å¢ƒå˜é‡ä¸­æ·»åŠ [JAVA_HOME]ï¼Œå¹¶æŠŠè·¯å¾„æŒ‡å‘java sdkçš„å®‰è£…æ ¹ç›®å½•ã€‚\n2ã€å®‰è£…Scala\nä»scalaå®˜ç½‘ï¼ˆhttp://www.scala-lang.org/downloadsÂ ï¼‰ä¸‹è½½windowsç‰ˆçš„å‹ç¼©åŒ…ï¼Œæ¨è2.8.1 finalç‰ˆï¼Œç›´æ¥è§£å‹åˆ°ç›¸åº”ç›®å½•ä¸­ï¼Œå‡è®¾ä¸ºc:\\scala-2.8.1.final\\ï¼Œå†æ·»åŠ ä¸‹é¢ä¸¤ä¸ªç¯å¢ƒå˜é‡ï¼š\næ–°å¢ç¯å¢ƒå˜é‡SCALA_HOMEï¼Œå¹¶è®¾ä¸ºc:\\scala-2.8.1.final\nåœ¨å·²æœ‰ç¯å¢ƒå˜é‡Pathä¸­ï¼Œè¿½åŠ å€¼c:\\scala-2.8.1.final\\bin\né€šè¿‡win-\u0026gt;run-cmdæ‰“å¼€å‘½ä»¤è¡Œï¼Œè¾“å…¥scalaï¼Œèƒ½è¾“å‡ºç‰ˆæœ¬ä¿¡æ¯è¯æ˜å·²å®‰è£…æˆåŠŸ\n3ã€å®‰è£…Eclipse\nåˆ°Eclipseå®˜ç½‘ï¼ˆhttp://www.eclipse.org/downloads/ï¼‰ä¸‹è½½ï¼Œç›´æ¥è§£å‹å°±èƒ½ä½¿ç”¨ï¼Œæ¨èä¸‹è½½Eclipse Classic/Eclipse For Javaã€‚\n4ã€å®‰è£…Android SDK\nåˆ°androidå¼€å‘ç¤¾åŒº(http://developer.android.com/sdk/index.html)ä¸‹è½½å®‰è£…ã€‚å®‰è£…åè¿›å…¥å¼€å§‹ \u0026gt; æ‰€æœ‰ç¨‹åº \u0026gt; Android SDK \u0026gt; SDK Managerç¨‹åºï¼Œè½¯ä»¶ä¼šæç¤ºä¸€äº›å¯å®‰è£…çš„æ›´æ–°ï¼Œå¤§å®¶å¯ä»¥æ ¹æ®éœ€è¦é€‰æ‹©å®‰è£…ï¼Œå»ºè®®å®‰è£…ä¸‹é¢å›¾ä¸­æ‰€ç¤ºçš„ï¼š\nä¹‹åæ˜¯æ¼«é•¿çš„ç­‰å¾…\u0026hellip;\nè£…ADT Plugin for Eclipse ç­‰å¾…android sdkå®‰è£…å¥½åï¼Œæ‰“å¼€Eclipseï¼Œè¿›å…¥èœå•HelpÂ \u0026gt;Â Install New Software\u0026hellip;.ï¼Œç‚¹å‡»**Addï¼Œ**æ·»åŠ é“¾æ¥\nhttps://dl-ssl.google.com/android/eclipse/ å‹¾é€‰æ‰€æœ‰é¡¹ç›®ï¼Œç„¶åç‚¹å‡»Nextå®‰è£…ã€‚\nå®‰è£…å®Œæˆå¹¶é‡å¯Eclipseåï¼Œè¿›å…¥èœå•Window \u0026gt; Preferences \u0026gt; Androidï¼Œç‚¹å‡»Browserï¼ŒæŠŠè·¯å¾„æŒ‡å‘android sdkçš„å®‰è£…ç›®å½•ï¼Œç„¶åç‚¹å‡»Applyã€‚\n6ã€å®‰è£…Scala IDE Plugin æ‰“å¼€Eclipseï¼Œè¿›å…¥èœå•HelpÂ \u0026gt;Â Install New Software\u0026hellip;.ï¼Œç‚¹å‡»**Addï¼Œ**æ·»åŠ é“¾æ¥\nhttp://download.scala-ide.org/releases-28/2.0.0-beta å‹¾é€‰å®‰è£…ä¸‹é¢ä¸¤é¡¹ï¼š\nJDT weavingÂ For scala\n**Scala IDE for EclipseÂ ** 7ã€å®‰è£…TreesakerÂ ** æ‰“å¼€Eclipse**ï¼Œè¿›å…¥èœå•HelpÂ \u0026gt;Â Install New Software\u0026hellip;.ï¼Œç‚¹å‡»**Addï¼Œ**æ·»åŠ é“¾æ¥\nhttp://treeshaker.googlecode.com/svn/trunk/update_site/ å‹¾é€‰treeshaker,ç‚¹å‡»Nextå®‰è£…ã€‚\ntreeshakeræ˜¯ä¸€ä¸ªå¼€æºçš„è¾…åŠ©æ’ä»¶ï¼Œè¯¦ç»†å¯ä»¥è®¿é—®é¡¹ç›®åœ°å€ï¼šhttp://code.google.com/p/treeshaker/\n8ã€ç®€å•çš„helloworld\nEclipseä¸­æ‰“å¼€File \u0026gt; New \u0026gt; Project \u0026gt; Android Projectåˆ›å»ºä¸€ä¸ªæ–°çš„androidå·¥ç¨‹é¡¹ç›®ï¼š\næŒ‰ä¸‹é¢çš„æ­¥éª¤æŠŠjavaçš„é¡¹ç›®è½¬ä¸ºscalaçš„é¡¹ç›®ï¼š\n1ã€æŠŠsrcæ–‡ä»¶å¤¹é‡å‘½åä¸º_srcï¼ˆå³é”®src \u0026gt; Refactor \u0026gt; Rename) 2ã€å³é”®HelloWorldé¡¹ç›® \u0026gt; Configure \u0026gt; Add Scala Nature 3ã€å³é”®HelloWorldé¡¹ç›® \u0026gt; Add/Remove Treeshaker 4ã€æ‰“å¼€èœå•Project \u0026gt; Properties \u0026gt; Buildersï¼Œç¡®ä¿builderçš„é¡ºåºå’Œå¦‚ä¸‹ä¸€æ ·ï¼š\nAndroid Resource Manager\nAndroid Pre Compiler\nScala Builder\nTreeshaker\nAndroid Package Builder\n5ã€æ‰“å¼€res\\layout\\main.xmlï¼ŒæŠŠä¸‹é¢çš„å†…å®¹æ›¿æ¢ä¸­çš„å†…å®¹ï¼š\n\u0026lt;TextView android:layout_width=\u0026quot;fill_parent\u0026quot; android:layout_height=\u0026quot;wrap_content\u0026quot; android:text=\u0026quot;@string/hello\u0026quot; android:id=\u0026quot;@+id/text\u0026quot; /\u0026gt; \u0026lt;Button android:id=\u0026quot;@+id/button\u0026quot; android:layout_width=\u0026quot;wrap_content\u0026quot; android:layout_height=\u0026quot;wrap_content\u0026quot; android:text=\u0026quot;Click me\u0026quot; /\u0026gt; 5ã€åˆ é™¤_srcä¸‹çš„æºæ–‡ä»¶HelloWorldActivity.java 6ã€åˆ›å»ºæ–°çš„scalaä»£ç æ–‡ä»¶ï¼Œå³é”®åŒ…com.testï¼Œé€‰æ‹©New \u0026gt; Other \u0026gt; Scala Class Nameè®¾ä¸ºHelloWorldActivtyï¼ŒSuperclassè®¾ä¸ºandroid.app.Activity 7ã€ä¿®æ”¹HelloWorldActivity.scalaæ–‡ä»¶ï¼š å¢åŠ å¯¼å…¥ï¼š\nimportÂ android.os.Bundle importÂ android.view.View importÂ android.widget.TextView importÂ android.widget.Button importÂ R._ HelloWorldAcitvityç±»ä¸­å¢åŠ ä»£ç ï¼š\noverride def onCreate(savedInstanceState: Bundle) { super.onCreate(savedInstanceState) setContentView(R.layout.main) val textView = findViewById(R.id.text).asInstanceOf[TextView] val button = findViewById(R.id.button).asInstanceOf[Button] button.setOnClickListener((v: View) =\u0026gt; textView.setText(\u0026quot;Hello Scala\u0026quot;)) } implicit def func2OnClickListener(func : (View) =\u0026gt; Unit) : View.OnClickListener = { return new View.OnClickListener() { override def onClick(v: View) = func(v) } } 8ã€é€šè¿‡èœå•Run \u0026gt; Runï¼Œåº”è¯¥èƒ½æ­£å¸¸ç¼–è¯‘å¹¶åœ¨androidæ¨¡æ‹Ÿå™¨ä¸­è¿è¡Œäº†\næ‰©å±•é˜…è¯»ï¼š\nCreateNewScalaProject\nScalaã§Androidã‚¢ãƒ—ãƒªé–‹ç™ºÂ Building Android Apps with Scala - IntelliJÂ Exploring Android With Scala\n","date":"2012-01-21T07:06:00Z","permalink":"https://blog.xenori.com/2012/01/use-eclipse-scala-develop-android/","title":"åˆ©ç”¨Eclipse+Scalaæ­å»ºandroidå¼€å‘ç¯å¢ƒ"},{"content":"æœ‰æ—¶ï¼Œæˆ‘ä»¬å®‰è£…çš„windowsæœåŠ¡å¯èƒ½æ˜¯ä¸ªæ¡†æ¶ï¼Œåœ¨åŒä¸€æœåŠ¡å™¨ä¸Šå¯èƒ½æœåŠ¡äºä¸åŒçš„ç³»ç»Ÿï¼Œä¸ºäº†ä½¿æœåŠ¡åç§°ä¸å†²çªï¼Œéœ€è¦æŠŠæœåŠ¡åç§°æ›´æ”¹ä¸ºå¯é…ç½®ã€‚ å› ä¸ºServiceInstallerèƒ½ç›´æ¥è®¾ç½®å®‰è£…æœåŠ¡çš„åç§°å’Œæè¿°ï¼Œæ‰€ä»¥å¾ˆå®¹æ˜“å°±èƒ½å†™å‡ºä¸‹é¢çš„ä»£ç ï¼š\nserviceInstaller.ServiceName = ConfigurationManager.AppSetting[\u0026quot;ServiceName\u0026quot;]; serviceInstaller.Description = ConfigurationManager.AppSetting[\u0026quot;ServiceDescription\u0026quot;]; ç¼–è¯‘æ‰§è¡Œå®‰è£…ï¼Œå¯æƒœæŠ›å‡ºäº†å¼‚å¸¸ï¼Œå®‰è£…å¤±è´¥äº†ã€‚ å¤±è´¥çš„åŸå› æ˜¯ï¼Œæ‰§è¡Œå®‰è£…æœåŠ¡çš„ç¨‹åºæ˜¯InstallUtil.exeï¼Œå®‰è£…é˜¶æ®µä¸ä¼šè‡ªåŠ¨åŠ è½½æœåŠ¡çš„app.configé…ç½®æ–‡ä»¶ï¼Œåªä¼šåŠ è½½å…¨å±€çš„machine.configï¼Œéœ€æ”¹ä¸ºæ‰‹åŠ¨åŠ è½½app.configå¹¶è¯»å–ã€‚ ç¡®å®šè§£å†³æ€è·¯åï¼Œæˆ‘å†™å‡ºäº†ä¸‹é¢çš„ä»£ç ï¼š\nvar targetDirectory = AppDomain.CurrentDomain.BaseDirectory; var configPath = Path.Combine(targetDirectory, \u0026ldquo;Service.exe\u0026rdquo;); var config = ConfigurationManager.OpenExeConfiguration(configPath); serviceInstaller.ServiceName = config.AppSettings.Settings[\u0026ldquo;ServiceName\u0026rdquo;].Value; serviceInstaller.Description = config.AppSettings.Settings[\u0026ldquo;ServiceDescription\u0026rdquo;].Value;\nå†æ¬¡ç¼–è¯‘è¿è¡Œï¼Œå‘ç°æœ¬æœºä¸Šå®‰è£…æˆåŠŸäº†ï¼šï¼‰ï¼Œæ•´ä¸ªç¨‹åºæ‰“åŒ…äº¤ç»™å¦ä¸€ä¸ªåŒäº‹åœ¨æœåŠ¡å™¨ä¸Šå®‰è£…ï¼Œå‘ç°å®‰è£…è¿‡ç¨‹åˆå‡ºé”™äº†ã€‚ã€‚ã€‚ è¿‡å»çœ‹äº†ä¸€ä¸‹ï¼Œå‘ç°é”™è¯¯çš„åŸå› æ˜¯ï¼Œæœ¬æœºå®‰è£…æ—¶ï¼ŒInstallUtilç¨‹åºæˆ‘æ˜¯æ”¾åœ¨å’ŒæœåŠ¡åŒä¸€ç›®å½•ï¼Œè€ŒæœåŠ¡å™¨ä¸Šçš„InstallUtilæ˜¯å’ŒæœåŠ¡åœ¨ä¸åŒç›®å½•ã€‚çœ‹æ¥AppDomain.CurrentDomain.BaseDirectoryè·å–åˆ°çš„æ˜¯InstallUtilçš„åº”ç”¨ç¨‹åºåŸŸç›®å½•è·¯å¾„ï¼Œè€Œä¸æ˜¯æœåŠ¡çš„ã€‚ ä¹‹åä½¿ç”¨åå°„æ¥è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œä»£ç å¦‚ä¸‹ï¼š\nvar path = System.Reflection.Assembly.GetExecutingAssembly().Location; var targetDirectory = System.IO.Path.GetDirectoryName(path); var configPath = Path.Combine(targetDirectory, \u0026quot;Service.exe\u0026quot;); var config = ConfigurationManager.OpenExeConfiguration(configPath); serviceInstaller.ServiceName = config.AppSettings.Settings[\u0026quot;ServiceName\u0026quot;].Value; serviceInstaller.Description = config.AppSettings.Settings[\u0026quot;ServiceDescription\u0026quot;].Value; ","date":"2012-01-12T07:42:04Z","permalink":"https://blog.xenori.com/2012/01/config-windows-services-install-name/","title":"ä½¿windowsæœåŠ¡å®‰è£…åç§°å¯é…ç½®"},{"content":"ç°åœ¨ç³»ç»Ÿä¸­å¸¸ç”¨çš„è·å–å®¢æˆ·ç«¯çœŸå®ipçš„ä»£ç å¦‚ä¸‹ï¼š\n// è·å–IPåœ°å€ protected string GetIPAddress() { string result = \u0026quot;\u0026quot;; try { //é€è¿‡ä»£ç†å–å®¢æˆ·ç«¯ip result = HttpContext.Current.Request.ServerVariables[\u0026quot;HTTP_X_FORWARDED_FOR\u0026quot;] ?? \u0026quot;\u0026quot;; if (result == \u0026quot;\u0026quot;) { //è¿æ¥ä¸»æœºip result = HttpContext.Current.Request.ServerVariables[\u0026quot;REMOTE_ADDR\u0026quot;] ?? \u0026quot;\u0026quot;; } if (result == \u0026quot;\u0026quot;) { result = HttpContext.Current.Request.UserHostAddress; } } catch (Exception ex) { } return result; } è¿™æ®µä»£ç æœ‰ä¸¤ä¸ªé—®é¢˜ï¼š 1ã€æ ¹æ®è¿™ç¯‡æ–‡ç« è¯´æ˜ï¼Œå½“è¯·æ±‚ç»å¸¸å¤šä¸ªä»£ç†æ—¶ï¼ŒHTTP_X_FORWARDED_FORå¯èƒ½ä¼šé™„åŠ ä¸Šå¤šä¸ªæœåŠ¡å™¨ipï¼Œæ ¼å¼å¦‚ä¸‹ï¼š\nX-Forwarded-For: client1, proxy1, proxy2, \u0026hellip;\næ­£ç¡®çš„å®¢æˆ·ç«¯ipåº”è¯¥åªæ˜¯ç¬¬ä¸€ä¸ªipåœ°å€\n2ã€å½“ç”¨æˆ·æ‰‹æœºæ˜¯ç”¨CMWAPè®¿é—®ç½‘ç«™æ—¶ï¼Œä¸Šé¢ä»£ç è¿”å›çš„æ˜¯10.xxxçš„ç§æœ‰ç½‘ç»œipï¼Œè€ŒçœŸå®çš„æœåŠ¡å™¨ipæ˜¯åœ¨REMOTE_ADDRä¸­ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š æ‰€ä»¥å¯¹äºè·å–æ¥çš„ipï¼Œéœ€è¦åšæ˜¯å¦ç§æœ‰ç½‘ç»œipçš„åˆ¤æ–­ã€‚æ‰€æœ‰ç§æœ‰ç½‘ç»œçš„ipæ®µå¦‚ä¸‹ï¼š\nprivate static readonly long[,] privateIpRange = { //ç§æœ‰ç½‘ç»œipæ®µ,é•¿æ•´å½¢è¡¨ç¤º {0,50331647}, //{\u0026quot;0.0.0.0\u0026quot;,\u0026quot;2.255.255.255\u0026quot;}, {167772160,184549375}, //{\u0026quot;10.0.0.0\u0026quot;,\u0026quot;10.255.255.255\u0026quot;}, {2130706432,2147483647}, //{\u0026quot;127.0.0.0\u0026quot;,\u0026quot;127.255.255.255\u0026quot;}, {2851995648,2852061183}, //{\u0026quot;169.254.0.0\u0026quot;,\u0026quot;169.254.255.255\u0026quot;}, {2886729728,2887778303}, //{\u0026quot;172.16.0.0\u0026quot;,\u0026quot;172.31.255.255\u0026quot;}, {3221225984,3221226239}, //{\u0026quot;192.0.2.0\u0026quot;,\u0026quot;192.0.2.255\u0026quot;}, {3232235520,3232301055}, //{\u0026quot;192.168.0.0\u0026quot;,\u0026quot;192.168.255.255\u0026quot;}, {4294967040,4294967295}}; //{\u0026quot;255.255.255.0\u0026quot;,\u0026quot;255.255.255.255\u0026quot;} ","date":"2012-01-09T07:39:49Z","permalink":"https://blog.xenori.com/2012/01/get-client-ip/","title":"è·å–å®¢æˆ·ç«¯çš„çœŸå®ipä»£ç æ”¹è¿›"},{"content":"æ–°æµªæœ‰å¼€æ”¾ipæŸ¥è¯¢çš„æ¥å£ï¼ˆhttp://int.dpool.sina.com.cn/iplookup/iplookup.php?format=json\u0026amp;ip=123.124.2.85ï¼‰ï¼Œé€šè¿‡ä¸æ–­æŸ¥è¯¢å°±èƒ½æŠ“å–åˆ°ipä¿¡æ¯ã€‚ä¸è¿‡è¦éå†æ‰€æœ‰çš„ipåœ°å€ä¸ç°å®ï¼Œæ•°æ®å­˜å‚¨å’ŒæŸ¥è¯¢éƒ½æ˜¯é—®é¢˜ï¼Œä¸€èˆ¬æˆ‘ä»¬é¢å¯¹çš„æ˜¯ä¸­å›½çš„ç”¨æˆ·ï¼Œåªéœ€è¦éå†æŠ“å–ä¸‹ä¸­å›½èŒƒå›´çš„ipä¿¡æ¯å°±è¡Œï¼Œè€Œä¸”ipåœ°å€æœ€åä¸€ä½çš„256ä¸ªipä¸€èˆ¬åˆ†é…åˆ°åŒä¸€åœ°åŒºï¼Œæ‰€ä»¥æœ€åä¸€ä½åªéœ€éå†.0çš„ipå°±å¯ä»¥äº†ã€‚ ç›®å‰ip4åœ°å€å·²ç»åˆ†é…å®Œï¼Œä¸­å›½çš„ipæ®µå¯ä»¥åœ¨ä»¥ä¸‹ç½‘å€æ‰¾åˆ°ï¼š https://www.countryipblocks.net/e_country_data/CN_range.txt é¦–å…ˆéœ€è¦å¤„ç†ï¼ŒæŠŠä¸Šé¢çš„ipæ®µè½¬æ¢ä¸ºå…·ä½“çš„ipåœ°å€ï¼š\nprivate static List HandleIpRange() { var list = new List(); var lines = File.ReadAllLines(\u0026ldquo;CN_range.txt\u0026rdquo;); var pattern = @\u0026quot;(\\d{1,3}.\\d{1,3}.\\d{1,3}.\\d{1,3})\\s-\\s(\\d{1,3}.\\d{1,3}.\\d{1,3}.\\d{1,3})\u0026quot;; foreach (var line in lines) { var match = Regex.Match(line, pattern, RegexOptions.IgnoreCase); if (match.Success) { var begin = match.Groups[1].Value; var end = match.Groups[2].Value;\nvar beginInt = Ip3ToInt(begin); var endInt = Ip3ToInt(end); while (beginInt \u0026lt;= endInt) { list.Add(IntToIp3(beginInt)); beginInt += 1; } } } return list; } private static int Ip3ToInt(string ip4) { var arr = ip4.Split('.'); var p0 = int.Parse(arr[0]); var p1 = int.Parse(arr[1]); var p2 = int.Parse(arr[2]); return (p0 \u0026lt;\u0026lt; 16) | (p1 \u0026lt;\u0026lt; 8) | p2; } private static string IntToIp3(int s) { var p0 = s \u0026gt;\u0026gt; 16 \u0026amp; 0xFF; var p1 = s \u0026gt;\u0026gt; 8 \u0026amp; 0xFF; var p2 = s \u0026amp; 0xFF; return string.Format(\u0026quot;{0}.{1}.{2}.0\u0026quot;, p0, p1, p2); } å‰©ä¸‹åªéœ€ç”¨å¤šçº¿ç¨‹è¯·æ±‚æ–°æµªæ¥å£ï¼ŒæŠŠç»“æœä¿å­˜åˆ°æ•°æ®åº“å°±å¯ä»¥äº†ã€‚\næ•°æ®ä¿®æ­£ï¼š ä»æ–°æµªæ¥å£æŸ¥è¯¢å›æ¥çš„æ•°æ®ï¼Œæœ‰ä¸€éƒ¨åˆ†å›½å®¶å’Œçœå¸‚éƒ½æ˜¯ç©ºçš„ï¼Œè¿˜æœ‰ä¸€éƒ¨åˆ†å›½å®¶æ˜¯ç¾å›½ç­‰ï¼Œè¿™éƒ¨åˆ†æ•°æ®éœ€è¦ä¿®æ­£ä¸‹ã€‚æ•°æ®ä¿®æ­£å¯ä»¥æŸ¥è¯¢ip138ç½‘ç«™ï¼Œå®ƒçš„æ•°æ®æ¥æºæ˜¯APNICï¼Œæ¯”è¾ƒæ–°ï¼Œè¯·æ±‚åœ°å€å¦‚ä¸‹ï¼ˆhttp://www.ip138.com/ips8.asp?action=2\u0026amp;ip=223.72.166.0ï¼‰ã€‚æŠŠè¯·æ±‚å›æ¥çš„å†…å®¹ç”¨æ­£åˆ™è§£æå¹¶updateåˆ°æ•°æ®åº“å°±å¯ä»¥äº†ã€‚\nè¿›ä¸€æ­¥å‡å°‘æ•°æ®å¤§å°ï¼š æ–°æµªæ¥å£è¿”å›çš„å†…å®¹éƒ½ä¼šå¸¦æœ‰startå’Œendçš„ipæ®µï¼Œè¡¨ç¤ºipæ®µä¸­çš„ipéƒ½æ˜¯å±äºåŒä¸€åœ°åŒºã€‚å¯ä»¥æŠŠstartå’Œendçš„ipè½¬æ¢ä¸ºintå€¼ï¼Œå†æŠŠintè¡¨ç¤ºçš„ipæ®µå’Œåœ°åŒºä¿¡æ¯ä¿å­˜åˆ°å¦ä¸€å¼ è¡¨ä¸­ã€‚æŸ¥è¯¢ç”¨æˆ·ipæ‰€å±æ—¶ï¼Œåªéœ€æŠŠç”¨æˆ·ipä¹Ÿè½¬æ¢ä¸ºintå€¼ï¼Œå†æ‰¾å‡ºintå€¼æ‰€åœ¨çš„ipæ®µå¯¹åº”çš„åœ°åŒºå°±å¯ä»¥äº†ã€‚\n","date":"2012-01-09T07:23:24Z","permalink":"https://blog.xenori.com/2012/01/crawl-sina-ip-data/","title":"é€šè¿‡æ–°æµªæ¥å£æŠ“å–ipåº“"},{"content":"1ã€ä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨çº¿ç¨‹æ± (Thread Poolï¼‰\n**å‡å°‘çº¿ç¨‹é—´ä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚**çº¿ç¨‹æ‰§è¡Œä¸€å®šçš„æ—¶é—´ç‰‡åï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æŠŠcpuåˆ‡æ¢ç»™å¦ä¸€ä¸ªçº¿ç¨‹ä½¿ç”¨ï¼Œè¿™æ—¶è¿˜éœ€è¦ä¿å­˜å½“å‰çš„çº¿ç¨‹ä¸Šä¸‹æ–‡çŠ¶æ€ï¼Œå¹¶åŠ è½½æ–°çº¿ç¨‹çš„ä¸Šä¸‹æ–‡çŠ¶æ€ã€‚å½“ç¨‹åºä¸­æœ‰å¤§é‡çš„çº¿ç¨‹æ—¶ï¼Œæ¯ä¸ªçº¿ç¨‹åˆ†å¾—çš„æ—¶é—´ç‰‡ä¼šè¶Šæ¥è¶Šå°‘ï¼Œå¯èƒ½ä¼šå‡ºç°çº¿ç¨‹æœªå¤„ç†å¤šå°‘æ“ä½œï¼Œå°±éœ€è¦åˆ‡æ¢åˆ°å¦ä¸€çº¿ç¨‹ï¼Œè¿™æ ·é¢‘ç¹çš„çº¿ç¨‹é—´ä¸Šä¸‹æ–‡åˆ‡æ¢ä¼šèŠ±è´¹å¤§é‡çš„cpuæ—¶é—´ã€‚\n**å‡å°‘å†…å­˜å ç”¨ã€‚**ç³»ç»Ÿæ¯åˆ›å»ºä¸€æ¡ç‰©ç†çº¿ç¨‹ï¼Œéœ€è¦å¤§æ¦‚èŠ±è´¹1MBçš„å†…å­˜ç©ºé—´ï¼Œè®¸å¤šç¨‹åºå–œæ¬¢å…ˆåˆ›å»ºå¤šæ¡ç‰©ç†çº¿ç¨‹ï¼Œå¹¶å‘¨æœŸè½®è¯¢æ¥å¤„ç†å„è‡ªçš„ä»»åŠ¡ï¼Œè¿™æ ·æ—¢æ¶ˆè€—äº†çº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢çš„æ—¶é—´ï¼Œè¿˜æµªè´¹äº†å†…å­˜ã€‚è¿™äº›ä»»åŠ¡å¯èƒ½åªéœ€è¦ä¸€æ¡çº¿ç¨‹å°±èƒ½æ»¡è¶³è¦æ±‚ã€‚å‡å¦‚æŸä¸€ä»»åŠ¡éœ€è¦æ‰§è¡Œè¾ƒé•¿çš„å‘¨æœŸï¼Œçº¿ç¨‹æ± è¿˜å¯ä»¥è‡ªåŠ¨å¢åŠ çº¿ç¨‹ï¼Œå¹¶åœ¨ç©ºé—²æ—¶ï¼Œé”€æ¯çº¿ç¨‹ï¼Œé‡Šæ”¾å ç”¨çš„å†…å­˜ã€‚\n2ã€ä¸ºä»€ä¹ˆä¸ä½¿ç”¨.Neté»˜è®¤çš„çº¿ç¨‹æ± \n.Neté»˜è®¤çš„çº¿ç¨‹æ± (ThreadPool)æ˜¯ä¸€ä¸ªé™æ€ç±»ï¼Œæ‰€ä»¥æ˜¯æ²¡åŠæ³•è‡ªå·±åˆ›å»ºä¸€ä¸ªæ–°çš„ç¨‹åºæ± çš„ã€‚é»˜è®¤çš„çº¿ç¨‹æ± ä¸åº”ç”¨ç¨‹åºåŸŸ(AppDomain)æŒ‚é’©ï¼Œä¸€ä¸ªAppDomainåªæœ‰ä¸€ä¸ªçº¿ç¨‹æ± ã€‚å‡å¦‚åœ¨çº¿ç¨‹æ± ä¸­æ‰§è¡Œäº†ä¸€ä¸ªå‘¨æœŸè¾ƒé•¿çš„ä»»åŠ¡ï¼Œä¸€ç›´å ç”¨ç€å…¶ä¸­ä¸€ä¸ªçº¿ç¨‹ï¼Œå¯èƒ½å°±ä¼šå½±å“åˆ°åº”ç”¨ç¨‹åºåŸŸä¸­çš„å…¶ä»–ç¨‹åºçš„æ€§èƒ½ã€‚ä¾‹å¦‚ï¼Œå‡å¦‚åœ¨Asp.Netçš„çº¿ç¨‹æ± ä¸­æ‰§è¡Œä¸€ä¸ªå‘¨æœŸè¾ƒé•¿çš„ä»»åŠ¡ï¼Œå°±ä¼šå½±å“è¯·æ±‚çš„å¹¶å‘å¤„ç†èƒ½åŠ›ï¼ˆçº¿ç¨‹æ± é»˜è®¤æœ‰ä¸ªæœ€å¤§çº¿ç¨‹æ•°ï¼‰ã€‚ 3ã€SmartThreadPoolç‰¹æ€§å’Œä¼˜ç‚¹ SmartThreadPoolç‰¹æ€§å¦‚ä¸‹ï¼š\næ± ä¸­çš„çº¿ç¨‹æ•°é‡ä¼šæ ¹æ®è´Ÿè½½è‡ªåŠ¨å¢å‡\nä»»åŠ¡å¼‚æ­¥æ‰§è¡Œåå¯ä»¥è¿”å›å€¼\nå¤„äºä»»åŠ¡é˜Ÿåˆ—ä¸­æœªæ‰§è¡Œçš„ä»»åŠ¡å¯ä»¥å–æ¶ˆ\nå›è°ƒå‡½æ•°å¯ä»¥ç­‰å¾…å¤šä¸ªä»»åŠ¡éƒ½æ‰§è¡Œå®Œæˆåå†è§¦å‘\nä»»åŠ¡å¯ä»¥æœ‰ä¼˜å…ˆçº§(priority)\nä»»åŠ¡å¯ä»¥åˆ†ç»„\næ”¯æŒæ³›å‹Action å’Œ Func\næœ‰æ€§èƒ½ç›‘æµ‹æœºåˆ¶\n4ã€ä½¿ç”¨ç¤ºä¾‹ æœ€ç®€å•çš„ä½¿ç”¨æ–¹æ³•ï¼š\n// åˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ±  SmartThreadPool smartThreadPool = new SmartThreadPool(); // æ‰§è¡Œä»»åŠ¡ smartThreadPool.QueueWorkItem(() =\u0026gt; { Console.WriteLine(\u0026quot;Hello World!\u0026quot;); }); å¸¦è¿”å›å€¼çš„ä»»åŠ¡ï¼š\n// åˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ±  SmartThreadPool smartThreadPool = new SmartThreadPool(); // æ‰§è¡Œä»»åŠ¡ var result = smartThreadPool.QueueWorkItem(() =\u0026gt; { var sum = 0; for (var i = 0; i \u0026lt; 10; i++) sum += i; return sum; }); // è¾“å‡ºè®¡ç®—ç»“æœ Console.WriteLine(result.Result); ç­‰å¾…å¤šä¸ªä»»åŠ¡æ‰§è¡Œå®Œæˆï¼š\n// åˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ±  SmartThreadPool smartThreadPool = new SmartThreadPool(); // æ‰§è¡Œä»»åŠ¡ var result1 = smartThreadPool.QueueWorkItem(() =\u0026gt; { //æ¨¡æ‹Ÿè®¡ç®—è¾ƒé•¿æ—¶é—´ Thread.Sleep(5000); return 3; }); var result2 = smartThreadPool.QueueWorkItem(() =\u0026gt; { //æ¨¡æ‹Ÿè®¡ç®—è¾ƒé•¿æ—¶é—´ Thread.Sleep(3000); return 5; }); bool success = SmartThreadPool.WaitAll( new IWorkItemResult[] { result1, result2 }); if (success) { // è¾“å‡ºç»“æœ Console.WriteLine(result1.Result); Console.WriteLine(result2.Result); } 5ã€ç»“è®º ä½¿ç”¨SmartThreadPoolå¯ä»¥ç®€å•å°±å®ç°æ”¯æŒå¤šçº¿ç¨‹çš„ç¨‹åºï¼Œç”±çº¿ç¨‹æ± æ¥ç®¡ç†çº¿ç¨‹ï¼Œå¯ä»¥å‡å°‘æ­»é”çš„å‡ºç°ã€‚SmartThreadPoolè¿˜æ”¯æŒç®€å•çš„ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å¼ï¼Œå½“ä¸éœ€è¦å¯¹ä»»åŠ¡è¿›è¡ŒæŒä¹…åŒ–æ—¶ï¼Œè¿˜æ˜¯å¾ˆå¥½ç”¨çš„ã€‚\n6ã€æ‰©å±•é˜…è¯»\nhttp://www.codeproject.com/KB/threads/smartthreadpool.aspx http://smartthreadpool.codeplex.com/ http://www.albahari.com/threading/\n","date":"2012-01-09T07:11:38Z","permalink":"https://blog.xenori.com/2012/01/smartthreadpool/","title":"å¼€æºçº¿ç¨‹æ± ç»„ä»¶SmartThreadPool"},{"content":"PetaPocoæ˜¯ä¸€ä¸ªç®€å•è½»å·§çš„ormå¼€æºç±»åº“ï¼Œå…¨éƒ¨åŠŸèƒ½åªæœ‰ä¸€ä¸ªæ–‡ä»¶ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿é›†æˆåˆ°é¡¹ç›®ä¸­ã€‚ä»£æ›¿SqlHelperè¾…åŠ©ç±»çš„ä¸äºŒé€‰æ‹©ã€‚ã€‚ã€‚\nä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š - æ˜ å°„å®ä½“ç±»ï¼Œæ”¯æŒenumï¼ŒNullableç­‰ç±»å‹ï¼Œå¯åŒæ—¶æ˜ å°„å¤šä¸ªå®ä¾‹ã€‚ - æ”¯æŒåˆ†é¡µ - ä»¥@0ç­‰å ä½ç¬¦ä»£æ›¿SqlParameterï¼Œä¼ å‚æ›´æ–¹ä¾¿ - å¸¦æœ‰sqlå­—ç¬¦ä¸²æ„é€ å™¨ï¼Œæ„é€ æ¡ä»¶æŸ¥è¯¢sqléå¸¸æ–¹ä¾¿ - updateæ”¯æŒæŒ‡å®šå­—æ®µæ›´æ–° - æ”¯æŒT4æ¨¡æ¿ ä½¿ç”¨ç¤ºä¾‹ï¼š ä½¿ç”¨å‰éœ€è¦å…ˆnewä¸€ä¸ªæ•°æ®åº“å®ä¾‹ï¼š\nvar db = new PetaPoco.Database(\u0026quot;ConnectionName\u0026quot;); å¯ä»¥æ”¾å¿ƒåœ°æŠŠdbå®ä¾‹è®¾ä¸ºstaticï¼Œå› ä¸ºå®ä¾‹ä¸­æ²¡æœ‰SqlConnectionçš„å¼•ç”¨ï¼Œè¿æ¥æ¯æ¬¡æ‰§è¡Œå®Œåï¼Œä¼šè‡ªåŠ¨å…³é—­ã€‚ å‘ç°æœ‰äººåæ˜ åœ¨webä¸Šä½¿ç”¨staticçš„dbå®ä¾‹è¿˜æ˜¯ä¼šæœ‰é—®é¢˜ï¼Œå…·ä½“å¯çœ‹é“¾æ¥(Link1)ï¼ŒStackOverflowä¸­æ¨èwebä¸­æ¯ä¸ªè¯·æ±‚ä½¿ç”¨ä¸€ä¸ªå•ç‹¬çš„dbå®ä¾‹(Link2). 1ã€å–ä¸€æ¡è®°å½•\nvar a = db.SingleOrDefault\u0026lt;article\u0026gt;(\u0026quot;SELECT * FROM articles WHERE article_id=@0\u0026quot;, 123));\u0026lt;/article\u0026gt; 2ã€åˆ†é¡µ\n// åˆ†é¡µå®è´¨åœ¨å†…éƒ¨æ˜¯ç”¨Row_Number()é‡å†™äº†sqlï¼Œæ”¯æŒjoin var result=db.Page\u0026lt;article\u0026gt;(1, 20, \u0026quot;SELECT * FROM articles WHERE category=@0 ORDER BY date_created DESC\u0026quot;, \u0026quot;coolstuff\u0026quot;);\u0026lt;/article\u0026gt; ä¸Šé¢çš„åˆ†é¡µsqlï¼Œä¼šè¢«æ”¹å†™ä¸ºsqlï¼š\nSELECT * FROM ( SELECT ROW_NUMBER() OVER (ORDER BY date_created DESC) peta_rn, * FROM articles WHERE category=@0 ) peta_paged WHERE peta_rn\u0026gt;@1 AND peta_rn 3ã€éƒ¨åˆ†æ›´æ–°\ndb.Update(\u0026quot;articles\u0026quot;, \u0026quot;article_id\u0026quot;, new { title=\u0026quot;New title\u0026quot; }, 123); 4ã€sqlæ¡ä»¶æ„é€ \nvar sql = PetaPoco.Sql.Builder .Append(\u0026quot;SELECT * FROM articles\u0026quot;) .Append(\u0026quot;WHERE article_id=@0\u0026quot;, id) .Append(\u0026quot;WHERE date_created\u0026gt;=@0\u0026quot;, start_date.Value) .Append(\u0026quot;WHERE date_created 5ã€ç›´æ¥æ‰§è¡Œsql\ndb.Execute(\u0026quot;DELETE FROM articles WHERE draft\u0026lt;\u0026gt;0\u0026quot;); 6ã€è°ƒç”¨å­˜å‚¨è¿‡ç¨‹\n//è°ƒç”¨å­˜å‚¨è¿‡ç¨‹ db.Execute(\u0026quot;exec procSomeHandler @0, @1\u0026quot;, 3, \u0026quot;2011-10-01\u0026quot;); //è°ƒç”¨å¸¦è¾“å‡º(OUTPUT)å‚æ•°çš„å­˜å‚¨è¿‡ç¨‹, å†™çš„sqlè¯­å¥ï¼Œ@0å‚æ•°åçš„â€œoutputâ€æ˜¯å…³é”® var param = new SqlParameter() { Direction = ParameterDirection.Output, SqlDbType = SqlDbType.Int }; db.Execute(\u0026quot;exec procSomeHandler @0 OUTPUT\u0026quot;, param); 7ã€ä»£æ›¿è¿”å›å€¼DataTable æœ‰æ—¶ï¼Œæˆ‘ä»¬å¹¶ä¸æƒ³æ¯æ¡æ‰§è¡Œçš„sqléƒ½éœ€è¦åˆ›å»ºå¯¹åº”çš„å®ä½“ç±»ï¼Œè¿™æ ·ä¼šå¯¼è‡´é¡¹ç›®ä¸­å­˜åœ¨è¿‡å¤šçš„å®ä½“ç±»ï¼Œæœ‰æ–¹æ³•èƒ½åšåˆ°DataTableè¿™æ ·çµæ´»å°±æœ€å¥½äº†ã€‚åœ¨.net4.0ä¸­ï¼ŒPetaPocoå¯ä»¥è¿”å›dynamicç±»å‹ï¼Œå¯ä»¥å¾ˆå¥½åœ°è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè€Œåœ¨.net3.5ä¸­å°±æ²¡åŠæ³•ï¼Œä¸è¿‡å¯ä»¥é€šè¿‡ä¿®æ”¹PetaPocoä»£ç ï¼Œå®ç°ä½¿ç”¨Dictionaryç±»å‹æ¥ä»£æ›¿dynamicåŠ¨æ€ç±»å‹çš„åŠŸèƒ½ã€‚æ”¹åŠ¨ä»£ç å¦‚ä¸‹ï¼šhttps://github.com/bitxeno/PetaPoco/commit/e07746c06977f09ef8e7a0f81b718e520b4513ed\nvar list = db.Fetch\u0026gt;(\u0026quot;select article_id,date_created from articles\u0026quot;); ä½¿ç”¨petapocoæ—¶æœ‰ç‚¹éœ€è¦æ³¨æ„ï¼Œå°±æ˜¯å½“æ•°æ®åº“å­—æ®µæ•°æ®ç±»å‹æ˜¯varcharç­‰éunicodeå­—ç¬¦ç±»å‹æ—¶ï¼Œpetapocoä¼ å‚éœ€è¦æŠŠstringè½¬æ¢ä¸ºAnsiStringç±»å‹ï¼Œå¦åˆ™ä¼šæœ‰æ€§èƒ½é—®é¢˜ã€‚\nAnsi String Support DBA guru Rob Sullivan yesterday pointed out that SQL Server has pretty severe performance overhead if you try to query an index with varchar column using a unicode string parameter. To fix this the parameter needs to be bound as DbType.AnsiString. To facilitate this you can now wrap such string parameters in a new AnsiString class: var a = db.SingleOrDefault\u0026lt;article\u0026gt;(\u0026quot;WHERE title=@0\u0026quot;, new PetaPoco.AnsiString(\u0026quot;blah\u0026quot;));\u0026lt;/article\u0026gt; å‚è€ƒèµ„æ–™ï¼š http://code.google.com/p/dapper-dot-net/ http://www.toptensoftware.com/petapoco/\n","date":"2012-01-09T05:11:52Z","permalink":"https://blog.xenori.com/2012/01/petapoco/","title":"å°å·§æ–¹ä¾¿çš„ORMç±»åº“â€”â€”PetaPoco"},{"content":"è™½ç„¶è‡ªå·±å¾ˆæ‡’ï¼Œä¸è¿‡è¿˜æ˜¯æ€»ç»“ä¸‹2011å¹´åšè¿‡çš„äº‹ï¼Œå¯èƒ½ä»¥åå›é¡¾æ—¶ä¼šæœ‰å¦ä¸€ç•ªæ”¶è·ã€‚ ä»Šå¹´å› ä¸ºè½¬å…¥äº†äº’è”ç½‘è¡Œä¸šï¼Œæ‰€ä»¥åœ¨æŠ€æœ¯ä¸Šå­¦åˆ°äº†å¾ˆå¤šæ–°ä¸œè¥¿ï¼Œå¼€å‘æ—¶ä¹Ÿæ›´å…³æ³¨æ€§èƒ½ä¼˜åŒ–å’Œå¹¶å‘ï¼Œå¯¹å•å…ƒæµ‹è¯•ä¹Ÿæ…¢æ…¢ç†Ÿæ‚‰èµ·æ¥ã€‚ä»Šå¹´ç¨æœ‰ç ”ç©¶çš„æŠ€æœ¯æœ‰è¿™äº›ï¼š\nè´Ÿè½½å‡è¡¡faioverã€‚ä¸ºäº†ä½¿éƒ¨ç½²æ›´æ–°åˆ°ç”Ÿäº§ç¯å¢ƒæ—¶ï¼Œå‡å°‘å¯¹ç”¨æˆ·çš„å½±å“ï¼Œç‰¹æ„ç ”ç©¶äº†ä¸‹å½“å‰çƒ­é—¨çš„è§£å†³æ–¹æ¡ˆã€‚å½“å‰æµè¡Œçš„è´Ÿè½½å‡è¡¡è½¯ä»¶æœ‰nginxå’ŒHAProxyï¼Œå¯æƒœåˆ°æœ€åè¿˜æ˜¯æ²¡ç”¨åˆ°ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œç°åœ¨è¿˜æ˜¯ä¸æ˜ç™½å½“æˆ‘éƒ¨ç½²ä¸€å°æ—¶ï¼Œæ–°çš„è¿æ¥æ˜¯å¦ä¼šè‡ªåŠ¨è·¯ç”±åˆ°å¦ä¸€ä¸ªwebæœåŠ¡å™¨ã€‚ ETLå¤§æ•°æ®é‡è½¬ç§»ã€‚æœ€åä½¿ç”¨SSISå®ŒæˆæŠŠMySQLæ•°æ®è½¬ç§»åˆ°SqlServerã€‚ å¤šçº¿ç¨‹å¼€å‘ã€‚æœ€åæ‰¾åˆ°äº†ä¸ªSmartThreadPoolçš„çº¿ç¨‹æ± ç»„ä»¶ï¼Œå¾ˆå¥½ç”¨ã€‚ Rediså’ŒMemcachedå­¦ä¹  æ•°æ®åº“æ€§èƒ½ä¼˜åŒ–ã€‚å¯¹æ•°æ®åº“ç´¢å¼•æ›´æ·±å…¥çš„ç†è§£ï¼Œä»Šå¹´æ˜¯å¤šå¾—è¿™ä¸ªç½‘ç«™ï¼šhttp://use-the-index-luke.com/ï¼ŒæåŠ›æ¨èçœ‹ç½‘ç«™ä¸Šçš„ebook æ¶ˆæ¯é˜Ÿåˆ—ã€‚æ˜¯ä¸ºäº†ä¼˜åŒ–ä¸€ä¸ªç‰©å“äº¤æ˜“ç³»ç»Ÿè€Œå­¦ä¹ çš„ï¼Œè§‰å¾—ä¸é”™çš„æœ‰ZeroMqå’ŒRedisã€‚ ä»Šå¹´è™½ç„¶æ¥è§¦äº†å¾ˆå¤šæ–°æŠ€æœ¯ï¼Œæ„Ÿè§‰å¾ˆå……å®ï¼Œå¯æƒœçš„æ˜¯ï¼Œè¿˜æ˜¯æ²¡åšå‡ºä¸€ä¸ªä»¤è‡ªå·±æ»¡æ„çš„äº§å“ã€‚æ¯æ¬¡çœ‹è‡ªå·±åšçš„é¡¹ç›®éƒ½åƒä¸€ä¸ªåŠæˆå“ï¼Œå®åœ¨ä¸å¥½æ„æ€å‘æœ‹å‹æ¨èï¼Œä¸‹ä¸€å¹´çš„ç›®æ ‡è¿˜æ˜¯å¸Œæœ›èƒ½åšå‡ºä¸€ä¸ªå¥½äº§å“ã€‚\nä»Šå¹´å› ä¸ºæœ‰äº†GRå’Œå¾®åšï¼Œå¯¹è¡Œä¸šçš„ä¿¡æ¯æ›´äº†è§£äº†ï¼Œä¹Ÿä»åˆ«äººçš„åˆ†äº«ä¸­äº†è§£å¾ˆå¤šæ–°æŠ€æœ¯ã€‚è€Œè´­ä¹°äº†iPadåï¼Œçœ‹ä¹¦å¾ˆæœ‰åŠ¨åŠ›ï¼Œä»Šå¹´çœ‹äº†å¾ˆå¤šè‹±æ–‡ç‰ˆçš„ä¹¦ï¼Œå¦‚ã€ŠCLR Via C#ã€‹ã€ã€ŠPro Asp.Net MVC 3ã€‹ã€ã€ŠProgramming the Mobile Webã€‹ç­‰ï¼Œå¹´åº¦æœ€å–œçˆ±çš„ä¹¦æ˜¯ã€Šé»‘å®¢ä¸ç”»å®¶ã€‹å’Œã€Šå¤§å®¶çœ‹çš„è®¾è®¡ä¹¦ã€‹(^o^)/ã€‚\nä»Šå¹´æ„Ÿæƒ…ç”Ÿæ´»è¿˜æ˜¯ä¸€ç‰‡ç©ºç™½ï¼Œä¸è¿‡å¿ƒæƒ…å€’æ˜¯è½»æ¾å¾ˆå¤šã€‚è¿‡å¹´è¿‡èŠ‚çœ‹åˆ°åˆ«äººä¸€å¯¹å¯¹è¿˜æœ‰å„ç§å¾—æ„çš„å°å±å­©ï¼Œå¿ƒé‡Œæ˜¯æœ‰ç‚¹ç¾¡æ…•ï¼Œä¸è¿‡å·²ç»å­¦ä¼šå¾ˆè°ˆç„¶äº†ã€‚ç°åœ¨å¯¹æ„Ÿæƒ…æ–¹é¢åè€Œä¸å¼ºçƒˆï¼Œæ›´å¤šçš„ç²¾åŠ›è¿˜æ˜¯èŠ±åœ¨å·¥ä½œå’Œæ”’æ›´å¤šé’±ä¸Š($$)ã€‚\nä»Šå¹´å·®ä¸å¤šä¸ä¸Šqäº†ï¼Œæ¸¸æˆä¹Ÿå› ä¸ºå…´è¶£è¶Šæ¥è¶Šå°‘ï¼Œä¹Ÿå¾ˆå°‘ç¢°ã€‚ä¹°æ¥çš„ps3å°±é€šäº†TOXï¼Œå…¶ä»–æ—¶é—´åƒç°ã€‚ã€‚ã€‚å¹³æ—¶å¤§å¤šæ•°æ—¶é—´éƒ½åœ¨åˆ·å¾®åšï¼Œå½“ç„¶ï¼ŒçŸ¥ä¹ä¹Ÿå¾ˆå¥½ï¼Œèƒ½å­¦åˆ°å¾ˆå¤šæœ‰è¶£çš„çŸ¥è¯†ã€‚\nåˆæ–°çš„ä¸€å¹´ï¼Œå³å°†è¿ˆè¿›30å¤§å…³ã€‚ã€‚ã€‚å‰é€”ä»ç„¶è¿·èŒ«å¾—ä¸çŸ¥æ‰€æªã€‚ æ„¿æˆ‘çš„å®¶äººæ°¸è¿œå¥åº·å¹¸ç¦ï¼Œæˆ‘æœ€å¤§çš„æ„¿æœ›ã€‚\n","date":"2012-01-04T13:59:21Z","permalink":"https://blog.xenori.com/2012/01/summarize2011/","title":"2011æ€»ç»“"},{"content":"è…¾è®¯ï¼šhttp://ip.qq.com/cgi-bin/searchip?searchip1=121.236.225.37 ç°åœ¨åªèƒ½é€šè¿‡è§£æé¡µé¢å†…å®¹åˆ°å–å¾—\næ–°æµªï¼šhttp://int.dpool.sina.com.cn/iplookup/iplookup.php?format=json\u0026amp;ip=123.124.2.85\nç½‘æ˜“ï¼šÂ http://www.youdao.com/smartresult-xml/search.s?type=ip\u0026amp;q=123.124.2.85\nipåœ°å€åœ¨å„ä¸ªå›½å®¶çš„åˆ†é…æƒ…å†µè¡¨ï¼š http://ftp.apnic.net/apnic/stats/apnic/delegated-apnic-latest http://www.countryipblocks.net/country-blocks/ip-range-format/\n","date":"2011-12-25T06:09:12Z","permalink":"https://blog.xenori.com/2011/12/ip-lookup/","title":"é—¨æˆ·ç½‘ç«™çš„ipæŸ¥è¯¢æ¥å£"},{"content":"GoAgentæ˜¯ä¸ªå¾ˆå¼ºçš„Appspotä»£ç†ç¨‹åºï¼Œçœ‹youtubeæ¯«æ— å‹åŠ›=w=ï¼Œchrome+SwitchySharpä¹Ÿå¾ˆå¥½ç”¨ï¼Œä¸‹é¢æ˜¯ä¸ªç®€å•çš„éƒ¨ç½²æ­¥éª¤ï¼š 1ã€åˆ°http://code.google.com/p/goagent/ä¸‹è½½æœ€æ–°ç‰ˆçš„GoAgent 2ã€é¦–é€‰dnsè¦è®¾ä¸º8.8.8.8 3ã€åˆ°http://code.google.com/p/smarthosts/ä¸‹è½½æœ€æ–°ç¨‹åºæ›´æ–°ä¸‹hosts 4ã€æŒ‰GoAgentéƒ¨ç½²æ•™ç¨‹ä¸Šä¼ ç¨‹åºåˆ°Appspot 5ã€æŠŠSwitchSharpçš„ä»£ç†è®¾ä¸º127.0.0.1:8087ï¼Œå¹¶æŠŠåœ¨ä»£è§„åˆ™æŒ‡å‘ï¼šhttp://autoproxy-gfwlist.googlecode.com/svn/trunk/gfwlist.txt 6ã€have fun!\næ›´è¯¦ç»†æ•™ç¨‹ï¼š http://maolihui.com/goagent-detailed-version-of-the-tutorial.html\n","date":"2011-12-10T09:19:25Z","permalink":"https://blog.xenori.com/2011/12/open-the-doo/","title":"GoAgentç¿»äº†ä¸ªå¢™"},{"content":"è¿™æ˜¯å†…éƒ¨æŠ€æœ¯åˆ†äº«çš„ppt\n","date":"2011-12-07T15:51:09Z","permalink":"https://blog.xenori.com/2011/12/lucene-knowledge/","title":"Luceneå®è·µ"},{"content":"åœ¨æˆ‘çš„xp3ä¸Šå®‰è£…S60_3rd_FP2_SDK_v1.1ç‰ˆæœ¬æ¨¡å—å™¨ï¼Œåœ¨è¿è¡Œæ—¶ä¼šå‡ºç°é—ªé€€çš„é—®é¢˜ï¼ˆåœ¨xp2ä¸Šå¥½åƒæ²¡è¿™é—®é¢˜)ï¼Œè§£å†³æ–¹æ³•å¦‚ä¸‹ï¼š\nè¿›å…¥â€œæˆ‘çš„ç”µè„‘-ã€‹å±æ€§-ã€‹é«˜çº§-ã€‹æ€§èƒ½ï¼ˆè®¾ç½®ï¼‰-ã€‹æ•°æ®æ‰§è¡Œä¿æŠ¤â€ï¼ŒæŠŠepoc.exeç¨‹åºåŠ å…¥ä¾‹å¤–ä¸­å°±å¯ä»¥äº†ï¼š å‡å¦‚ä½ æƒ³æŸ¥çœ‹nokiaæ¨¡æ‹Ÿå™¨è¿è¡Œæ—¥å¿—ï¼Œå¯ä»¥åœ¨è¿è¡Œä¸­æ‰“å¼€â€œ%temp%â€å½“å‰ç”¨æˆ·ä¸´æ—¶æ–‡ä»¶å¤¹ï¼Œå†æœç´¢â€œepocwind.outâ€å°±æ˜¯äº†\n","date":"2011-11-28T14:02:21Z","permalink":"https://blog.xenori.com/2011/11/s60emulator-run-terminate/","title":"xp3ä¸­è¿è¡Œs60 v3æ¨¡æ‹Ÿå™¨ï¼Œå‡ºç°é—ªé€€é—®é¢˜çš„è§£å†³æ–¹æ³•"}]