<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Posts on bitxeno's notes</title><link>https://blog.xenori.com/post/</link><description>Recent content in Posts on bitxeno's notes</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Thu, 29 Feb 2024 12:16:42 +0800</lastBuildDate><atom:link href="https://blog.xenori.com/post/index.xml" rel="self" type="application/rss+xml"/><item><title>github ä¸‹è½½åŠ é€Ÿ</title><link>https://blog.xenori.com/2024/02/github-download-enhance-speed/</link><pubDate>Thu, 29 Feb 2024 12:16:42 +0800</pubDate><guid>https://blog.xenori.com/2024/02/github-download-enhance-speed/</guid><description>&lt;img src="https://blog.xenori.com/2024/02/github-download-enhance-speed/cover.png" alt="Featured image of post github ä¸‹è½½åŠ é€Ÿ" />&lt;h2 id="ä½¿ç”¨-ghproxy-åŠ é€Ÿ">ä½¿ç”¨ ghproxy åŠ é€Ÿ&lt;/h2>
&lt;p>å®˜ç½‘ï¼š&lt;a class="link" href="https://mirror.ghproxy.com" target="_blank" rel="noopener"
>https://mirror.ghproxy.com&lt;/a>&lt;/p>
&lt;h3 id="åŠ é€Ÿæ–¹æ³•">åŠ é€Ÿæ–¹æ³•ï¼š&lt;/h3>
&lt;p>åœ¨é“¾æ¥å‰é¢æ·»åŠ ï¼šhttps://mirror.ghproxy.com/ï¼Œå¦‚ï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code>https://mirror.ghproxy.com/https://github.com/user/repo/releases/download/version/file
&lt;/code>&lt;/pre>
&lt;div class="notices warning" >&lt;blockquote>&lt;p>é™åˆ¶ï¼šghproxy åŸŸåå¯èƒ½ä¼šè¢«å¢™ï¼Œå¯¼è‡´éœ€è¦æ›´æ¢åŸŸå&lt;/p>
&lt;/blockquote>&lt;/div>
&lt;h2 id="ä½¿ç”¨-jsdelivr-åŠ é€Ÿ">ä½¿ç”¨ jsdelivr åŠ é€Ÿ&lt;/h2>
&lt;p>å®˜ç½‘ï¼š&lt;a class="link" href="https://github.com/jsdelivr/jsdelivr?tab=readme-ov-file#github" target="_blank" rel="noopener"
>https://github.com/jsdelivr/jsdelivr?tab=readme-ov-file#github&lt;/a>&lt;/p>
&lt;h3 id="åŠ é€Ÿæ–¹æ³•-1">åŠ é€Ÿæ–¹æ³•ï¼š&lt;/h3>
&lt;p>ä½¿ç”¨ &lt;a class="link" href="https://cdn.jsdelivr.net/gh" target="_blank" rel="noopener"
>https://cdn.jsdelivr.net/gh&lt;/a> æ›¿æ¢ &lt;a class="link" href="https://github.com" target="_blank" rel="noopener"
>https://github.com&lt;/a> åŸŸåï¼Œå¦‚ï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code>https://cdn.jsdelivr.net/gh/user/repo@version/file
&lt;/code>&lt;/pre>&lt;p>&lt;code>@version&lt;/code> å¯ä»¥æ˜¯ tag æˆ– commitï¼Œçœç•¥ä¹Ÿå¯ä»¥ï¼Œå¦‚ï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code>https://cdn.jsdelivr.net/gh/user/repo/file
&lt;/code>&lt;/pre>
&lt;div class="notices warning" >&lt;blockquote>&lt;p>é™åˆ¶ï¼šåªæ”¯æŒ git ä»“åº“æ–‡ä»¶ï¼Œä¸æ”¯æŒ release å‘å¸ƒçš„æ–‡ä»¶&lt;/p>
&lt;/blockquote>&lt;/div></description></item><item><title>Macç³»ç»Ÿä¸‹å¦‚ä½•æŠ“åŒ…unixå¥—æ¥å­—ï¼ˆUnix Domain Socketï¼‰</title><link>https://blog.xenori.com/2023/05/how-to-capture-unix-domain-socket-on-mac/</link><pubDate>Mon, 22 May 2023 12:35:10 +0800</pubDate><guid>https://blog.xenori.com/2023/05/how-to-capture-unix-domain-socket-on-mac/</guid><description>&lt;img src="https://blog.xenori.com/2023/05/how-to-capture-unix-domain-socket-on-mac/cover.png" alt="Featured image of post Macç³»ç»Ÿä¸‹å¦‚ä½•æŠ“åŒ…unixå¥—æ¥å­—ï¼ˆUnix Domain Socketï¼‰" />&lt;p>æ™®é€šçš„æŠ“åŒ…å·¥å…·å¦‚ charles ç­‰æ²¡æ³•æŠ“å–unixå¥—æ¥å­—æ•°æ®ï¼Œéœ€è¦å€ŸåŠ© socat æ¥æŠ“å–ã€‚&lt;/p>
&lt;h2 id="å®‰è£…æŠ“åŒ…å·¥å…·-socat">å®‰è£…æŠ“åŒ…å·¥å…· socat&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">brew install socat
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="åˆ¶ä½œæŠ“åŒ…è„šæœ¬">åˆ¶ä½œæŠ“åŒ…è„šæœ¬&lt;/h2>
&lt;p>åœ¨&lt;code>/usr/local/bin&lt;/code>ä¸‹åˆ›å»ºä¸€ä¸ªå‘½åä¸º&lt;code>xdump&lt;/code>çš„ shell æ‰§è¡Œè„šæœ¬ï¼Œå†…å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#!/bin/bash
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>restore&lt;span class="o">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> mv &lt;span class="nv">$1&lt;/span>.original &lt;span class="nv">$1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">echo&lt;/span> -e &lt;span class="s2">&amp;#34;\nSocket &lt;/span>&lt;span class="nv">$1&lt;/span>&lt;span class="s2"> \e[33mRESTORED&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">sock&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$1&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">trap&lt;/span> &lt;span class="s2">&amp;#34;restore &lt;/span>&lt;span class="nv">$sock&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> EXIT
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mv &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$sock&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$sock&lt;/span>&lt;span class="s2">.original&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">socat -t100 -v UNIX-LISTEN:&lt;span class="nv">$sock&lt;/span>,mode&lt;span class="o">=&lt;/span>777,reuseaddr,fork UNIX-CONNECT:&lt;span class="nv">$sock&lt;/span>.original
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä¸º&lt;code>xdump&lt;/code>è„šæœ¬èµ‹æ‰§è¡Œæƒé™ï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code>chmod +x /usr/local/bin/xdump
&lt;/code>&lt;/pre>&lt;h2 id="å¼€å§‹æŠ“åŒ…">å¼€å§‹æŠ“åŒ…&lt;/h2>
&lt;p>éœ€è¦æŠ“åŒ…æ—¶æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">sudo xdump /path/to/unix_socket_file
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä¾‹å¦‚æŠ“åŒ… xcode çš„&lt;code>usbmuxd&lt;/code>é€šä¿¡åè®®ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">sudo xdump /var/run/usbmuxd
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>è¾“å‡ºå¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&amp;gt; 2023/05/22 14:17:23.000982894 &lt;span class="nv">length&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">472&lt;/span> &lt;span class="nv">from&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">0&lt;/span> &lt;span class="nv">to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">471&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">........&lt;span class="se">\b&lt;/span>.......&amp;lt;?xml &lt;span class="nv">version&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;1.0&amp;#34;&lt;/span> &lt;span class="nv">encoding&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;UTF-8&amp;#34;&lt;/span>?&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;!DOCTYPE plist PUBLIC &lt;span class="s2">&amp;#34;-//Apple//DTD PLIST 1.0//EN&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;http://www.apple.com/DTDs/PropertyList-1.0.dtd&amp;#34;&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;plist &lt;span class="nv">version&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;1.0&amp;#34;&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;dict&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;key&amp;gt;BundleID&amp;lt;/key&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;string&amp;gt;com.apple.dt.Xcode&amp;lt;/string&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;key&amp;gt;ClientVersionString&amp;lt;/key&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;string&amp;gt;usbmuxd-531.100.1&amp;lt;/string&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;key&amp;gt;MessageType&amp;lt;/key&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;string&amp;gt;ReadBUID&amp;lt;/string&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;key&amp;gt;ProcessID&amp;lt;/key&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;integer&amp;gt;870&amp;lt;/integer&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;key&amp;gt;ProgName&amp;lt;/key&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;string&amp;gt;Xcode&amp;lt;/string&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;/dict&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;/plist&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt; 2023/05/22 14:17:23.000985543 &lt;span class="nv">length&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">276&lt;/span> &lt;span class="nv">from&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">0&lt;/span> &lt;span class="nv">to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">275&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">........&lt;span class="se">\b&lt;/span>.......&amp;lt;?xml &lt;span class="nv">version&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;1.0&amp;#34;&lt;/span> &lt;span class="nv">encoding&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;UTF-8&amp;#34;&lt;/span>?&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;!DOCTYPE plist PUBLIC &lt;span class="s2">&amp;#34;-//Apple//DTD PLIST 1.0//EN&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;http://www.apple.com/DTDs/PropertyList-1.0.dtd&amp;#34;&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;plist &lt;span class="nv">version&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;1.0&amp;#34;&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;dict&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;key&amp;gt;BUID&amp;lt;/key&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;string&amp;gt;XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX&amp;lt;/string&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;/dict&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;/plist&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>é€šè¿‡ WSA æŠ“å– android çš„ https ç½‘ç»œè¯·æ±‚åŒ…</title><link>https://blog.xenori.com/2023/05/capture-android-https-network-packet-with-wsa/</link><pubDate>Mon, 15 May 2023 15:27:10 +0800</pubDate><guid>https://blog.xenori.com/2023/05/capture-android-https-network-packet-with-wsa/</guid><description>&lt;img src="https://blog.xenori.com/2023/05/capture-android-https-network-packet-with-wsa/cover.jpeg" alt="Featured image of post é€šè¿‡ WSA æŠ“å– android çš„ https ç½‘ç»œè¯·æ±‚åŒ…" />&lt;p>android 9 ä»¥ä¸Šç‰ˆæœ¬ï¼Œapp ä¸å†ä¿¡ä»»ç”¨æˆ·å®‰è£…çš„è¯ä¹¦ï¼Œåªèƒ½é€šè¿‡ root æ‰‹æœºæŠŠè¯ä¹¦ç§»åŠ¨åˆ° system åˆ†åŒºæ‰èƒ½å®ç°æŠ“åŒ…ã€‚ä¸€èˆ¬æ—¥å¸¸ä½¿ç”¨æ‰‹æœºä¸ºäº†å®‰å…¨æ˜¯ä¸å¯èƒ½ root çš„ï¼Œè¿™é‡Œé€šè¿‡ Windows çš„ WSA æ¥å®ç°æŠ“åŒ…ã€‚&lt;/p>
&lt;h2 id="å‡†å¤‡ç¯å¢ƒ">å‡†å¤‡ç¯å¢ƒ&lt;/h2>
&lt;ol>
&lt;li>
&lt;p>åˆ° &lt;a class="link" href="https://github.com/MustardChef/WSABuilds/releases" target="_blank" rel="noopener"
>WSABuilds&lt;/a> ä¸‹è½½å®‰è£…å·² root å¸¦ &lt;strong>magisk&lt;/strong> çš„ WSA é•œåƒï¼ˆå‡å¦‚ä¹‹å‰å·²å®‰è£…è¿‡ WSAï¼Œéœ€è¦å…ˆåˆ°ç³»ç»Ÿåº”ç”¨åˆ—è¡¨ä¸­ï¼ŒæŠŠæ—§çš„å¸è½½ï¼‰&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å®‰è£…åï¼Œå¼€å§‹èœå•ä¸­æœç´¢ &lt;code>android&lt;/code>ï¼Œæ‰¾åˆ° WSA è®¾ç½®åº”ç”¨å¹¶æ‰“å¼€ï¼Œé€‰æ‹© &lt;code>å¼€å‘äººå‘˜&lt;/code>ï¼Œå¹¶æ‰“å¼€&lt;code>å¼€å‘äººå‘˜æ¨¡å¼&lt;/code>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://blog.xenori.com/2023/05/capture-android-https-network-packet-with-wsa/1.png"
width="1084"
height="718"
srcset="https://blog.xenori.com/2023/05/capture-android-https-network-packet-with-wsa/1_hub311dd2faff923cd2dc66f0ae9a4776d_92901_480x0_resize_box_3.png 480w, https://blog.xenori.com/2023/05/capture-android-https-network-packet-with-wsa/1_hub311dd2faff923cd2dc66f0ae9a4776d_92901_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="150"
data-flex-basis="362px"
>&lt;/p>
&lt;ol start="3">
&lt;li>
&lt;p>å®‰è£…&lt;a class="link" href="https://www.microsoft.com/store/productId/9P2JFQ43FPPG" target="_blank" rel="noopener"
>APK å®‰è£…ç¨‹åº&lt;/a>ï¼Œå®ç°åŒå‡»å®‰è£… apk å’Œè‡ªåŠ¨å®‰è£… adb å‘½ä»¤å·¥å…·&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å®‰è£…&lt;a class="link" href="ms-windows-store://pdp/?productid=9PPSP2MKVTGT" >WSA å·¥å…·ç®±&lt;/a>ï¼Œç”¨äºä¸Šä¼ æ–‡ä»¶åˆ° WSA&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ä¸‹è½½&lt;a class="link" href="https://github.com/topjohnwu/Magisk/releases" target="_blank" rel="noopener"
>Magisk app&lt;/a>ï¼Œå¹¶å®‰è£…&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h2 id="å®‰è£…-charles-è¯ä¹¦">å®‰è£… charles è¯ä¹¦&lt;/h2>
&lt;ol>
&lt;li>
&lt;p>æ‰“å¼€ &lt;strong>charles&lt;/strong>ï¼Œé€‰æ‹©èœå• &lt;code>Help -&amp;gt; SSL Proxying -&amp;gt; Save Charles Root Certificate&lt;/code>ï¼Œå¹¶é€‰æ‹©æŠŠè¯ä¹¦ä¿å­˜ä¸º &lt;code>.cer&lt;/code> æ ¼å¼&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æ‰“å¼€&lt;strong>WSA å·¥å…·ç®±&lt;/strong>ï¼Œä½¿ç”¨&lt;code>æ–‡ä»¶ä¼ è¾“&lt;/code>åŠŸèƒ½æŠŠåˆšåˆšä¿å­˜çš„è¯ä¹¦ä¸Šä¼ åˆ° wsa çš„&lt;code>Download&lt;/code>ç›®å½•&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ç‚¹å‡»&lt;strong>WSA å·¥å…·ç®±&lt;/strong>é¦–é¡µçš„&lt;code>Androidè®¾ç½®&lt;/code>ï¼Œé€‰æ‹©&lt;code>å®‰å…¨-&amp;gt;æ›´å¤šå®‰å…¨è®¾ç½®-&amp;gt;åŠ å¯†ä¸å‡­æ®-&amp;gt;å®‰è£…è¯ä¹¦&lt;/code>èœå•ï¼Œé€‰æ‹©å¹¶å®‰è£…&lt;code>Download&lt;/code>ç›®å½•çš„&lt;code>charles&lt;/code>è¯ä¹¦&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://blog.xenori.com/2023/05/capture-android-https-network-packet-with-wsa/2.png"
width="1390"
height="864"
srcset="https://blog.xenori.com/2023/05/capture-android-https-network-packet-with-wsa/2_huc11281a385f0323f7fb22346342b05c5_278663_480x0_resize_box_3.png 480w, https://blog.xenori.com/2023/05/capture-android-https-network-packet-with-wsa/2_huc11281a385f0323f7fb22346342b05c5_278663_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="160"
data-flex-basis="386px"
>&lt;/p>
&lt;ol start="4">
&lt;li>è¯ä¹¦å®‰è£…æˆåŠŸåï¼Œæ­£å¸¸åœ¨&lt;code>åŠ å¯†ä¸å‡­æ®-&amp;gt;ä¿¡ä»»çš„å‡­æ®-&amp;gt;ç”¨æˆ·&lt;/code>é¡¹ä¸­èƒ½çœ‹åˆ°å·²å®‰è£…çš„è¯ä¹¦&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://blog.xenori.com/2023/05/capture-android-https-network-packet-with-wsa/3.png"
width="582"
height="688"
srcset="https://blog.xenori.com/2023/05/capture-android-https-network-packet-with-wsa/3_hu6752eb6c708844501a8d4a854f8e7790_62810_480x0_resize_box_3.png 480w, https://blog.xenori.com/2023/05/capture-android-https-network-packet-with-wsa/3_hu6752eb6c708844501a8d4a854f8e7790_62810_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="84"
data-flex-basis="203px"
>&lt;/p>
&lt;h2 id="æŠŠç”¨æˆ·åŒºè¯ä¹¦ç§»åŠ¨åˆ°-system-åˆ†åŒº">æŠŠç”¨æˆ·åŒºè¯ä¹¦ç§»åŠ¨åˆ° system åˆ†åŒº&lt;/h2>
&lt;ol>
&lt;li>ä¸‹è½½ &lt;strong>Magisk&lt;/strong> çš„&lt;a class="link" href="https://github.com/NVISOsecurity/MagiskTrustUserCerts/releases" target="_blank" rel="noopener"
>MagiskTrustUserCerts&lt;/a>æ¨¡å—å‹ç¼©åŒ…ï¼Œå¹¶é€šè¿‡&lt;strong>WSA å·¥å…·ç®±&lt;/strong>ä¸Šä¼ åˆ°&lt;code>Download&lt;/code>ç›®å½•&lt;/li>
&lt;/ol>
&lt;ol start="2">
&lt;li>æ‰“å¼€ &lt;strong>Magisk&lt;/strong> appï¼Œç‚¹å‡»&lt;code>æ¨¡å— -&amp;gt; ä»æœ¬åœ°å®‰è£…&lt;/code>ï¼Œé€‰æ‹©åˆšåˆšä¸Šä¼ çš„&lt;code>Download&lt;/code>ç›®å½•ä¸‹çš„&lt;code>AlwaysTrustUserCerts&lt;/code>å‹ç¼©åŒ…&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://blog.xenori.com/2023/05/capture-android-https-network-packet-with-wsa/4.png"
width="544"
height="718"
srcset="https://blog.xenori.com/2023/05/capture-android-https-network-packet-with-wsa/4_hu62ae5ce2897a65b7a4027a8ee750a16e_45040_480x0_resize_box_3.png 480w, https://blog.xenori.com/2023/05/capture-android-https-network-packet-with-wsa/4_hu62ae5ce2897a65b7a4027a8ee750a16e_45040_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="75"
data-flex-basis="181px"
>&lt;/p>
&lt;ol start="3">
&lt;li>
&lt;p>å®‰è£…æˆåŠŸåï¼Œæ­£å¸¸ä¼šæç¤ºä½ é‡å¯ wsaï¼Œæ²¡çš„è¯ï¼Œåœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œ&lt;code>adb reboot&lt;/code>æ‰‹å·¥é‡å¯ä¸‹&lt;/p>
&lt;/li>
&lt;li>
&lt;p>é‡å¯åæ­£å¸¸èƒ½åœ¨&lt;code>åŠ å¯†ä¸å‡­æ®-&amp;gt;ä¿¡ä»»çš„å‡­æ®-&amp;gt;ç³»ç»Ÿ&lt;/code>ä¸­ï¼Œçœ‹åˆ°&lt;code>charles&lt;/code>è¯ä¹¦&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://blog.xenori.com/2023/05/capture-android-https-network-packet-with-wsa/5.png"
width="544"
height="696"
srcset="https://blog.xenori.com/2023/05/capture-android-https-network-packet-with-wsa/5_hub5c871cd5d01a8af30fa5218ac6cbbd2_106297_480x0_resize_box_3.png 480w, https://blog.xenori.com/2023/05/capture-android-https-network-packet-with-wsa/5_hub5c871cd5d01a8af30fa5218ac6cbbd2_106297_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="78"
data-flex-basis="187px"
>&lt;/p>
&lt;h2 id="é…ç½®ä»£ç†æŠ“åŒ…">é…ç½®ä»£ç†æŠ“åŒ…&lt;/h2>
&lt;ol>
&lt;li>æ‰“å¼€ &lt;strong>charles&lt;/strong>ï¼Œé€‰æ‹©èœå•&lt;code>Proxy -&amp;gt; SSL Proxying Settings...&lt;/code>ï¼Œå‹¾é€‰ &lt;code>Enable SSL Proxying&lt;/code>ï¼Œå¹¶æ·»åŠ æ–°çš„ locationï¼Œ&lt;code>Host&lt;/code>å¡«&lt;code>*&lt;/code>ï¼Œ&lt;code>Port&lt;/code>å¡«&lt;code>443&lt;/code>&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://blog.xenori.com/2023/05/capture-android-https-network-packet-with-wsa/6.png"
width="1620"
height="808"
srcset="https://blog.xenori.com/2023/05/capture-android-https-network-packet-with-wsa/6_hudd5d61aff7f94b1e6ad1eb93fdacf997_349536_480x0_resize_box_3.png 480w, https://blog.xenori.com/2023/05/capture-android-https-network-packet-with-wsa/6_hudd5d61aff7f94b1e6ad1eb93fdacf997_349536_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="200"
data-flex-basis="481px"
>&lt;/p>
&lt;ol start="2">
&lt;li>æ‰“å¼€å‘½ä»¤è¡Œï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤è®¾ç½® WSA ä»£ç†ï¼š&lt;/li>
&lt;/ol>
&lt;pre tabindex="0">&lt;code>adb connect 127.0.0.1:58526
adb shell settings put global http_proxy 192.168.x.x:8888
&lt;/code>&lt;/pre>&lt;p>å…¶ä¸­&lt;code>192.168.x.x&lt;/code>éœ€æ”¹ä¸º&lt;strong>charles&lt;/strong>æ‰€åœ¨çš„ ip åœ°å€&lt;/p>
&lt;ol start="3">
&lt;li>ä¸‹è½½å®‰è£…éœ€è¦æŠ“åŒ…çš„ appï¼Œè®¿é—®å°±èƒ½åœ¨&lt;strong>charles&lt;/strong>çœ‹åˆ° https æµé‡äº†ï¼šï¼‰&lt;/li>
&lt;/ol>
&lt;h2 id="åˆ é™¤ä»£ç†">åˆ é™¤ä»£ç†&lt;/h2>
&lt;p>å»æ‰ä»£ç†éœ€æ‰§è¡Œä¸‹é¢å‘½ä»¤ï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code>adb shell settings delete global http_proxy
adb shell settings delete global global_http_proxy_host
adb shell settings delete global global_http_proxy_port
&lt;/code>&lt;/pre></description></item><item><title>å¦‚ä½•æŠ“å– AppleTV (tvOS) çš„ https ç½‘ç»œè¯·æ±‚åŒ…</title><link>https://blog.xenori.com/2023/05/how-capture-appletv-https-network-packet/</link><pubDate>Sun, 14 May 2023 11:27:10 +0800</pubDate><guid>https://blog.xenori.com/2023/05/how-capture-appletv-https-network-packet/</guid><description>&lt;img src="https://blog.xenori.com/2023/05/how-capture-appletv-https-network-packet/cover.webp" alt="Featured image of post å¦‚ä½•æŠ“å– AppleTV (tvOS) çš„ https ç½‘ç»œè¯·æ±‚åŒ…" />&lt;p>AppleTV æ— æ³•ç›´æ¥å®‰è£…è¯ä¹¦å’Œä¿®æ”¹ä»£ç†ï¼Œéœ€è¦å€ŸåŠ©æ·»åŠ è‡ªå®šä¹‰æè¿°æ–‡ä»¶çš„æ–¹å¼æ¥å®ç°ï¼Œæ‰èƒ½å¯¹ app è¿›è¡ŒæŠ“åŒ…ã€‚&lt;/p>
&lt;h2 id="å‡†å¤‡ç¯å¢ƒ">å‡†å¤‡ç¯å¢ƒ&lt;/h2>
&lt;ol>
&lt;li>
&lt;p>å®‰è£… &lt;a class="link" href="https://apps.apple.com/us/app/apple-configurator/id1037126344?mt=12" target="_blank" rel="noopener"
>Apple Configurator&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å®‰è£… charles&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ä¿è¯ Mac å’Œ AppleTV è¿æ¥åŒä¸€å±€åŸŸç½‘&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h2 id="charles-é…ç½®æŠ“åŒ…-https-æµé‡">charles é…ç½®æŠ“åŒ… https æµé‡&lt;/h2>
&lt;ol>
&lt;li>æ‰“å¼€ &lt;strong>charles&lt;/strong>ï¼Œé€‰æ‹©èœå•&lt;code>Proxy -&amp;gt; SSL Proxying Settings...&lt;/code>ï¼Œå‹¾é€‰ &lt;code>Enable SSL Proxying&lt;/code>ï¼Œå¹¶æ·»åŠ æ–°çš„ locationï¼Œ&lt;code>Host&lt;/code>å¡«&lt;code>*&lt;/code>ï¼Œ&lt;code>Port&lt;/code>å¡«&lt;code>443&lt;/code>&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://blog.xenori.com/2023/05/how-capture-appletv-https-network-packet/ssl_proxy.png"
width="1408"
height="1176"
srcset="https://blog.xenori.com/2023/05/how-capture-appletv-https-network-packet/ssl_proxy_hu9385ff29d123eaef73d64fd1ef688db4_954487_480x0_resize_box_3.png 480w, https://blog.xenori.com/2023/05/how-capture-appletv-https-network-packet/ssl_proxy_hu9385ff29d123eaef73d64fd1ef688db4_954487_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="ssl_proxy"
class="gallery-image"
data-flex-grow="119"
data-flex-basis="287px"
>&lt;/p>
&lt;blockquote>
&lt;p>å»ºè®®æŠŠ&lt;code>Proxy&lt;/code>èœå•ä¸­çš„&lt;code>macOS Proxy&lt;/code>å»æ‰å‹¾é€‰ï¼Œé¿å… Mac çš„æµé‡å’Œ AppleTV çš„æµé‡æ··åœ¨ä¸€èµ·&lt;/p>
&lt;/blockquote>
&lt;h2 id="åˆ›å»ºä»£ç†æè¿°æ–‡ä»¶">åˆ›å»ºä»£ç†æè¿°æ–‡ä»¶&lt;/h2>
&lt;ol>
&lt;li>æ‰“å¼€ &lt;strong>charles&lt;/strong>ï¼Œé€‰æ‹©èœå• &lt;code>Help -&amp;gt; SSL Proxying -&amp;gt; Save Charles Root Certificate&lt;/code>ï¼Œå¹¶é€‰æ‹©æŠŠè¯ä¹¦ä¿å­˜ä¸º &lt;code>.cer&lt;/code> æ ¼å¼&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://blog.xenori.com/2023/05/how-capture-appletv-https-network-packet/1.png"
width="1620"
height="808"
srcset="https://blog.xenori.com/2023/05/how-capture-appletv-https-network-packet/1_hudd5d61aff7f94b1e6ad1eb93fdacf997_349536_480x0_resize_box_3.png 480w, https://blog.xenori.com/2023/05/how-capture-appletv-https-network-packet/1_hudd5d61aff7f94b1e6ad1eb93fdacf997_349536_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="200"
data-flex-basis="481px"
>&lt;/p>
&lt;ol start="2">
&lt;li>
&lt;p>æ‰“å¼€ &lt;strong>Apple configurator&lt;/strong>ï¼Œé€‰æ‹©èœå• &lt;code>æ–‡ä»¶ -&amp;gt; æ–°å»ºæè¿°æ–‡ä»¶&lt;/code>&lt;/p>
&lt;p>ç‚¹å‡»&lt;code>é€šç”¨&lt;/code>ï¼Œåœ¨&lt;code>åç§°&lt;/code>ä¸­å¡«ä¸€ä¸ªæ˜“äºè¯†åˆ«çš„åç§°ï¼Œå¦‚&lt;code>charles proxy&lt;/code>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://blog.xenori.com/2023/05/how-capture-appletv-https-network-packet/2.png"
width="1832"
height="1220"
srcset="https://blog.xenori.com/2023/05/how-capture-appletv-https-network-packet/2_hu42109b38b626d0cede6f1f90334f83b5_1241515_480x0_resize_box_3.png 480w, https://blog.xenori.com/2023/05/how-capture-appletv-https-network-packet/2_hu42109b38b626d0cede6f1f90334f83b5_1241515_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="150"
data-flex-basis="360px"
>&lt;/p>
&lt;p>ç‚¹å‡»&lt;code>è¯ä¹¦&lt;/code>ï¼Œå¹¶æŠŠåˆšåˆšä¿å­˜çš„ charles root è¯ä¹¦ä¸Šä¼ ä¸Šå»&lt;/p>
&lt;p>&lt;img src="https://blog.xenori.com/2023/05/how-capture-appletv-https-network-packet/3.png"
width="1832"
height="1220"
srcset="https://blog.xenori.com/2023/05/how-capture-appletv-https-network-packet/3_hu42109b38b626d0cede6f1f90334f83b5_1206667_480x0_resize_box_3.png 480w, https://blog.xenori.com/2023/05/how-capture-appletv-https-network-packet/3_hu42109b38b626d0cede6f1f90334f83b5_1206667_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="150"
data-flex-basis="360px"
>&lt;/p>
&lt;p>ç‚¹å‡»&lt;code>Wi-Fi&lt;/code>ï¼Œå¡«ä¸Š AppleTV è¿æ¥çš„ wifi ä¿¡æ¯å’Œ charles ä»£ç†ä¿¡æ¯&lt;/p>
&lt;p>&lt;img src="https://blog.xenori.com/2023/05/how-capture-appletv-https-network-packet/4.png"
width="1832"
height="1670"
srcset="https://blog.xenori.com/2023/05/how-capture-appletv-https-network-packet/4_hue2f3b8746f0cc5ecc63a05b2db26589a_1581556_480x0_resize_box_3.png 480w, https://blog.xenori.com/2023/05/how-capture-appletv-https-network-packet/4_hue2f3b8746f0cc5ecc63a05b2db26589a_1581556_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="109"
data-flex-basis="263px"
>&lt;/p>
&lt;p>æœ€åä½¿ç”¨å¿«æ·é”® &lt;code>cmd+s&lt;/code> ä¿å­˜æè¿°æ–‡ä»¶åˆ°æœ¬åœ°æˆ– iCloud ä¸­ï¼Œæ¨èä¿å­˜åˆ° iCloud&lt;/p>
&lt;h2 id="åœ¨-appletv-ä¸­æ·»åŠ æè¿°æ–‡ä»¶">åœ¨ AppleTV ä¸­æ·»åŠ æè¿°æ–‡ä»¶&lt;/h2>
&lt;ol>
&lt;li>ç‚¹å‡» &lt;strong>Apple configurator&lt;/strong> ä¸»èœå•ï¼Œé€‰æ‹©&lt;code>é…å¯¹è®¾å¤‡&lt;/code>ï¼ŒæŠŠ &lt;code>AppleTV&lt;/code> é…ç½®å¹¶è¿æ¥ä¸Š&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://blog.xenori.com/2023/05/how-capture-appletv-https-network-packet/5.png"
width="552"
height="640"
srcset="https://blog.xenori.com/2023/05/how-capture-appletv-https-network-packet/5_hu83a8338785ad8bbb0a93cad6a53b3d51_139507_480x0_resize_box_3.png 480w, https://blog.xenori.com/2023/05/how-capture-appletv-https-network-packet/5_hu83a8338785ad8bbb0a93cad6a53b3d51_139507_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="86"
data-flex-basis="207px"
>&lt;img src="https://blog.xenori.com/2023/05/how-capture-appletv-https-network-packet/6.png"
width="1160"
height="728"
srcset="https://blog.xenori.com/2023/05/how-capture-appletv-https-network-packet/6_huebb36bc3bfe44e4cb28ade3e23c31819_649582_480x0_resize_box_3.png 480w, https://blog.xenori.com/2023/05/how-capture-appletv-https-network-packet/6_huebb36bc3bfe44e4cb28ade3e23c31819_649582_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="159"
data-flex-basis="382px"
>&lt;/p>
&lt;ol start="2">
&lt;li>è¿æ¥ä¸Šåï¼Œ&lt;strong>Apple configurator&lt;/strong> ä¸»ç•Œé¢ç­‰ä¸€ä¼šä¼šæ˜¾ç¤º AppleTVï¼Œå³é”®é€‰æ‹© &lt;code>æ·»åŠ  -&amp;gt; æè¿°æ–‡ä»¶&lt;/code>ï¼Œé€‰æ‹©åˆšåˆšä¿å­˜çš„æè¿°æ–‡ä»¶&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://blog.xenori.com/2023/05/how-capture-appletv-https-network-packet/7.png"
width="1972"
height="1218"
srcset="https://blog.xenori.com/2023/05/how-capture-appletv-https-network-packet/7_hu347e9fcf991c51822b535619a81cf78b_517017_480x0_resize_box_3.png 480w, https://blog.xenori.com/2023/05/how-capture-appletv-https-network-packet/7_hu347e9fcf991c51822b535619a81cf78b_517017_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="161"
data-flex-basis="388px"
>&lt;/p>
&lt;ol start="3">
&lt;li>ç­‰ä¸€ä¼š AppleTV ä¼šæç¤ºå®‰è£…æè¿°æ–‡ä»¶ï¼Œä¸€è·¯é€‰æ‹©å®‰è£…å°±å¯ä»¥&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://blog.xenori.com/2023/05/how-capture-appletv-https-network-packet/tv1.png"
width="1244"
height="702"
srcset="https://blog.xenori.com/2023/05/how-capture-appletv-https-network-packet/tv1_hu9e7601cd7d518e2459b2e26fc21fb9bf_123632_480x0_resize_box_3.png 480w, https://blog.xenori.com/2023/05/how-capture-appletv-https-network-packet/tv1_hu9e7601cd7d518e2459b2e26fc21fb9bf_123632_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="177"
data-flex-basis="425px"
>&lt;/p>
&lt;ol start="4">
&lt;li>å®‰è£…å®Œæˆåï¼Œä¼šæ˜¾ç¤ºåˆšåˆšå®‰è£…çš„æè¿°æ–‡ä»¶&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://blog.xenori.com/2023/05/how-capture-appletv-https-network-packet/tv2.png"
width="1244"
height="702"
srcset="https://blog.xenori.com/2023/05/how-capture-appletv-https-network-packet/tv2_hua1f44c6a77eb76decf16669d3280ca88_100363_480x0_resize_box_3.png 480w, https://blog.xenori.com/2023/05/how-capture-appletv-https-network-packet/tv2_hua1f44c6a77eb76decf16669d3280ca88_100363_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="177"
data-flex-basis="425px"
>&lt;/p>
&lt;ol start="5">
&lt;li>è¿›å…¥ AppleTV è®¾ç½®ï¼Œé€‰æ‹©&lt;code>é€šç”¨ -&amp;gt; å…³äº -&amp;gt; è¯ä¹¦ä¿¡ä»»è®¾ç½®&lt;/code>ï¼ŒæŠŠ&lt;code>charles&lt;/code>è¯ä¹¦è®¾ç½®ä¸ºä¿¡ä»»ï¼ˆå‡å¦‚&lt;code>å…³äº&lt;/code>ä¸­æ²¡å‡ºç°&lt;code>è¯ä¹¦ä¿¡ä»»è®¾ç½®&lt;/code>ï¼Œè¯æ˜æè¿°æ–‡ä»¶é…ç½®æœ‰è¯¯ï¼Œå¯¼è‡´æè¿°æ–‡ä»¶æ²¡æ·»åŠ æˆåŠŸï¼‰&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://blog.xenori.com/2023/05/how-capture-appletv-https-network-packet/tv3.png"
width="1244"
height="702"
srcset="https://blog.xenori.com/2023/05/how-capture-appletv-https-network-packet/tv3_hu1cb442105a5193c5aa586fa8d8025ec3_158194_480x0_resize_box_3.png 480w, https://blog.xenori.com/2023/05/how-capture-appletv-https-network-packet/tv3_hu1cb442105a5193c5aa586fa8d8025ec3_158194_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="177"
data-flex-basis="425px"
>&lt;/p>
&lt;ol start="6">
&lt;li>AppleTV é€‰æ‹©&lt;code>ç³»ç»Ÿ -&amp;gt; é‡æ–°å¯åŠ¨&lt;/code>ï¼Œé‡å¯å AppleTV ä¼šæ”¹ä¸ºä½¿ç”¨æè¿°æ–‡ä»¶ä¸­é…ç½®çš„ä»£ç† wifi è¿æ¥&lt;/li>
&lt;/ol>
&lt;div class="notices warning" >&lt;blockquote>&lt;p>ä½¿ç”¨å®Œåå¯ä»¥åˆ°èœå•&lt;code>é€šç”¨ -&amp;gt; æè¿°æ–‡ä»¶&lt;/code>ä¸­åˆ é™¤æ·»åŠ çš„è‡ªå®šä¹‰æè¿°æ–‡ä»¶ï¼Œåˆ é™¤åè¿æ¥çš„ wifi ä¼šä¸¢å¤±æ–­ç½‘ï¼Œéœ€è¦è‡ªå·²å†æ¬¡æ‰‹å·¥è¿æ¥&lt;/p>
&lt;/blockquote>&lt;/div>
&lt;h2 id="charles-æŸ¥çœ‹-https-æµé‡">charles æŸ¥çœ‹ https æµé‡&lt;/h2>
&lt;p>ç­‰ AppleTV é‡å¯å®Œæˆï¼Œæ‰“å¼€æƒ³è¦æŠ“åŒ…çš„ appï¼Œåœ¨ charles å°±èƒ½çœ‹åˆ° app çš„ https è¯·æ±‚äº†&lt;/p>
&lt;h2 id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™&lt;/h2>
&lt;ul>
&lt;li>&lt;a class="link" href="https://github.com/DualSubs/DualSubs/wiki/%E5%9C%A8Apple-TV-%28tvOS%29-%E4%B8%8A%E6%B7%BB%E5%8A%A0%E6%8F%8F%E8%BF%B0%E6%96%87%E4%BB%B6%E6%88%96MitM%E8%AF%81%E4%B9%A6" target="_blank" rel="noopener"
>åœ¨Apple TV (tvOS) ä¸Šæ·»åŠ æè¿°æ–‡ä»¶æˆ–MitMè¯ä¹¦&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>2022å¹´åº¦æ€»ç»“</title><link>https://blog.xenori.com/2023/01/the-summary-of-2022/</link><pubDate>Tue, 24 Jan 2023 11:10:08 +0800</pubDate><guid>https://blog.xenori.com/2023/01/the-summary-of-2022/</guid><description>&lt;img src="https://blog.xenori.com/2023/01/the-summary-of-2022/cover.jpg" alt="Featured image of post 2022å¹´åº¦æ€»ç»“" />&lt;hugo-encrypt>
&lt;div class="hugo-encrypt-encryption-notice">
&lt;p class="hugo-encryptor-tips">æ–‡ç« çš„éƒ¨åˆ†å†…å®¹è¢«å¯†ç ä¿æŠ¤ï¼š&lt;/p>
&lt;noscript>&lt;span id="hugo-encrypt-enable-js">Javascript needs to be enabled to decrypt content&lt;/span>&lt;/noscript>
&lt;div class='hugo-encrypt-form'>
&lt;input
class="hugo-encrypt-input"
id="hugo-encrypt-password"
placeholder='è¯·è¾“å…¥å¯†ç '
/>
&lt;input
class="hugo-encrypt-button"
type="button"
value='ç‚¹å‡»éªŒè¯'
id="button" onclick="hugoDecrypt(document.getElementById('hugo-encrypt-password').value,'input')"
/>
&lt;span class="hugo-encrypt-input-response">&lt;/span>
&lt;/div>
&lt;/div>
&lt;cipher-text data-password='xenori@#$123' style="display:none;">
&lt;p>2022å¯¹å¾ˆå¤šäººæ¥è¯´éƒ½æ˜¯è‰°éš¾çš„ä¸€å¹´ï¼Œå„åœ°ç–«æƒ…é¢‘å‘ï¼Œå°æ§å±‚å±‚åŠ ç ï¼Œå„ç§ä»¤äººæ°”æ„¤çš„äº‹ä»¶ä¸æ–­å‘ç”Ÿã€‚è‡ªä¸Šæµ·3æœˆå°åŸç–«æƒ…åï¼Œå¹¿å·ä¹Ÿæ…¢æ…¢è¿›å…¥éœ€è¦48å°æ—¶æ ¸é…¸é˜´æ€§è¯æ˜çš„ç”Ÿæ´»ã€‚ä»Šå¹´å› ä¸ºç–«æƒ…å…³ç³»ï¼Œå›¾ä¹¦é¦†å¾ˆå°‘å»äº†ï¼Œå‡ºé—¨æ¬¡æ•°ä¹Ÿå¾ˆå°‘ï¼ŒåŸºæœ¬éƒ½æ˜¯åœ¨å®¶é‡ŒætvOSå¼€å‘å’Œnasã€‚&lt;/p>
&lt;p>ä»Šå¹´å¼€å‘çš„ä¸‰ä¸ªtvOSåº”ç”¨åŸºæœ¬æˆå‹ï¼Œè¿˜åœ¨è€ƒè™‘æ˜¯å¦å‘è‹¹æœäº¤ä¿æŠ¤è´¹ä¸Šæ¶App Storeæˆ–å¼€æºã€‚ã€‚ã€‚å¯¹è¿™ä¸‰ä¸ªappæˆ‘æ˜¯åŸºæœ¬æ»¡æ„çš„ï¼Œè™½ç„¶è¿˜è¾¾ä¸åˆ°äº§å“çš„ç¨‹åº¦ã€‚&lt;/p>
&lt;p>ä»Šå¹´è¿˜æ˜¯æ‹–å»¶ç—‡ä¸¥é‡ï¼Œæ²¡æœ‰æ‰¾å·¥ä½œï¼Œç®€å†è¿˜æ²¡æŠ•å‡ºä¸€ä»½ã€‚ã€‚ã€‚è¿˜æ˜¯æƒ³2023å¹´æ‰¾åˆ°ä¸€ä»½æ­£å¼å·¥ä½œï¼Œå¹¶æŠŠåšappç­‰åšå‰¯ä¸šï¼Œç°åœ¨å¹´é¾„å¤ªå¤§äº†ï¼Œç»§ç»­æ‰“å·¥çš„æœºä¼šåŸºæœ¬æ²¡äº†ï¼Œè¿˜æ˜¯è¦é è‡ªå·±ã€‚&lt;/p>
&lt;/cipher-text>
&lt;style type="text/css">div#hugo-encrypt-sha1sum {display: none;}&lt;/style>
&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/core.js">&lt;/script>
&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/sha1.js">&lt;/script>
&lt;script>
const storageKey = location.pathname + "password";
const userStorage = localStorage ;
function str2buf(str) {
return new TextEncoder("utf-8").encode(str);
}
function buf2str(buffer) {
return new TextDecoder("utf-8").decode(buffer);
}
function hex2buf(hexStr) {
return new Uint8Array(hexStr.match(/.{2}/g).map(h => parseInt(h, 16)));
}
function deriveKey(passphrase, salt) {
salt = salt || crypto.getRandomValues(new Uint8Array(8));
return crypto.subtle
.importKey("raw", str2buf(passphrase), "PBKDF2", false, ["deriveKey"])
.then(key =>
crypto.subtle.deriveKey(
{ name: "PBKDF2", salt, iterations: 1000, hash: "SHA-256" },
key,
{ name: "AES-GCM", length: 256 },
false,
["encrypt", "decrypt"],
),
)
.then(key => [key, salt]);
}
function decrypt(passphrase, saltIvCipherHex) {
const [salt, iv, data] = saltIvCipherHex.split("-").map(hex2buf);
return deriveKey(passphrase, salt)
.then(([key]) => crypto.subtle.decrypt({ name: "AES-GCM", iv }, key, data))
.then(v => buf2str(new Uint8Array(v)));
}
function removeNotice() {
var notices = document.getElementsByClassName("hugo-encrypt-encryption-notice");
for (let i = 0; i &lt; notices.length; i++) {
notices[i].remove();
}
}
const hugoDecrypt = function(password, type) {
for (const cipher of ciphers) {
decrypt(password, cipher.innerText).then(function(decrypted_text) {
let hash = CryptoJS.SHA1(decrypted_text.replace(/\r?\n?[^\r\n]*$/, ""));
let sha1_sum = CryptoJS.enc.Hex.stringify(hash);
if ( decrypted_text.includes(sha1_sum) ) {
removeNotice();
decrypted_text = decrypted_text.replace(/&lt;div.*?hugo-encrypt-sha1sum.*?>.*?&lt;\/div>/ig, '');
cipher.parentNode.outerHTML = decrypted_text;
userStorage.setItem(storageKey, password);
console.log("Decryption successful. Storing password in Storage.");
}
}).catch(function(error) {
if (type === "input") {
cipher.parentNode.querySelector('.hugo-encrypt-input-response').innerHTML = "å¯†ç é”™è¯¯";
console.log('å¯†ç é”™è¯¯', error);
} else if (type === "storage") {
userStorage.removeItem(location.pathname + "password");
console.log("Password changed. Clearing userStorage.", error);
}
});
}
};
&lt;/script>
&lt;script>
window.onload = () => {
ciphers = Array.from(document.querySelectorAll("cipher-text"));
if (userStorage.getItem(storageKey)) {
console.log("Found storageKey in userStorage. Attemtping decryption");
hugoDecrypt(userStorage.getItem(storageKey), "storage");
}
};
&lt;/script>
&lt;/hugo-encrypt>
&lt;p>2022å¹´å¹´åº¦é€‰æ‹©å¦‚ä¸‹ï¼š&lt;/p>
&lt;h2 id="å¹´åº¦æ¸¸æˆ">å¹´åº¦æ¸¸æˆï¼š&lt;/h2>
&lt;ul>
&lt;li>è‰¾å°”ç™»æ³•ç¯&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>å¾ˆä¹…æ²¡è¿™ä¹ˆæŠ•å…¥ç©ä¸€æ¬¾æ¸¸æˆäº†ï¼Œä¸Šæ¬¡è¿˜æ˜¯è’é‡ä¹‹æ¯ï¼Œ200+å°æ—¶ï¼Œä¸ºäº†ç»“å±€é€šäº†3éï¼Œç²¾ç¾çš„ç”»é¢æ°›å›´ï¼Œå¹¿é˜”é«˜è‡ªç”±åº¦çš„åœ°å›¾ï¼Œæœ‰æ—¶é—´çš„éƒ½æ¨èç©ä¸€ä¸‹&lt;/p>
&lt;/blockquote>
&lt;h2 id="å¹´åº¦åŠ¨ç”»">å¹´åº¦åŠ¨ç”»ï¼š&lt;/h2>
&lt;ul>
&lt;li>&lt;a class="link" href="https://movie.douban.com/subject/35118256/" target="_blank" rel="noopener"
>èµ›åšæœ‹å…‹ï¼šè¾¹ç¼˜è¡Œè€…&lt;/a>&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>é åŠ¨ç”»æŠŠæ¸¸æˆçš„äººæ°”å†æ¬¡æ‹‰èµ·ï¼Œå‰æœŸluciå¤ªç¾äº†ğŸ˜˜&lt;/p>
&lt;/blockquote>
&lt;h2 id="å¹´åº¦éŸ³ä¹">å¹´åº¦éŸ³ä¹ï¼š&lt;/h2>
&lt;ul>
&lt;li>&lt;a class="link" href="https://music.163.com/song?id=1990743306&amp;amp;userid=1850664" target="_blank" rel="noopener"
>I Really Want to Stay At Your House&lt;/a>&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>æ¸¸æˆã€Šèµ›åšæœ‹å…‹2077ã€‹ä¸­çš„ä¸€é¦–å¼€è½¦ç”µå°æ­Œæ›²ï¼Œä¹‹å‰ç©äº†å‡ ç™¾å°æ—¶éƒ½æ²¡å¬åˆ°è¿‡ï¼Œé ã€Šèµ›åšæœ‹å…‹ï¼šè¾¹ç¼˜è¡Œè€…ã€‹é‡æ–°å¸¦ç«äº†ï¼Œé€‚åˆé…åˆåŠ¨ç”»å‰§æƒ…ç”»é¢ä¸€èµ·å¬&lt;/p>
&lt;/blockquote>
&lt;h2 id="å¹´åº¦ç”µå½±ç”µè§†å‰§">å¹´åº¦ç”µå½±ï¼ˆç”µè§†å‰§ï¼‰ï¼š&lt;/h2>
&lt;ul>
&lt;li>éšå…¥å°˜çƒŸ&lt;/li>
&lt;li>å¼€ç«¯ (ç”µè§†å‰§)&lt;/li>
&lt;/ul>
&lt;h2 id="å¹´åº¦å›¾ä¹¦">å¹´åº¦å›¾ä¹¦ï¼š&lt;/h2>
&lt;p>æ— &lt;/p>
&lt;h2 id="å¹´åº¦app">å¹´åº¦APPï¼š&lt;/h2>
&lt;p>æ— &lt;/p>
&lt;h2 id="å¹´åº¦æ•°ç ">å¹´åº¦æ•°ç ï¼š&lt;/h2>
&lt;ul>
&lt;li>Ulanziåƒç´ æ¡Œé¢æ—¶é’Ÿ&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>ä¸€ç›´æƒ³æ‰¾ä¸€ä¸ªä»¿lametricçš„åƒç´ æ—¶é’Ÿï¼Œè¿™æ¬¾åŸºæœ¬èƒ½æ»¡è¶³éœ€æ±‚ï¼Œè¿˜èƒ½è‡ªå·±å¼€å‘æ’ä»¶ï¼Œç°åœ¨ä¸»è¦ç”¨æ¥æ˜¾ç¤ºæ—¶é—´å’Œgithub staræ•°ã€‚&lt;/p>
&lt;/blockquote></description></item><item><title>å¸¸ç”¨ffmpegå‘½ä»¤</title><link>https://blog.xenori.com/2022/12/ffmpeg-commands/</link><pubDate>Sat, 10 Dec 2022 11:27:10 +0800</pubDate><guid>https://blog.xenori.com/2022/12/ffmpeg-commands/</guid><description>&lt;img src="https://blog.xenori.com/2022/12/ffmpeg-commands/cover.png" alt="Featured image of post å¸¸ç”¨ffmpegå‘½ä»¤" />&lt;h2 id="1-åˆ‡å‰²mkvå¹¶ä¿ç•™å­—å¹•">1. åˆ‡å‰²mkvå¹¶ä¿ç•™å­—å¹•&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># æˆªå–ä»30så¼€å§‹çš„30sè§†é¢‘&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ffmpeg -ss 00:00:00 -t 00:00:30 -i input.mkv -c:v copy -c:a copy -c:s copy -map &lt;span class="m">0&lt;/span> output.mkv
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>jellyfinä½¿ç”¨æŒ‡å—</title><link>https://blog.xenori.com/2022/09/jellyfin-practice/</link><pubDate>Tue, 27 Sep 2022 11:58:08 +0800</pubDate><guid>https://blog.xenori.com/2022/09/jellyfin-practice/</guid><description>&lt;img src="https://blog.xenori.com/2022/09/jellyfin-practice/cover.png" alt="Featured image of post jellyfinä½¿ç”¨æŒ‡å—" />&lt;h2 id="åª’ä½“æ–‡ä»¶å‘½åè§„èŒƒ">åª’ä½“æ–‡ä»¶å‘½åè§„èŒƒ&lt;/h2>
&lt;h3 id="ç”µå½±">ç”µå½±&lt;/h3>
&lt;p>å‚è€ƒï¼šhttps://jellyfin.org/docs/general/server/media/movies/&lt;/p>
&lt;pre tabindex="0">&lt;code>Movies
â”œâ”€â”€ Best_Movie_Ever (2019)
â”‚ â”œâ”€â”€ Best_Movie_Ever (2019) - 1080P.mp4
â”‚ â”œâ”€â”€ Best_Movie_Ever (2019) - 720P.mp4
â”‚ â””â”€â”€ Best_Movie_Ever (2019) - Directors Cut.mp4
â””â”€â”€ Movie (2021) [imdbid-tt12801262]
â”œâ”€â”€ Movie (2021) [imdbid-tt12801262] - 2160p.mp4
â”œâ”€â”€ Movie (2021) [imdbid-tt12801262] - 1080p.mp4
â””â”€â”€ Movie (2021) [imdbid-tt12801262] - Directors Cut.mp4
&lt;/code>&lt;/pre>&lt;h3 id="ç”µè§†å‰§">ç”µè§†å‰§&lt;/h3>
&lt;p>å‚è€ƒï¼šhttps://jellyfin.org/docs/general/server/media/shows&lt;/p>
&lt;pre tabindex="0">&lt;code>Shows
â””â”€â”€ Series Name (2010)
â”œâ”€â”€ Season 01
â”‚ â”œâ”€â”€ Series Name S01E01.mkv
â”‚ â”œâ”€â”€ Series Name S01E02.mkv
â”‚ â”œâ”€â”€ featurettes
â”‚ â”‚ â””â”€â”€ Some Featurette.mkv
â”‚ â””â”€â”€ interviews
â”‚ â””â”€â”€ Interview with the Director.mp4
â”œâ”€â”€ Season 02
â”‚ â”œâ”€â”€ Series Name S02E01.mkv
â”‚ â”œâ”€â”€ Series Name S02E02.mkv
â”‚ â””â”€â”€ behind the scenes
â”‚ â””â”€â”€ Behind the Scenes.mp4
â””â”€â”€ extras
â””â”€â”€ Fantastic Extra.mkv
&lt;/code>&lt;/pre>&lt;h2 id="è§£å†³æˆ‘çš„åª’ä½“å°é¢å›¾ä¸­æ–‡å˜æ–¹å—">è§£å†³æˆ‘çš„åª’ä½“å°é¢å›¾ä¸­æ–‡å˜æ–¹å—&lt;/h2>
&lt;p>å…ˆè¿›å…¥docker shellï¼Œå®‰è£…ä¸­æ–‡æ”¯æŒå­—ä½“&lt;/p>
&lt;pre tabindex="0">&lt;code>apt update
apt install fonts-noto-cjk
&lt;/code>&lt;/pre>&lt;p>å®‰è£…åå…ˆåˆ é™¤æ—§çš„å°é¢å›¾ï¼Œç„¶åé€‰æ‹©å³ä¸‹è§’èœå•çš„&lt;strong>åˆ·æ–°å…ƒæ•°æ®&lt;/strong>ï¼Œè¿™æ ·ä¼šå†æ¬¡ç”Ÿæˆæ–°çš„å°é¢ã€‚&lt;/p>
&lt;h2 id="è§£å†³å…ƒæ•°æ®æ²¡è‡ªåŠ¨è·å–">è§£å†³å…ƒæ•°æ®æ²¡è‡ªåŠ¨è·å–&lt;/h2>
&lt;p>å‡å¦‚nasçš„å½±ç‰‡å¾ˆå¤šï¼Œinotifyçš„ç›‘æ§æ–‡ä»¶æ•°ä¼šåˆ°è¾¾ä¸Šé™ï¼Œå°±ä¼šå‡ºç°è¿™æƒ…å†µã€‚å¯ä»¥åœ¨dockerçš„hostç«¯ï¼Œæ‰§è¡Œå‘½ä»¤å¢å¤§ç›‘æ§æ–‡ä»¶æ•°ï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code>sysctl -w fs.inotify.max_user_watches=1048576
&lt;/code>&lt;/pre>&lt;p>ç„¶åé‡å¯ä¸‹jellyfinå°±å¯ä»¥äº†&lt;/p>
&lt;h2 id="æœ€æ–°æ·»åŠ çš„å‰§é›†ä¸åœ¨é¦–é¡µæ˜¾ç¤º">æœ€æ–°æ·»åŠ çš„å‰§é›†ä¸åœ¨é¦–é¡µæ˜¾ç¤º&lt;/h2>
&lt;p>é»˜è®¤æ˜¯æŒ‰è§†é¢‘æ–‡ä»¶åˆ›å»ºæ—¶é—´æ’åºçš„ï¼Œå‡å¦‚è§†é¢‘æ–‡ä»¶åˆ›å»ºæ—¥æœŸå¤ªæ—§å°±ä¼šè¿™æ ·ï¼Œå¯åˆ°æ§åˆ¶å°&lt;code>åª’ä½“åº“ -&amp;gt; æ˜¾ç¤º&lt;/code>ä¸­ï¼ŒæŠŠé€‰é¡¹&lt;code>æ–°å†…å®¹åŠ å…¥çš„æ—¥æœŸ&lt;/code>æ”¹ä¸ºä½¿ç”¨æ‰«ææ—¥æœŸ&lt;/p>
&lt;h2 id="é¦–é¡µæœ€æ–°çš„ç”µè§†å‰§æ åªæ˜¾ç¤ºå‡ ä¸ª">é¦–é¡µæœ€æ–°çš„ç”µè§†å‰§æ åªæ˜¾ç¤ºå‡ ä¸ª&lt;/h2>
&lt;p>è¿™æ˜¯jellyfinæŸ¥æ‰¾æœ€æ–°ç”µè§†å‰§æ˜¯å±…äºæœ€æ–°å‰§é›†æ¥æŸ¥è¯¢å¯¼è‡´çš„ï¼Œé»˜è®¤åªæŸ¥æ‰¾å‰80ä¸ªå‰§é›†ï¼Œå‡å¦‚æœ€è¿‘æ·»åŠ çš„ç”µè§†å‰§çš„å‰§é›†æ•°æ¯”è¾ƒå¤šï¼Œå°±ä¼šæŒ¤æ‰å…¶ä»–ç”µè§†å‰§å¯¼è‡´æ²¡æ³•åœ¨é¦–é¡µæ˜¾ç¤ºã€‚åªèƒ½ç­‰jellyfinä¿®æ”¹æŸ¥è¯¢æœºåˆ¶ä¿®å¤ã€‚&lt;a class="link" href="https://github.com/jellyfin/jellyfin/issues/1880" target="_blank" rel="noopener"
>issue#1880&lt;/a>&lt;/p>
&lt;h2 id="åŒ¹é…çš„å…ƒæ•°æ®ä¸æ­£ç¡®æ€è§£å†³">åŒ¹é…çš„å…ƒæ•°æ®ä¸æ­£ç¡®æ€è§£å†³ï¼Ÿ&lt;/h2>
&lt;p>å¯ä»¥ä½¿ç”¨å³ä¸Šè§’çš„&lt;code>è¯†åˆ«&lt;/code>åŠŸèƒ½é‡æ–°åŒ¹é…ï¼Œå‡å¦‚é‡æ–°åŒ¹é…ä¹Ÿä¸æ­£ç¡®ï¼Œå¯ä»¥æ‰‹å·¥ä¿®æ”¹å…ƒæ•°æ®ï¼Œå¦‚é›†å·ç­‰ï¼Œå†ä½¿ç”¨&lt;code>åˆ·æ–°å…ƒæ•°æ® -&amp;gt; æœç´¢ç¼ºå°‘çš„å…ƒæ•°æ®&lt;/code>åŒ¹é…ç¼ºå°‘çš„å…ƒæ•°æ®ã€‚&lt;/p></description></item><item><title>wiresharkå¸¸ç”¨æŠ“åŒ…åˆ†æå‘½ä»¤</title><link>https://blog.xenori.com/2022/08/wireshark-commands/</link><pubDate>Wed, 10 Aug 2022 11:58:08 +0800</pubDate><guid>https://blog.xenori.com/2022/08/wireshark-commands/</guid><description>&lt;img src="https://blog.xenori.com/2022/08/wireshark-commands/cover.png" alt="Featured image of post wiresharkå¸¸ç”¨æŠ“åŒ…åˆ†æå‘½ä»¤" />&lt;h2 id="æœåŠ¡å™¨æŠ“åŒ…">æœåŠ¡å™¨æŠ“åŒ…&lt;/h2>
&lt;h3 id="macç¤ºä¾‹">Macç¤ºä¾‹&lt;/h3>
&lt;p>&lt;code>192.168.1.1&lt;/code>æ˜¯æœåŠ¡å™¨ipï¼Œ&lt;code>192.168.2.1&lt;/code>æ˜¯Mac ipï¼Œæœ¬å‘½ä»¤åœ¨Macç»ˆç«¯æ‰§è¡Œ&lt;/p>
&lt;pre tabindex="0">&lt;code>ssh root@192.168.1.1 &amp;#39;tcpdump -i br-lan host 192.168.2.1 -s 0 -l -w -&amp;#39; | /Applications/Wireshark.app/Contents/MacOS/Wireshark -k -i -
&lt;/code>&lt;/pre>&lt;h3 id="windowsç¤ºä¾‹">Windowsç¤ºä¾‹&lt;/h3>
&lt;pre tabindex="0">&lt;code>&lt;/code>&lt;/pre>&lt;h2 id="è¯·æ±‚è¿‡æ»¤">è¯·æ±‚è¿‡æ»¤&lt;/h2>
&lt;h3 id="æŸ¥çœ‹httpçš„getè¯·æ±‚">æŸ¥çœ‹httpçš„GETè¯·æ±‚&lt;/h3>
&lt;pre tabindex="0">&lt;code>http.request.method == &amp;#34;GET&amp;#34;
&lt;/code>&lt;/pre>&lt;h3 id="æŸ¥çœ‹httpæ‰€æœ‰æˆåŠŸçš„è¯·æ±‚">æŸ¥çœ‹httpæ‰€æœ‰æˆåŠŸçš„è¯·æ±‚&lt;/h3>
&lt;pre tabindex="0">&lt;code>http.response.code == 200
&lt;/code>&lt;/pre></description></item><item><title>tvOS å¼€å‘å®è·µ - SwiftUIç¯‡</title><link>https://blog.xenori.com/2022/06/tvos-development-practice-with-swiftui/</link><pubDate>Tue, 21 Jun 2022 11:58:08 +0800</pubDate><guid>https://blog.xenori.com/2022/06/tvos-development-practice-with-swiftui/</guid><description>&lt;img src="https://blog.xenori.com/2022/06/tvos-development-practice-with-swiftui/cover.png" alt="Featured image of post tvOS å¼€å‘å®è·µ - SwiftUIç¯‡" />&lt;h2 id="ç„¦ç‚¹éå¯¹é½ç§»åŠ¨">ç„¦ç‚¹éå¯¹é½ç§»åŠ¨&lt;/h2>
&lt;p>é»˜è®¤tvOSç„¦ç‚¹ç§»åŠ¨æ˜¯éœ€è¦ç§»åŠ¨æ–¹å‘ä¸Šæœ‰èƒ½è·å–ç„¦ç‚¹çš„buttonï¼Œå‡å¦‚buttonæ˜¯å·¦å³é è¾¹å¯¹é½çš„ï¼Œå°±ç§»åŠ¨ä¸ä¸Šå»ã€‚éœ€è¦ä½¿ç”¨&lt;code>focusSetion&lt;/code>æŠŠbuttonæ‰€åœ¨çš„æ•´è¡ŒèŒƒå›´å˜æˆå¯ç„¦ç‚¹è¯†åˆ«çš„ï¼Œæ‰èƒ½è‡ªåŠ¨ç§»åŠ¨åˆ°é è¾¹çš„buttonä¸Šã€‚&lt;/p>
&lt;p>ç¤ºä¾‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="n">VStack&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">HStack&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Button&lt;/span> &lt;span class="p">{}&lt;/span> &lt;span class="n">label&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Text&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;test&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="n">frame&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">maxWidth&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="n">infinity&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">alignment&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="n">trailing&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="n">focusSection&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Button&lt;/span> &lt;span class="p">{}&lt;/span> &lt;span class="n">label&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Text&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Save&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="å®ç°parralwæ•ˆæœ">å®ç°Parralwæ•ˆæœ&lt;/h2>
&lt;p>éœ€è¦ä½¿ç”¨å¼€æºåº“&lt;a class="link" href="https://github.com/PGSSoft/ParallaxView/" target="_blank" rel="noopener"
>ParallaxView&lt;/a>ç¼–å†™è‡ªå®šä¹‰æ§ä»¶å®ç°&lt;/p>
&lt;h2 id="ä¼˜åŒ–æ»šåŠ¨åˆ—è¡¨æ€§èƒ½">ä¼˜åŒ–æ»šåŠ¨åˆ—è¡¨æ€§èƒ½&lt;/h2>
&lt;p>SwiftUIæ»šåŠ¨åˆ—è¡¨ä¸­æœ‰å¼‚æ­¥åŠ è½½çš„å›¾ç‰‡æ—¶ï¼Œå‘ä¸‹å¿«é€Ÿæ»šåŠ¨ä¼šåœé¡¿ï¼Œä¸èƒ½æŒç»­æ»šåŠ¨ï¼Œçœ‹ç€åƒæ˜¯tvOSç„¦ç‚¹åˆ‡æ¢åˆ°indicatoræ—¶å‡ºç°äº†é—®é¢˜ã€‚è¦è§£å†³åªèƒ½æ”¹ä¸ºä½¿ç”¨UICollectionViewæ¥å®ç°æ»šåŠ¨åˆ—è¡¨ï¼Œæ¨èä½¿ç”¨ç¬¬ä¸‰æ–¹å¼€æºçš„&lt;a class="link" href="https://github.com/apptekstudios/ASCollectionView" target="_blank" rel="noopener"
>ASCollectionView&lt;/a>æˆ–&lt;a class="link" href="https://github.com/SwiftUIX/SwiftUIX" target="_blank" rel="noopener"
>SwiftUIX&lt;/a>æ¥å®ç°ã€‚&lt;/p>
&lt;h2 id="tabbaréšå†…å®¹æ»šåŠ¨">tabbaréšå†…å®¹æ»šåŠ¨&lt;/h2>
&lt;p>éœ€è¦å€ŸåŠ©&lt;a class="link" href="https://github.com/siteline/SwiftUI-Introspect" target="_blank" rel="noopener"
>Introspect&lt;/a>åº“&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">import&lt;/span> &lt;span class="nc">Foundation&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">import&lt;/span> &lt;span class="nc">SwiftUI&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">struct&lt;/span> &lt;span class="nc">TabBarScrollModifier&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">ViewModifier&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">func&lt;/span> &lt;span class="nf">body&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">content&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">Content&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">-&amp;gt;&lt;/span> &lt;span class="n">some&lt;/span> &lt;span class="n">View&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">content&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">introspectViewController&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">viewController&lt;/span> &lt;span class="k">in&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nv">scrollView&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">findScrollViewIn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">view&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">viewController&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">view&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nv">scrollView&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">scrollView&lt;/span> &lt;span class="k">as&lt;/span>&lt;span class="p">?&lt;/span> &lt;span class="n">UIScrollView&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">viewController&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">setContentScrollView&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">scrollView&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">for&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="n">top&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">private&lt;/span> &lt;span class="kd">func&lt;/span> &lt;span class="nf">findScrollViewIn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">view&lt;/span> &lt;span class="p">:&lt;/span> &lt;span class="n">UIView&lt;/span>&lt;span class="p">?)&lt;/span> &lt;span class="p">-&amp;gt;&lt;/span> &lt;span class="n">UIView&lt;/span>&lt;span class="p">?&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">guard&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nv">view&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">view&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">view&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">subviews&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="bp">count&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">nil&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">sub&lt;/span> &lt;span class="k">in&lt;/span> &lt;span class="n">view&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">subviews&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">sub&lt;/span> &lt;span class="k">is&lt;/span> &lt;span class="n">UIScrollView&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="n">sub&lt;/span> &lt;span class="k">is&lt;/span> &lt;span class="n">UICollectionView&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">sub&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nv">item&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">findScrollViewIn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">view&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">sub&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">item&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">nil&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">extension&lt;/span> &lt;span class="nc">View&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">func&lt;/span> &lt;span class="nf">tabBarScroll&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">-&amp;gt;&lt;/span> &lt;span class="n">some&lt;/span> &lt;span class="n">View&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">modifier&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">TabBarScrollModifier&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>åœ¨å†…å®¹çš„ScrollViewä¸­è°ƒç”¨ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-swift" data-lang="swift">&lt;span class="line">&lt;span class="cl">&lt;span class="n">ScrollView&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// content&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="n">tabBarScroll&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="onlongpressgestureå¯¼è‡´è·³è½¬å¤±æ•ˆ">onLongPressGestureå¯¼è‡´è·³è½¬å¤±æ•ˆ&lt;/h2>
&lt;p>å‡å¦‚åœ¨ &lt;code>NavigationLink&lt;/code> ä¸Šä½¿ç”¨ &lt;code>onLongPressGesture&lt;/code>ï¼Œé‚£ä¹ˆ &lt;code>NavigartionLink&lt;/code> çš„è·³è½¬ä¼šå¤±æ•ˆ&lt;/p>
&lt;pre tabindex="0">&lt;code>NavigationLink{
EmptyView()
} label: {
Text(&amp;#34;Click&amp;#34;)
}
.onLongPressGesture {
// åŠ ä¸Šè¿™å¥ä¼šæ²¡æ³•è§¦å‘è·³è½¬
print(&amp;#34;long press&amp;#34;)
}
&lt;/code>&lt;/pre>&lt;p>çœ‹ç½‘ä¸Šè¯´æ³•è¿™æ˜¯appletvçš„bugï¼Œå¯åœ¨ &lt;code>onLongPressGesture&lt;/code> å‰é¢åŠ ä¸Š &lt;code>onPlayPauseCommand&lt;/code> æ¥é¿å…è¿™é—®é¢˜&lt;/p>
&lt;pre tabindex="0">&lt;code>NavigationLink{
EmptyView()
} label: {
Text(&amp;#34;Click&amp;#34;)
}
.onPlayPauseCommand {
// fixed navigate!!!
}
.onLongPressGesture {
print(&amp;#34;long press&amp;#34;)
}
&lt;/code>&lt;/pre>&lt;h2 id="å¦‚ä½•æœ¬åœ°ä¿®æ”¹å¯¼å…¥çš„swift-package">å¦‚ä½•æœ¬åœ°ä¿®æ”¹å¯¼å…¥çš„swift package&lt;/h2>
&lt;p>éœ€è¦æŠŠswift packageå…ˆä¸‹è½½åˆ°æœ¬åœ°ï¼Œç„¶ååœ¨finderä¸­æ‰¾åˆ°æ–‡ä»¶å¤¹ï¼Œç›´æ¥æ‹–åˆ°xcodeé¡¹ç›®æ ¹ç›®å½•ä¸­&lt;/p>
&lt;p>è¿™æ ·ä¿®æ”¹æœ¬åœ°ä»£ç ï¼Œå°±å¯ä»¥åœ¨xcodeä¸­çœ‹åˆ°ä¿®æ”¹åçš„æ•ˆæœ&lt;/p></description></item><item><title>caddyä½¿ç”¨æ•™ç¨‹</title><link>https://blog.xenori.com/2022/04/caddy-usage/</link><pubDate>Wed, 20 Apr 2022 11:58:08 +0800</pubDate><guid>https://blog.xenori.com/2022/04/caddy-usage/</guid><description>&lt;img src="https://blog.xenori.com/2022/04/caddy-usage/cover.jpeg" alt="Featured image of post caddyä½¿ç”¨æ•™ç¨‹" />&lt;h2 id="å®‰è£…caddy">å®‰è£…caddy&lt;/h2>
&lt;p>Mac:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">brew install caddy
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Windows:&lt;/p>
&lt;p>åˆ°å®˜ç½‘ç›´æ¥ä¸‹è½½ï¼š&lt;a class="link" href="https://caddyserver.com/download" target="_blank" rel="noopener"
>https://caddyserver.com/download&lt;/a>&lt;/p>
&lt;h2 id="å¿«é€Ÿå¯åŠ¨æ”¯æŒhttpsçš„å¼€å‘æœåŠ¡å™¨">å¿«é€Ÿå¯åŠ¨æ”¯æŒhttpsçš„å¼€å‘æœåŠ¡å™¨&lt;/h2>
&lt;h3 id="å®‰è£…è¯ä¹¦">å®‰è£…è¯ä¹¦&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">caddy trust
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="å¯åŠ¨ç®€å•æ–‡ä»¶æœåŠ¡å™¨">å¯åŠ¨ç®€å•æ–‡ä»¶æœåŠ¡å™¨&lt;/h3>
&lt;p>è¿›å…¥æ–‡ä»¶ç›®å½•ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">caddy file-server
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="å¯åŠ¨å¼€å‘æœåŠ¡å™¨">å¯åŠ¨å¼€å‘æœåŠ¡å™¨&lt;/h3>
&lt;p>è¿›å…¥é¡¹ç›®æ ¹ç›®å½•ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">cat &lt;span class="s">&amp;lt;&amp;lt;EOF &amp;gt; Caddyfile
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s">www.example.com {
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> try_files {path} /index.html
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> file_server
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> tls internal
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s">}
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s">EOF&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">caddy run
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>2021å¹´åº¦æ€»ç»“</title><link>https://blog.xenori.com/2021/12/the-summary-of-2021/</link><pubDate>Tue, 28 Dec 2021 15:03:08 +0800</pubDate><guid>https://blog.xenori.com/2021/12/the-summary-of-2021/</guid><description>&lt;img src="https://blog.xenori.com/2021/12/the-summary-of-2021/cover.jpeg" alt="Featured image of post 2021å¹´åº¦æ€»ç»“" />&lt;p>æœ¬æ¥ä»¥ä¸º2021å¹´æ–°å† å½±å“ä¼šæ…¢æ…¢é™ä½ï¼Œæ—…æ¸¸ä¹Ÿä¼šé€æ­¥å¼€æ”¾ï¼Œä½†è¥¿æ–¹ä¸–ç•Œçš„æ‹‰å®æ˜¯ä½ æƒ³ä¸åˆ°çš„ã€‚ä»Šå¹´çš„è¥¿æ–¹æ”¿å›é™¤äº†ä¸æ–­æ‰¾å„ç§ç†ç”±ç»™ä½ ä½¿ç»Šå­ï¼Œå®åœ¨æ²¡åšä»€ä¹ˆå¯¹ä¸–ç•Œæœ‰ç›Šçš„äº‹ã€‚twitterä¸Šçœ‹åˆ°çš„è‰å°ç†è®ºèƒ½å¾ˆå¥½çš„æ€»ç»“ç°åœ¨è¿™æ‹‰å®çš„ä¸–ç•Œï¼š&lt;/p>
&lt;p>&lt;img src="https://blog.xenori.com/2021/12/the-summary-of-2021/1.jpg"
width="1020"
height="560"
srcset="https://blog.xenori.com/2021/12/the-summary-of-2021/1_hu410c2ed8c2bb49d931569825518453dd_98924_480x0_resize_q75_box.jpg 480w, https://blog.xenori.com/2021/12/the-summary-of-2021/1_hu410c2ed8c2bb49d931569825518453dd_98924_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="182"
data-flex-basis="437px"
>&lt;/p>
&lt;hugo-encrypt>
&lt;div class="hugo-encrypt-encryption-notice">
&lt;p class="hugo-encryptor-tips">æ–‡ç« çš„éƒ¨åˆ†å†…å®¹è¢«å¯†ç ä¿æŠ¤ï¼š&lt;/p>
&lt;noscript>&lt;span id="hugo-encrypt-enable-js">Javascript needs to be enabled to decrypt content&lt;/span>&lt;/noscript>
&lt;div class='hugo-encrypt-form'>
&lt;input
class="hugo-encrypt-input"
id="hugo-encrypt-password"
placeholder='è¯·è¾“å…¥å¯†ç '
/>
&lt;input
class="hugo-encrypt-button"
type="button"
value='ç‚¹å‡»éªŒè¯'
id="button" onclick="hugoDecrypt(document.getElementById('hugo-encrypt-password').value,'input')"
/>
&lt;span class="hugo-encrypt-input-response">&lt;/span>
&lt;/div>
&lt;/div>
&lt;cipher-text data-password='xenori@#$123' style="display:none;">
&lt;p>ä»Šå¹´æœ¬æ¥æœ€é‡è¦çš„äº‹æ˜¯æ‰¾åˆ°æ–°å·¥ä½œï¼Œä½†æ‹–å»¶ç—‡åŠ ä¸Šå¹´é¾„è¿‡å¤§çš„ä¸è‡ªä¿¡ï¼Œä¸€ç›´åªæ˜¯æƒ³æƒ³ï¼Œå®é™…æ²¡æŠ•å‡ºå»ä¸€ä»½ç®€å†ã€‚ã€‚ã€‚&lt;/p>
&lt;p>æ„Ÿæƒ…ç”Ÿæ´»ä¸Šå°è¯•å’Œä¸€ä¸ªç›¸äº²å¯¹è±¡ä¿æŒäº†æœ€é•¿çš„è”ç³»è®°å½•ï¼Œæœ‰8ä¸ªæœˆäº†ï¼Œä¹‹å‰å‡ ä¸ªç›¸äº²å¯¹è±¡éƒ½æ˜¯åƒå®Œé¥­å°±æ–­äº†è”ç³»ã€‚ä¸è¿‡è‡ªå·±ä¸€ç›´ä¸æƒ³å†è¿›ä¸€æ­¥ï¼Œè¿˜åœ¨çŠ¹è±«æ˜¯å¦è¦æ”¾å¼ƒã€‚ã€‚ã€‚è¿‘æ’å­¦åˆ°ä¸€ä¸ªè¯æ˜¯ç¬¦åˆè‡ªå·±æ€§æ ¼çš„ï¼šå›é¿å‹ä¾æ‹äººæ ¼&lt;/p>
&lt;p>ä»Šå¹´ç”Ÿæ´»çŠ¶æ€ï¼š&lt;/p>
&lt;ul>
&lt;li>æœªæ‰¾åˆ°å·¥ä½œ&lt;/li>
&lt;li>æœªæœ‰å¥³æœ‹å‹ï¼Œä¸€ç›´ç›¸äº²ä¸­ã€‚ã€‚ã€‚&lt;/li>
&lt;li>æœªä¼šæ¸¸æ³³&lt;/li>
&lt;/ul>
&lt;p>æ˜å¹´è®¡åˆ’ï¼š&lt;/p>
&lt;ul>
&lt;li>æ‰¾åˆ°å·¥ä½œ&lt;/li>
&lt;li>è®¤çœŸå†™ä¸€ä¸ªä¸šä½™äº§å“&lt;/li>
&lt;/ul>
&lt;/cipher-text>
&lt;style type="text/css">div#hugo-encrypt-sha1sum {display: none;}&lt;/style>
&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/core.js">&lt;/script>
&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/sha1.js">&lt;/script>
&lt;script>
const storageKey = location.pathname + "password";
const userStorage = localStorage ;
function str2buf(str) {
return new TextEncoder("utf-8").encode(str);
}
function buf2str(buffer) {
return new TextDecoder("utf-8").decode(buffer);
}
function hex2buf(hexStr) {
return new Uint8Array(hexStr.match(/.{2}/g).map(h => parseInt(h, 16)));
}
function deriveKey(passphrase, salt) {
salt = salt || crypto.getRandomValues(new Uint8Array(8));
return crypto.subtle
.importKey("raw", str2buf(passphrase), "PBKDF2", false, ["deriveKey"])
.then(key =>
crypto.subtle.deriveKey(
{ name: "PBKDF2", salt, iterations: 1000, hash: "SHA-256" },
key,
{ name: "AES-GCM", length: 256 },
false,
["encrypt", "decrypt"],
),
)
.then(key => [key, salt]);
}
function decrypt(passphrase, saltIvCipherHex) {
const [salt, iv, data] = saltIvCipherHex.split("-").map(hex2buf);
return deriveKey(passphrase, salt)
.then(([key]) => crypto.subtle.decrypt({ name: "AES-GCM", iv }, key, data))
.then(v => buf2str(new Uint8Array(v)));
}
function removeNotice() {
var notices = document.getElementsByClassName("hugo-encrypt-encryption-notice");
for (let i = 0; i &lt; notices.length; i++) {
notices[i].remove();
}
}
const hugoDecrypt = function(password, type) {
for (const cipher of ciphers) {
decrypt(password, cipher.innerText).then(function(decrypted_text) {
let hash = CryptoJS.SHA1(decrypted_text.replace(/\r?\n?[^\r\n]*$/, ""));
let sha1_sum = CryptoJS.enc.Hex.stringify(hash);
if ( decrypted_text.includes(sha1_sum) ) {
removeNotice();
decrypted_text = decrypted_text.replace(/&lt;div.*?hugo-encrypt-sha1sum.*?>.*?&lt;\/div>/ig, '');
cipher.parentNode.outerHTML = decrypted_text;
userStorage.setItem(storageKey, password);
console.log("Decryption successful. Storing password in Storage.");
}
}).catch(function(error) {
if (type === "input") {
cipher.parentNode.querySelector('.hugo-encrypt-input-response').innerHTML = "å¯†ç é”™è¯¯";
console.log('å¯†ç é”™è¯¯', error);
} else if (type === "storage") {
userStorage.removeItem(location.pathname + "password");
console.log("Password changed. Clearing userStorage.", error);
}
});
}
};
&lt;/script>
&lt;script>
window.onload = () => {
ciphers = Array.from(document.querySelectorAll("cipher-text"));
if (userStorage.getItem(storageKey)) {
console.log("Found storageKey in userStorage. Attemtping decryption");
hugoDecrypt(userStorage.getItem(storageKey), "storage");
}
};
&lt;/script>
&lt;/hugo-encrypt>
&lt;p>2021å¹´å¹´åº¦é€‰æ‹©å¦‚ä¸‹ï¼š&lt;/p>
&lt;h2 id="å¹´åº¦æ¸¸æˆ">å¹´åº¦æ¸¸æˆï¼š&lt;/h2>
&lt;ul>
&lt;li>ç³–è±†äºº&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>ä»Šå¹´æ²¡æ€ä¹ˆç©æ¸¸æˆï¼Œä¼‘é—²æ—¶å°±ç©ä¸‹ç³–è±†äººï¼Œä½†æœ€è¿‘è¢«epicæ”¶è´­åå¤ªæ¶å¿ƒäººäº†ï¼ŒæœŸå¾…æ˜å¹´çš„è€å¤´ç¯&lt;/p>
&lt;/blockquote>
&lt;h2 id="å¹´åº¦åŠ¨ç”»">å¹´åº¦åŠ¨ç”»ï¼š&lt;/h2>
&lt;ul>
&lt;li>çµç¬¼&lt;/li>
&lt;li>å¥‡å·§è®¡ç¨‹è½¦&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>è¿‘å‡ å¹´å›½åˆ›çš„ç¡®å´›èµ·äº†ï¼Œçµç¬¼çš„æˆ˜æ–—å’Œå‰§æƒ…éƒ½å¾ˆå‡ºè‰²ï¼Œç»ˆç« ç™½è€æ¿å‡ºåœºç›´æ¥æŠŠæœŸæœ›å€¼æ‹‰æ»¡äº†ï¼ŒæœŸå¾…æ˜å¹´çš„ä¸‰ä½“ã€‚å¥‡å·§è®¡ç¨‹è½¦å¡é€šçš„ç”»é£ï¼Œä½†å´æœ‰ç€éå¸¸å¸å¼•äººçš„æ‚¬ç–‘æ•…äº‹æƒ…èŠ‚ï¼Œä»Šå¹´æœ€å¥½çœ‹çš„æ—¥æœ¬åŠ¨ç”»ã€‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="å¹´åº¦éŸ³ä¹">å¹´åº¦éŸ³ä¹ï¼š&lt;/h2>
&lt;ul>
&lt;li>çˆ±ä½  - ç‹è´°æµª&lt;/li>
&lt;li>æ‰“å¼€ - é»„éœ„é›²&lt;/li>
&lt;li>ç§‹å¤©å‰ - ç¡¬ç³–å°‘å¥³303&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>åªè®°å½•ä¸‹ä»Šå¹´å–œæ¬¢å¬çš„ï¼Œæ²¡ç‰¹åˆ«å–œæ¬¢å•æ›²å¾ªç¯çš„&lt;/p>
&lt;/blockquote>
&lt;h2 id="å¹´åº¦ç”µå½±ç”µè§†å‰§">å¹´åº¦ç”µå½±ï¼ˆç”µè§†å‰§ï¼‰ï¼š&lt;/h2>
&lt;ul>
&lt;li>æ‰å…‹Â·æ–½å¥ˆå¾·ç‰ˆæ­£ä¹‰è”ç›Ÿ&lt;/li>
&lt;li>æ²™ä¸˜&lt;/li>
&lt;li>å±±æµ·æƒ…ï¼ˆå‰åŠéƒ¨ï¼‰&lt;/li>
&lt;/ul>
&lt;h2 id="å¹´åº¦å›¾ä¹¦">å¹´åº¦å›¾ä¹¦ï¼š&lt;/h2>
&lt;p>æ— &lt;/p>
&lt;h2 id="å¹´åº¦app">å¹´åº¦APPï¼š&lt;/h2>
&lt;p>æ— &lt;/p>
&lt;blockquote>
&lt;p>ç§»åŠ¨äº’è”ç½‘åå¹´é»„é‡‘å‘å±•æœŸå·²è¿‡ï¼Œå¼€å§‹è¿›å…¥å­˜é‡åšå¼ˆé˜¶æ®µï¼Œå¾ˆéš¾å†å‡ºç°æœ‰è¶£çš„appäº†&lt;/p>
&lt;/blockquote>
&lt;h2 id="å¹´åº¦ç½‘ç«™">å¹´åº¦ç½‘ç«™ï¼š&lt;/h2>
&lt;p>æ— &lt;/p>
&lt;h2 id="å¹´åº¦æ•°ç ">å¹´åº¦æ•°ç ï¼š&lt;/h2>
&lt;ul>
&lt;li>AppleTV&lt;/li>
&lt;li>å°ç±³å‡€æ°´å™¨q600&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>AppleTVæ˜¯çœ‹åˆ°æœ‰å¼€æºçš„ç¬¬ä¸‰æ–¹bç«™appæ‰ä¹°çš„ï¼Œç”µè§†å†…ç½®çš„androidç³»ç»Ÿå¤ªæ…¢äº†ï¼Œç°åœ¨å·²é…ç½®æ»¡è¶³è‡ªå·±æ‰€æœ‰å½±éŸ³éœ€æ±‚ï¼ŒèµğŸ˜„ã€‚å°ç±³q600å‡€æ°´å™¨æœ‰æˆ‘ä¸€ç›´æœŸæœ›çš„åŠŸèƒ½ï¼šè‡ªåŠ çƒ­ï¼Œæ²¡é™ˆæ°´ï¼Œè™½ç„¶è¿˜ä¸å¤ªå®Œç¾ï¼Œç”¨åˆ°ç°åœ¨å¾ˆæ»¡æ„ã€‚&lt;/p>
&lt;/blockquote></description></item><item><title>dashå®æ—¶è½¬æ¢hlsæµåª’ä½“æ’­æ”¾</title><link>https://blog.xenori.com/2021/11/dash-to-hls/</link><pubDate>Mon, 22 Nov 2021 14:40:11 +0800</pubDate><guid>https://blog.xenori.com/2021/11/dash-to-hls/</guid><description>&lt;img src="https://blog.xenori.com/2021/11/dash-to-hls/cover.jpeg" alt="Featured image of post dashå®æ—¶è½¬æ¢hlsæµåª’ä½“æ’­æ”¾" />&lt;p>æœ¬æ–‡ä¸»è¦æ˜¯æ¢è®¨ä¸‹bç«™çš„éŸ³è§†é¢‘æµåˆ†ç¦»dashæ ¼å¼å®æ—¶è½¬ä¸ºhlsæµåª’ä½“ï¼Œä»¥æ–¹ä¾¿åœ¨æ—§çš„æ’­æ”¾å™¨ä¸Šæ’­æ”¾ã€‚&lt;/p>
&lt;h2 id="ä»€ä¹ˆæ˜¯dash">ä»€ä¹ˆæ˜¯DASH&lt;/h2>
&lt;p>dashæ˜¯åŸºäºHTTPçš„åŠ¨æ€è‡ªé€‚åº”æµï¼ˆè‹±èªï¼šDynamic Adaptive Streaming over HTTPï¼Œä¹Ÿç§°MPEG-DASHï¼‰çš„ç®€ç§°ã€‚ç°åœ¨bç«™æœ€æ–°çš„è§†é¢‘éƒ½æ˜¯è¿”å›è¿™ç§æ ¼å¼ï¼Œå¹¶ä¸”æ˜¯éŸ³è§†é¢‘åˆ†ç¦»çš„ã€‚bç«™dashå®è·µå¯ä»¥å‚è€ƒè¿™ç¯‡ppt: &lt;a class="link" href="https://www.w3.org/2019/03/23-chinese-web-jianqiang-bilibili.pdf" target="_blank" rel="noopener"
>MPEG-DASHåœ¨bilibiliçš„åº”ç”¨ä¸å®è·µ&lt;/a>&lt;/p>
&lt;h2 id="è½¬æ¢hlsçš„å®ç°æ–¹å¼">è½¬æ¢HLSçš„å®ç°æ–¹å¼&lt;/h2>
&lt;p>bç«™dashéŸ³è§†é¢‘åˆ†åˆ«ä¸ºå•ç‹¬çš„ä¸¤ä¸ªé“¾æ¥ï¼Œä¸åŒçš„ç ç‡å’Œç¼–ç å¯¹åº”ä¸åŒçš„é“¾æ¥ï¼Œä¸‹é¢åªæ˜¯ä½¿ç”¨å…¶ä¸­ä¸€ä¸ªéŸ³è§†é¢‘é“¾æ¥æ¥ä¸¾ä¾‹ã€‚å®ç°æ–¹å¼å¦‚ä¸‹ï¼š&lt;/p>
&lt;ol>
&lt;li>æä¾›ç”Ÿæˆm3u8æ–‡ä»¶çš„httpæœåŠ¡ï¼Œm3u8è§†é¢‘å—æ ¹æ®æ—¶é•¿(duration)åˆ‡åˆ†ä¸º5ç§’ä¸ºä¸€ç‰‡ï¼Œm3u8æ ¼å¼å¦‚ä¸‹ï¼š
&lt;pre tabindex="0">&lt;code> #EXTM3U
#EXT-X-VERSION:3
#EXT-X-MEDIA-SEQUENCE:0
#EXT-X-ALLOW-CACHE:YES
#EXT-X-TARGETDURATION:5
#EXT-X-PLAYLIST-TYPE:VOD
#EXTINF: 5.000000,
http://xxx/api/hls/segments/1
#EXTINF: 5.000000,
http://xxx/api/hls/segments/2
....
&lt;/code>&lt;/pre>æ‹¿ä¸åˆ°æ€»çš„æ—¶é•¿çš„è¯ï¼Œå¯ä»¥é€šè¿‡&lt;code>ffprobe&lt;/code>å‘½ä»¤è·å–ï¼š
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">ffprobe -v quiet -print_format json -show_format &lt;span class="s2">&amp;#34;http://xxx/video.m4s&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>httpæœåŠ¡çš„å“åº”å¤´&lt;code>content-type&lt;/code>éœ€è®¾ä¸º&lt;code>application/vnd.apple.mpegurl&lt;/code>&lt;/li>
&lt;li>æä¾›åˆ‡ç‰‡ä¸‹è½½çš„httpæœåŠ¡ï¼Œå¦‚ä¸Šé¢m3u8æ–‡ä»¶ä¸­çš„&lt;code>http://xxx/api/hls/segments/1&lt;/code>ï¼Œåˆ‡ç‰‡å¯ä»¥é€šè¿‡ffmpegè¿›è¡ŒéŸ³è§†åˆå¹¶å’Œåˆ‡åˆ†ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># åˆ‡åˆ†ä»è§†é¢‘ç¬¬(-ss)5.00ç§’å¼€å§‹ï¼Œæ—¶é•¿(-t)5.00ç§’&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># -sså’Œ-initial_offsetæ•°å€¼éœ€è¦æ ¹æ®å½“å‰åˆ‡ç‰‡é€’å¢&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ffmpeg -timelimit &lt;span class="m">45&lt;/span> -ss 5.00 -i http://xxx/video.m4s -ss 5.00 -i http://xxx/audio.m4s -t 5.00 -c:v libx264 -preset veryfast -c:a copy -force_key_frames &lt;span class="s2">&amp;#34;expr:gte(t,n_forced*5.000)&amp;#34;&lt;/span> -f ssegment -segment_time 5.00 -initial_offset 5.00 pipe:out%03d.ts
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># åŒæ—¶åˆå¹¶å­—å¹•xxx.srt&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ffmpeg -timelimit &lt;span class="m">45&lt;/span> -ss 5.00 -copyts -i http://xxx/video.m4s -ss 5.00 -i http://xxx/audio.m4s -t 5.00 -vf &lt;span class="nv">subtitles&lt;/span>&lt;span class="o">=&lt;/span>xxx.srt -c:v libx264 -preset veryfast -c:a copy -force_key_frames &lt;span class="s2">&amp;#34;expr:gte(t,n_forced*5.000)&amp;#34;&lt;/span> -f ssegment -segment_time 5.00 -initial_offset 5.00 -ss 5.00 pipe:out%03d.ts
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>æœ¬å‘½ä»¤æ˜¯æŠŠé‡æ–°ç¼–ç åçš„è§†é¢‘æ•°æ®è¾“å‡ºåˆ°æ§åˆ¶å°ï¼Œéœ€è¦httpæœåŠ¡æŠŠè¾“å‡ºæ•°æ®å®æ—¶å†™å…¥åˆ°å“åº”ä¸­ï¼Œè¿™æ ·æ’­æ”¾å™¨å°±èƒ½å®æ—¶ä¸‹è½½æ’­æ”¾äº†&lt;/li>
&lt;/ol>
&lt;h2 id="ä¼šé‡åˆ°çš„é—®é¢˜">ä¼šé‡åˆ°çš„é—®é¢˜&lt;/h2>
&lt;p>ffmpegåˆ‡ç‰‡æ—¶éŸ³é¢‘ä½¿ç”¨äº†&lt;code>copy&lt;/code>å‘½ä»¤ï¼Œä½†è§†é¢‘å´ä½¿ç”¨&lt;code>libx264&lt;/code>é‡æ–°ç¼–ç ï¼Œå¯¼è‡´è½¬ç å¾ˆæ…¢ï¼Œè€Œä¸”cpuå ç”¨å±…é«˜ä¸ä¸‹ï¼Œä¸ºä»€ä¹ˆè§†é¢‘ä¸ä¹Ÿç”¨&lt;code>copy&lt;/code>æ¨¡å¼ï¼Œé¿å…é‡æ–°è½¬ç ï¼Ÿ&lt;/p>
&lt;p>è¿™æ˜¯å› ä¸ºffmpegè§†é¢‘copyæ¨¡å¼åˆ‡ç‰‡æ—¶åªèƒ½æ ¹æ®å…³é”®å¸§åˆ‡åˆ†ï¼Œè¿™æ ·ä¼šå¯¼è‡´æ¯ä¸ªåˆ‡ç‰‡å¯èƒ½ä¼šå¤šå‡ å¸§ï¼Œæ’­æ”¾æ—¶å‡ºç°ç”»é¢é‡å¤æ’­æ”¾å’Œå£°ç”»ä¸åŒæ­¥ï¼Œå…·ä½“é—®é¢˜å¯å‚è€ƒï¼š&lt;a class="link" href="https://www.jianshu.com/p/f7d83fdec111" target="_blank" rel="noopener"
>https://www.jianshu.com/p/f7d83fdec111&lt;/a>&lt;/p>
&lt;p>åˆ‡ç‰‡é‡æ–°ç¼–ç æ˜¯é¿å…ä¸äº†äº†ï¼Œå¦‚ä½•å¯ä»¥æé«˜è½¬ç é€Ÿåº¦ï¼Œé™ä½cpuå ç”¨ï¼Ÿ&lt;/p>
&lt;p>â€”â€”è§†é¢‘ç¼–ç ç¡¬ä»¶åŠ é€Ÿï¼&lt;/p>
&lt;h2 id="ffmpegç¡¬ä»¶åŠ é€Ÿ">ffmpegç¡¬ä»¶åŠ é€Ÿ&lt;/h2>
&lt;p>è§†é¢‘ç¼–ç ç¡¬ä»¶åŠ é€Ÿä¸»è¦æœ‰å¦‚ä¸‹å‡ ç§ï¼š&lt;/p>
&lt;ul>
&lt;li>VAAPIï¼šintelé›†æ˜¾æ”¯æŒï¼Œæ˜¯openwrtä¸­æœ€å¸¸è§å’Œä½¿ç”¨çš„&lt;/li>
&lt;li>QSVï¼šintelé›†æ˜¾æ”¯æŒï¼Œå¯åœ¨&lt;a class="link" href="https://ark.intel.com/content/www/cn/zh/ark/products/78867/intel-celeron-processor-j1900-2m-cache-up-to-2-42-ghz.html" target="_blank" rel="noopener"
>inteläº§å“è§„æ ¼é¡µ&lt;/a>æœç´¢è‡ªå·±çš„cpuï¼Œçœ‹ä¸‹æœ‰æ²¡æ”¯æŒ&lt;code>Quick Sync Video&lt;/code>&lt;/li>
&lt;li>NVENCï¼šnvidiaæ˜¾å¡æ”¯æŒï¼Œopenwrtä¸­ä¸€èˆ¬æ²¡ç‹¬ç«‹æ˜¾å¡ï¼Œå¾ˆå°‘ä½¿ç”¨åˆ°&lt;/li>
&lt;/ul>
&lt;p>è¿™é‡Œåªä»‹ç»æœ€å¸¸ç”¨çš„vaapiæ–¹å¼ï¼Œffmpegç¼–ç æ—¶ä½¿ç”¨vaapiç¡¬ä»¶åŠ é€Ÿåˆ‡ç‰‡å‘½ä»¤å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å¼€å¯vaapiç¡¬ä»¶åŠ é€Ÿç¼–ç &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ffmpeg -vaapi_device /dev/dri/renderD128 -timelimit &lt;span class="m">45&lt;/span> -ss 5.00 -i http://xxx/video.m4s -ss 5.00 -i http://xxx/audio.m4s -t 5.00 -vf &lt;span class="s1">&amp;#39;format=nv12,hwupload&amp;#39;&lt;/span> -c:v h264_vaapi -c:a copy -force_key_frames &lt;span class="s2">&amp;#34;expr:gte(t,n_forced*5.000)&amp;#34;&lt;/span> -f ssegment -segment_time 5.00 -initial_offset 5.00 pipe:out%03d.ts
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># åŒæ—¶åˆå¹¶å­—å¹•xxx.srt&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ffmpeg -vaapi_device /dev/dri/renderD128 -timelimit &lt;span class="m">45&lt;/span> -ss 5.00 -copyts -i http://xxx/video.m4s -ss 5.00 -i http://xxx/audio.m4s -t 5.00 -vf &lt;span class="s1">&amp;#39;subtitles=xxx.srt,format=nv12,hwupload&amp;#39;&lt;/span> -c:v h264_vaapi -c:a copy -force_key_frames &lt;span class="s2">&amp;#34;expr:gte(t,n_forced*5.000)&amp;#34;&lt;/span> -f ssegment -segment_time 5.00 -initial_offset 5.00 -ss 5.00 pipe:out%03d.ts
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;code>-vaapi_device /dev/dri/renderD128&lt;/code>ï¼Œ&lt;code>-vf 'format=nv12,hwupload'&lt;/code>å’Œ&lt;code>-c:v h264_vaapi&lt;/code>è¿™ä¸‰ä¸ªå‚æ•°æ˜¯å¿…é¡»çš„&lt;/p>
&lt;h2 id="å¦‚ä½•åœ¨dockerä¸­ä½¿ç”¨ç¡¬ä»¶åŠ é€Ÿ">å¦‚ä½•åœ¨dockerä¸­ä½¿ç”¨ç¡¬ä»¶åŠ é€Ÿ&lt;/h2>
&lt;p>å‡å¦‚hlsæµæœåŠ¡æ˜¯éƒ¨ç½²åœ¨dockerä¸­ä½¿ç”¨çš„ï¼Œæ‰“å¼€ç¡¬ä»¶åŠ é€Ÿå¯ä»¥ä½¿ç”¨å·²ç»å®‰è£…äº†vaapiæ”¯æŒçš„é•œåƒã€‚&lt;a class="link" href="https://hub.docker.com/r/jrottenberg/ffmpeg" target="_blank" rel="noopener"
>jrottenberg/ffmpeg&lt;/a>æœ‰ç”Ÿæˆå¥½çš„æ”¯æŒvaapiçš„dockeré•œåƒï¼Œé•œåƒåç§°å¸¦æœ‰&lt;code>vaapi&lt;/code>æ ‡ç­¾ï¼Œå¯è‡ªè¡Œæœç´¢éœ€è¦çš„ffmpegç‰ˆæœ¬ä½¿ç”¨&lt;/p>
&lt;p>dockerå¯åŠ¨æ—¶ï¼Œéœ€è¦ä½¿ç”¨&lt;code>--device&lt;/code>å‚æ•°ç»‘å®šæ˜¾å¡è®¾å¤‡ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">docker run --device /dev/dri:/dev/dri jrottenberg/ffmpeg:vaapi
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>åœ¨openwrtä¸­ä½¿ç”¨çš„è¯ä¸­ï¼Œå¯åœ¨dockeré…ç½®é¡µ&lt;code>device&lt;/code>æ ç»‘å®šæ˜¾å¡è®¾å¤‡&lt;/p>
&lt;p>&lt;img src="https://blog.xenori.com/2021/11/dash-to-hls/1.jpg"
width="1104"
height="210"
srcset="https://blog.xenori.com/2021/11/dash-to-hls/1_hu3cc7554004a4f82bf46186159a47e918_23956_480x0_resize_q75_box.jpg 480w, https://blog.xenori.com/2021/11/dash-to-hls/1_hu3cc7554004a4f82bf46186159a47e918_23956_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="å›¾ç‰‡"
class="gallery-image"
data-flex-grow="525"
data-flex-basis="1261px"
>&lt;/p>
&lt;h2 id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™&lt;/h2>
&lt;ul>
&lt;li>FFMPEGå‚æ•°è¯´æ˜ï¼š&lt;a class="link" href="https://ffmpeg.org/ffmpeg-all.html#Format-Options" target="_blank" rel="noopener"
>https://ffmpeg.org/ffmpeg-all.html#Format-Options&lt;/a>&lt;/li>
&lt;li>DASHåè®®ç›´æ’­åº”ç”¨ï¼š&lt;a class="link" href="https://cloud.tencent.com/developer/article/1895146" target="_blank" rel="noopener"
>https://cloud.tencent.com/developer/article/1895146&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>è‡ªå»ºBitwardené€šè¿‡cloudflareå®ç°httpsè®¿é—®</title><link>https://blog.xenori.com/2021/10/bitwarden-tls-with-cloudflare/</link><pubDate>Wed, 20 Oct 2021 22:16:11 +0800</pubDate><guid>https://blog.xenori.com/2021/10/bitwarden-tls-with-cloudflare/</guid><description>&lt;img src="https://blog.xenori.com/2021/10/bitwarden-tls-with-cloudflare/cover.png" alt="Featured image of post è‡ªå»ºBitwardené€šè¿‡cloudflareå®ç°httpsè®¿é—®" />&lt;div class="notices warning" >&lt;blockquote>&lt;p>æœ¬æ–‡çš„æ–¹æ¡ˆåªé’ˆå¯¹å±€åŸŸç½‘å†…ä½¿ç”¨bitwardençš„æƒ…å†µã€‚å®ç°åŸç†æ˜¯ä½¿ç”¨ACME DNSéªŒè¯æ–¹å¼éªŒè¯åŸŸåæ‰€æœ‰æƒã€‚&lt;/p>
&lt;/blockquote>&lt;/div>
&lt;p>æ‰‹æœºappè¿æ¥è‡ªå»ºbitwardenæœåŠ¡æ—¶ï¼Œéœ€è¦æ¥å£å¿…é¡»æ˜¯httpsçš„ï¼Œç»è¿‡æ¯”è¾ƒï¼Œå†³å®šä½¿ç”¨cloudflareä»£ç†æ¥å®ç°ï¼Œè¿™æ ·ä¸ç”¨è€ƒè™‘httpsè¯ä¹¦çš„æ›´æ–°é—®é¢˜ã€‚&lt;/p>
&lt;h2 id="åˆ›å»ºbitwardenåŸŸdnsè®°å½•">åˆ›å»ºbitwardenåŸŸDNSè®°å½•&lt;/h2>
&lt;p>åœ¨Cloudflareçš„DNSé¢æ¿ä¸­åˆ›å»ºä¸€æ¡bitwardenæœåŠ¡åŸŸçš„DNSè®°å½•ï¼Œå¹¶å…³é—­ä»£ç†åŠŸèƒ½ï¼Œipv4åœ°å€å¡«å†™openwrtè·¯ç”±åœ°å€ï¼š&lt;/p>
&lt;p>&lt;img src="https://blog.xenori.com/2021/10/bitwarden-tls-with-cloudflare/1.jpg"
width="2040"
height="304"
srcset="https://blog.xenori.com/2021/10/bitwarden-tls-with-cloudflare/1_hu3cc7554004a4f82bf46186159a47e918_51397_480x0_resize_q75_box.jpg 480w, https://blog.xenori.com/2021/10/bitwarden-tls-with-cloudflare/1_hu3cc7554004a4f82bf46186159a47e918_51397_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="671"
data-flex-basis="1610px"
>&lt;/p>
&lt;h2 id="åˆ›å»º-api-ä»¤ç‰Œ">åˆ›å»º API ä»¤ç‰Œ&lt;/h2>
&lt;p>åœ¨Cloudflareçš„&lt;code>æ¦‚è¿°&lt;/code>é¢æ¿ä¸­ï¼Œç‚¹å‡»å³ä¸‹è§’çš„&lt;code>è·å–æ‚¨çš„ API ä»¤ç‰Œ&lt;/code>ï¼Œè¿›å…¥åˆ›å»ºä»¤ç‰Œé¡µã€‚ç‚¹å‡»&lt;code>åˆ›å»ºä»¤ç‰Œ&lt;/code>ï¼Œå¹¶é€‰æ‹©ä½¿ç”¨æ¨¡æ¿&lt;code>ç¼–è¾‘åŒºåŸŸDNS&lt;/code>ï¼š&lt;/p>
&lt;p>&lt;img src="https://blog.xenori.com/2021/10/bitwarden-tls-with-cloudflare/2.jpg"
width="1554"
height="978"
srcset="https://blog.xenori.com/2021/10/bitwarden-tls-with-cloudflare/2_hu3cc7554004a4f82bf46186159a47e918_164182_480x0_resize_q75_box.jpg 480w, https://blog.xenori.com/2021/10/bitwarden-tls-with-cloudflare/2_hu3cc7554004a4f82bf46186159a47e918_164182_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="158"
data-flex-basis="381px"
>&lt;/p>
&lt;p>æŒ‰ç…§ä¸‹é¢å›¾ç‰‡æ‰€ç¤ºåˆ›å»ºè®¿é—®æƒé™ï¼Œ&lt;code>åŒºåŸŸèµ„æº&lt;/code>ä¸­å¯é™å®šä¸ºåˆšåˆšçš„DNSåŸŸï¼Œä¹Ÿå¯æŒ‡å®šä¸ºå¸å·ä¸‹çš„æ‰€æœ‰åŸŸï¼š&lt;/p>
&lt;p>&lt;img src="https://blog.xenori.com/2021/10/bitwarden-tls-with-cloudflare/3.jpg"
width="1852"
height="702"
srcset="https://blog.xenori.com/2021/10/bitwarden-tls-with-cloudflare/3_hu3cc7554004a4f82bf46186159a47e918_129456_480x0_resize_q75_box.jpg 480w, https://blog.xenori.com/2021/10/bitwarden-tls-with-cloudflare/3_hu3cc7554004a4f82bf46186159a47e918_129456_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="263"
data-flex-basis="633px"
>&lt;/p>
&lt;p>ä¸€ç›´ç‚¹å‡»ä¸‹ä¸€æ­¥ç›´åˆ°å®Œæˆï¼Œå¤åˆ¶å‡ºapi tokenï¼Œå¹¶ä¿å­˜å¥½ï¼Œä¸‹é¢æ­¥éª¤ä¼šç”¨åˆ°ã€‚&lt;/p>
&lt;h2 id="ä¸‹è½½å®‰è£…caddy">ä¸‹è½½å®‰è£…caddy&lt;/h2>
&lt;p>è¿›å…¥&lt;a class="link" href="https://caddyserver.com/download" target="_blank" rel="noopener"
>caddyä¸‹è½½é¡µ&lt;/a>ï¼Œä¸‹è½½å¯¹åº”ç‰ˆæœ¬ï¼Œéœ€è¦é€‰ä¸Š&lt;code>caddy-dns/cloudflare&lt;/code>æ¨¡å—ã€‚caddyå¦‚ä½•å®‰è£…ï¼Œå¯ä»¥å‚è€ƒæˆ‘ä¹‹å‰çš„æ–‡ç« â€”â€”&lt;a class="link" href="https://blog.xenori.com/2021/08/openwrt-caddy-replace-uhttpd/" >openwrtç®¡ç†åå°ä½¿ç”¨caddyä»£æ›¿uhttpd&lt;/a>&lt;/p>
&lt;p>&lt;img src="https://blog.xenori.com/2021/10/bitwarden-tls-with-cloudflare/4.jpg"
width="2770"
height="946"
srcset="https://blog.xenori.com/2021/10/bitwarden-tls-with-cloudflare/4_hu3cc7554004a4f82bf46186159a47e918_274587_480x0_resize_q75_box.jpg 480w, https://blog.xenori.com/2021/10/bitwarden-tls-with-cloudflare/4_hu3cc7554004a4f82bf46186159a47e918_274587_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="292"
data-flex-basis="702px"
>&lt;/p>
&lt;h2 id="é…ç½®caddy">é…ç½®caddy&lt;/h2>
&lt;p>æ‰“å¼€caddyé…ç½®æ–‡ä»¶ï¼Œå¢åŠ ä¸‹é¢çš„é…ç½®ï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code>bwrs.xxx.com {
tls {
dns cloudflare &amp;lt;my_api_token&amp;gt;
}
reverse_proxy localhost:8143
}
&lt;/code>&lt;/pre>&lt;p>&lt;code>bwrs.xxx.com&lt;/code>è¯·æ”¹ä¸ºcloudflareçš„æ³¨å†ŒåŸŸï¼Œ&lt;code>&amp;lt;my_api_token&amp;gt;&lt;/code>æ›¿æ¢ä¸ºåˆšç”³è¯·çš„apiä»¤ç‰Œï¼Œåå‘ä»£ç†ç«¯å£&lt;code>8143&lt;/code>æ˜¯bitwardençš„æœåŠ¡ç«¯å£ï¼Œè¯·æŒ‰è‡ªå·±çš„æƒ…å†µæ›¿æ¢ã€‚&lt;/p>
&lt;p>ä¿®æ”¹åï¼Œé‡å¯caddyä½¿é…ç½®ç”Ÿæ•ˆã€‚&lt;/p>
&lt;h2 id="openwrtæ·»åŠ æœ¬åœ°dnsè§£é‡Šè®°å½•">openwrtæ·»åŠ æœ¬åœ°DNSè§£é‡Šè®°å½•&lt;/h2>
&lt;p>è¿›å…¥openwrtåå°ï¼Œç‚¹å‡»&lt;code>ç½‘ç»œ&lt;/code> -&amp;gt; &lt;code>DHCP/DNS&lt;/code>ï¼Œåœ¨&lt;code>è‡ªå®šä¹‰æŒŸæŒåŸŸå&lt;/code>æ æ·»åŠ ä»¥ä¸‹DNSè®°å½•ï¼š&lt;/p>
&lt;p>&lt;img src="https://blog.xenori.com/2021/10/bitwarden-tls-with-cloudflare/5.jpg"
width="2254"
height="182"
srcset="https://blog.xenori.com/2021/10/bitwarden-tls-with-cloudflare/5_hu3cc7554004a4f82bf46186159a47e918_39707_480x0_resize_q75_box.jpg 480w, https://blog.xenori.com/2021/10/bitwarden-tls-with-cloudflare/5_hu3cc7554004a4f82bf46186159a47e918_39707_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="1238"
data-flex-basis="2972px"
>&lt;/p>
&lt;p>åœ°å€è¯·å¡«å†™openwrtè·¯ç”±åœ°å€ï¼Œåˆ°è¿™é‡Œå°±å…¨éƒ¨é…ç½®å®Œæˆäº†ã€‚&lt;/p>
&lt;h2 id="æµ‹è¯•æ˜¯å¦ç”Ÿæ•ˆ">æµ‹è¯•æ˜¯å¦ç”Ÿæ•ˆ&lt;/h2>
&lt;p>é€šè¿‡curlè¯·æ±‚bitwardenæœåŠ¡çœ‹æœ‰æ²¡å†…å®¹è¿”å›&lt;/p>
&lt;pre tabindex="0">&lt;code>curl https://bwrs.xxx.com
&lt;/code>&lt;/pre></description></item><item><title>openwrtç®¡ç†åå°ä½¿ç”¨caddyä»£æ›¿uhttpd</title><link>https://blog.xenori.com/2021/08/openwrt-caddy-replace-uhttpd/</link><pubDate>Wed, 11 Aug 2021 07:58:11 +0800</pubDate><guid>https://blog.xenori.com/2021/08/openwrt-caddy-replace-uhttpd/</guid><description>&lt;img src="https://blog.xenori.com/2021/08/openwrt-caddy-replace-uhttpd/cover.jpeg" alt="Featured image of post openwrtç®¡ç†åå°ä½¿ç”¨caddyä»£æ›¿uhttpd" />&lt;p>openwrtç®¡ç†åå°é»˜è®¤æ˜¯ä½¿ç”¨uhttpdæä¾›æœåŠ¡çš„ã€‚ä¸€æ®µæ—¶é—´ä½“éªŒä¸‹æ¥å‘ç°uhttpdæœ‰æ—¶ä¼šæ²¡å“åº”ï¼ŒæŸ¥ä¸åˆ°å…·ä½“åŸå› ï¼Œåªèƒ½é‡å¯æ‰ä¼šæ¢å¤æ­£å¸¸ã€‚ä¸ºäº†ç¨³å®šæ€§å’Œå¼ºå¤§çš„åå‘ä»£ç†åŠŸèƒ½ï¼Œå†³å®šåœ¨è½¯è·¯ç”±ä¸Šä½¿ç”¨caddyä»£æ›¿uhttpdã€‚&lt;/p>
&lt;h2 id="æš‚åœuhttpdæœåŠ¡">æš‚åœuhttpdæœåŠ¡&lt;/h2>
&lt;p>uhttpdæœåŠ¡å ç”¨äº†80ç«¯å£ï¼Œéœ€è¦å…ˆæš‚åœã€‚ä½¿ç”¨sshç™»å½•openwrtï¼Œæ‰§è¡Œä¸‹é¢å‘½ä»¤æš‚åœuhttpdæœåŠ¡ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">/etc/init.d/uhttpd stop
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/etc/init.d/uhttpd disable
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="ä¸‹è½½caddy">ä¸‹è½½caddy&lt;/h2>
&lt;p>è®¿é—®&lt;a class="link" href="https://caddyserver.com/download" target="_blank" rel="noopener"
>caddyå®˜ç½‘&lt;/a>ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„caddyï¼Œintel cpuéœ€è¦ä¸‹è½½&lt;code>Linux amd64&lt;/code>ç‰ˆæœ¬ï¼Œé¢å¤–åŠŸèƒ½æ¨¡å—é€‰ä¸Š&lt;code>aksdb/caddy-cgi/v2&lt;/code>ã€‚
&lt;img src="https://blog.xenori.com/2021/08/openwrt-caddy-replace-uhttpd/1.jpg"
width="2732"
height="648"
srcset="https://blog.xenori.com/2021/08/openwrt-caddy-replace-uhttpd/1_hu3cc7554004a4f82bf46186159a47e918_161268_480x0_resize_q75_box.jpg 480w, https://blog.xenori.com/2021/08/openwrt-caddy-replace-uhttpd/1_hu3cc7554004a4f82bf46186159a47e918_161268_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="421"
data-flex-basis="1011px"
>&lt;/p>
&lt;p>ä¸‹è½½åæ”¾åˆ°&lt;code>/usr/bin&lt;/code>ç›®å½•ä¸‹ï¼Œå¹¶é‡å‘½åä¸º&lt;code>caddy&lt;/code>ï¼Œå¹¶ç»™äºˆæ‰§è¡Œæƒé™ï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code>wget &amp;#34;https://caddyserver.com/api/download\?os\=linux\&amp;amp;arch\=amd64\&amp;amp;p\=github.com%2Faksdb%2Fcaddy-cgi%2Fv2\&amp;amp;idempotency\=32032912354333&amp;#34; -o /usr/bin/caddy
chmod +x /usr/bin/caddy
&lt;/code>&lt;/pre>&lt;h2 id="é…ç½®caddy">é…ç½®caddy&lt;/h2>
&lt;p>å¢åŠ ä¸‹é¢çš„é…ç½®ï¼Œå¹¶æ”¾åˆ°&lt;code>/etc/caddy/Caddyfile&lt;/code>æ–‡ä»¶ä¸­ï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code>{
order cgi before respond
}
:80 {
@notcgi {
not path /cgi-bin/*
not path /
}
redir / /cgi-bin/luci
file_server @notcgi {
root /www
}
cgi /cgi-bin/luci* /www/cgi-bin/luci {
script_name /cgi-bin/luci
# ä¸‹é¢è¿™å¥å¾ˆé‡è¦ï¼Œè¦ä¸ç„¶éƒ¨åˆ†æœåŠ¡æ§åˆ¶å°ä¼šå·¥ä½œä¸æ­£å¸¸
unbuffered_output
}
}
&lt;/code>&lt;/pre>&lt;h2 id="å¢åŠ å¯åŠ¨è„šæœ¬">å¢åŠ å¯åŠ¨è„šæœ¬&lt;/h2>
&lt;p>å¢åŠ è‡ªå¯åŠ¨è„šæœ¬ï¼Œå¹¶ä¿å­˜åˆ°&lt;code>/etc/init.d/caddy&lt;/code>ä¸­ï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code>#!/bin/sh /etc/rc.common
START=99
SERVICE_USE_PID=1
SERVICE_WRITE_PID=1
SERVICE_DAEMONIZE=1
start() {
service_start /usr/bin/caddy run --config /etc/caddy/Caddyfile
}
stop() {
service_stop /usr/bin/caddy
}
&lt;/code>&lt;/pre>&lt;p>ç»™äºˆæ‰§è¡Œæƒé™ï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code>chmod +x /etc/init.d/caddy
&lt;/code>&lt;/pre>&lt;h2 id="è¿è¡Œ">è¿è¡Œ&lt;/h2>
&lt;p>æ‰§è¡Œä¸‹é¢è„šæœ¬è¿è¡ŒcaddyæœåŠ¡ï¼Œå¹¶åŠ å…¥åˆ°è‡ªå¯åŠ¨ä¸­ï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code>/etc/init.d/caddy enable
/etc/init.d/caddy start
&lt;/code>&lt;/pre>&lt;p>æˆåŠŸå¯åŠ¨åï¼Œå°±å¯ä»¥æ­£å¸¸è®¿é—®åå°äº†ï¼šï¼‰&lt;/p></description></item><item><title>Windowsä¸‹è·å–é¼ æ ‡å½“å‰é€‰ä¸­æ–‡å­—</title><link>https://blog.xenori.com/2021/05/get-selected-text-in-windows/</link><pubDate>Thu, 13 May 2021 15:43:11 +0800</pubDate><guid>https://blog.xenori.com/2021/05/get-selected-text-in-windows/</guid><description>&lt;img src="https://blog.xenori.com/2021/05/get-selected-text-in-windows/cover.png" alt="Featured image of post Windowsä¸‹è·å–é¼ æ ‡å½“å‰é€‰ä¸­æ–‡å­—" />&lt;p>Macä¸‹çš„PopClipæ˜¯æˆ‘å¾ˆå–œæ¬¢çš„åº”ç”¨ï¼Œä¸€ç›´æƒ³åœ¨Windowsä¸‹æ‰¾ä¸ªæ›¿ä»£çš„ï¼Œä½†ä¸€ç›´æ²¡æ‰¾åˆ°ï¼Œå°±å‡†å¤‡è‡ªå·±ç®€å•å®ç°ä¸€ä¸ªã€‚ä½†ç ”ç©¶åå‘ç°ï¼ŒWindowsä¸‹æ˜¯æ²¡æœ‰ç»Ÿä¸€çš„APIæ¥å£æ¥è·å–å½“å‰ç”¨æˆ·é€‰ä¸­æ–‡å­—çš„ã€‚å•†ä¸šåŒ–çš„&lt;a class="link" href="https://www.textcapture.com/gb/getword.htm" target="_blank" rel="noopener"
>GetWord&lt;/a>ç»„ä»¶å¯ä»¥å®ç°ï¼Œæ•ˆæœä¸é”™ï¼Œä½†æ˜¯è¿™ç»„ä»¶æ˜¯ä¸èƒ½å…è´¹åœ¨éå•†ä¸šåº”ç”¨ä¸­ä½¿ç”¨çš„ã€‚&lt;/p>
&lt;p>ç»è¿‡ä¸€ç•ªç½‘ç»œæŸ¥æ‰¾åï¼Œå‘ç°æœ‰å‡ ä¸ªæ–¹æ¡ˆå¯ä»¥è·å–åˆ°ï¼Œä½†éƒ½æœ‰ä¼˜ç¼ºç‚¹ï¼Œéƒ½ä¸å®Œç¾ï¼Œéœ€è¦æŠŠå‡ ç§æ–¹æ¡ˆç»“åˆèµ·æ¥ä½¿ç”¨æ‰èƒ½è·å–å¤§éƒ¨åˆ†æƒ…æ™¯ä¸‹çš„é€‰ä¸­æ–‡å­—ã€‚ä¸‹é¢è®°å½•ä¸‹è¿™å‡ ç§ä¸åŒçš„å®ç°æ–¹æ¡ˆï¼š&lt;/p>
&lt;h2 id="microsoft-ui-automation">Microsoft UI Automation&lt;/h2>
&lt;p>&lt;a class="link" href="https://docs.microsoft.com/zh-cn/dotnet/framework/ui-automation/" target="_blank" rel="noopener"
>Microsoft UI Automation&lt;/a>æ˜¯UIçš„è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶ï¼Œæä¾›å¯¹windowsç”¨æˆ·ç•Œé¢ï¼ˆUIï¼‰ç›¸å…³ä¿¡æ¯çš„ç¼–ç¨‹è®¿é—®ã€‚å®ƒæä¾›çš„&lt;a class="link" href="https://docs.microsoft.com/en-us/windows/win32/api/uiautomationclient/nn-uiautomationclient-iuiautomationtextpattern" target="_blank" rel="noopener"
>IUIAutomationTextPattern&lt;/a>æ¥å£ï¼Œå¯ä»¥ç”¨æ¥è·å–æ–‡æœ¬æ§ä»¶çš„é€‰ä¸­å†…å®¹ï¼Œè·å–ç¤ºä¾‹ï¼ˆC#ï¼‰ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-c#" data-lang="c#">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">var&lt;/span> &lt;span class="n">el&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">AutomationElement&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">FocusedElement&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">object&lt;/span> &lt;span class="n">pattern&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">el&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">TryGetCurrentPattern&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">TextPattern&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">Pattern&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">out&lt;/span> &lt;span class="n">pattern&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">var&lt;/span> &lt;span class="n">selectRanges&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="p">((&lt;/span>&lt;span class="n">TextPattern&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="n">pattern&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="n">GetSelection&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">foreach&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">var&lt;/span> &lt;span class="n">rng&lt;/span> &lt;span class="k">in&lt;/span> &lt;span class="n">selectRanges&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">WriteLine&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">rng&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">GetText&lt;/span>&lt;span class="p">(-&lt;/span>&lt;span class="m">1&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;div class="notices success" >&lt;blockquote>&lt;p>ä¼˜ç‚¹ï¼šå®˜æ–¹æ”¯æŒçš„æ¥å£ï¼Œedgeã€chromeç­‰æµè§ˆå™¨å†…å®¹éƒ½èƒ½è·å–åˆ°&lt;/p>
&lt;/blockquote>&lt;/div>
&lt;div class="notices " >&lt;blockquote>&lt;p>ç¼ºç‚¹ï¼šå¾ˆå¤šåº”ç”¨ä¸æ”¯æŒè¿™æ¥å£ï¼Œæˆ–æ”¯æŒå¾—ä¸å¥½ï¼Œæµ‹è¯•å‘ç°æœ‰äº›ä½¿ç”¨.Netç»„ä»¶èƒ½è·å–çš„ï¼Œä½†è‡ªå·±ç”¨Go+Win32å°±æ²¡æ³•æ­£ç¡®è·å–&lt;/p>
&lt;/blockquote>&lt;/div>
&lt;h2 id="em_getsel--wm_gettext-message">EM_GETSEL &amp;amp; WM_GETTEXT message&lt;/h2>
&lt;p>å‘windowsçª—å£å‘é€&lt;a class="link" href="https://docs.microsoft.com/en-us/windows/win32/controls/em-getsel" target="_blank" rel="noopener"
>EM_GETSEL&lt;/a>æ¶ˆæ¯ï¼Œå¯ä»¥è·å–åˆ°ç¼–è¾‘æ§ä»¶å½“å‰é€‰ä¸­æ–‡æœ¬çš„èµ·å§‹å’Œç»“æŸç´¢å¼•ä½ç½®ï¼Œç»“åˆ&lt;a class="link" href="https://docs.microsoft.com/en-us/windows/win32/winmsg/wm-gettext" target="_blank" rel="noopener"
>WM_GETTEXT&lt;/a>è·å–ç¼–è¾‘æ§ä»¶å½“å‰æ–‡æœ¬å†…å®¹ï¼Œå°±èƒ½è®¡ç®—å‡ºé€‰ä¸­çš„æ–‡å­—ï¼Œè·å–ç¤ºä¾‹ï¼ˆGoï¼‰ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">getSelection&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">error&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// attach to other windows thread
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">var&lt;/span> &lt;span class="nx">processId&lt;/span> &lt;span class="kt">uint32&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">attach&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">forgroundWnd&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">win&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">GetForegroundWindow&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">targetThreadId&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">GetWindowThreadProcessId&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">forgroundWnd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">processId&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">currentThreadId&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">GetCurrentThreadId&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">targetThreadId&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="nx">currentThreadId&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">attach&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">AttachThreadInput&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">currentThreadId&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">targetThreadId&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">attach&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="s">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Errorf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;AttachThreadInput failed&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">focusWnd&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">win&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">GetFocus&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//Get total text length
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">textlength&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nb">uint32&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">win&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">SendMessage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">focusWnd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">win&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">WM_GETTEXTLENGTH&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//Have any text at all?
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="nx">textlength&lt;/span> &lt;span class="p">&amp;gt;&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">textlength&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">textlength&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//Get selection
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">selstart&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">selend&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">win&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">SendMessage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">focusWnd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">win&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">EM_GETSEL&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">uintptr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">unsafe&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Pointer&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">selstart&lt;/span>&lt;span class="p">)),&lt;/span> &lt;span class="nb">uintptr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">unsafe&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Pointer&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">selend&lt;/span>&lt;span class="p">)))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">sb&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nb">make&lt;/span>&lt;span class="p">([]&lt;/span>&lt;span class="kt">uint16&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">textlength&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">win&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">SendMessage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">focusWnd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">win&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">WM_GETTEXT&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">uintptr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">textlength&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="nb">uintptr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">unsafe&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Pointer&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">sb&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">])))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//Slice out selection
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">value&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">syscall&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">UTF16ToString&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">sb&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">length&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nb">len&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">length&lt;/span> &lt;span class="p">&amp;gt;&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">selend&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">selstart&lt;/span> &lt;span class="p">&amp;gt;&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">selstart&lt;/span> &lt;span class="p">&amp;lt;&lt;/span> &lt;span class="nx">length&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">selend&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="nx">length&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">attach&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">AttachThreadInput&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">currentThreadId&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">targetThreadId&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">value&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">selstart&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nx">selend&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="kc">nil&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">attach&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">AttachThreadInput&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">currentThreadId&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">targetThreadId&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//Failed :(
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="s">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Errorf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;get selected failed&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;div class="notices success" >&lt;blockquote>&lt;p>ä¼˜ç‚¹ï¼šæ”¯æŒæ—§çš„winformã€win32åº”ç”¨&lt;/p>
&lt;/blockquote>&lt;/div>
&lt;div class="notices " >&lt;blockquote>&lt;p>ç¼ºç‚¹ï¼šæ–°çš„WPFã€UWPåº”ç”¨ä¸æ”¯æŒ&lt;/p>
&lt;/blockquote>&lt;/div>
&lt;h2 id="hook-textout-api">Hook TextOut API&lt;/h2>
&lt;p>éƒ¨åˆ†windowsåº”ç”¨æˆ–æ¸¸æˆæ˜¯é€šè¿‡åº•å±‚GDI++çš„&lt;a class="link" href="https://docs.microsoft.com/en-us/windows/win32/api/wingdi/nf-wingdi-textoutw" target="_blank" rel="noopener"
>TextOutW&lt;/a>æˆ–&lt;a class="link" href="https://docs.microsoft.com/en-us/windows/win32/api/wingdi/nf-wingdi-exttextoutw" target="_blank" rel="noopener"
>ExtTextOutW&lt;/a>æ¥å£æ¸²æŸ“æ–‡å­—çš„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡HOOKæŠ€æœ¯ï¼ŒæŠŠè¿™äº›æ¥å£æ›¿æ¢ä¸ºæˆ‘ä»¬è‡ªå·±çš„æ¥å£ï¼Œè°ƒç”¨&lt;a class="link" href="https://docs.microsoft.com/en-us/windows/win32/api/winuser/nf-winuser-invalidaterect" target="_blank" rel="noopener"
>InvalidateRect&lt;/a>è®©åº”ç”¨é‡ç»˜ä¸‹é¼ æ ‡åˆ’è¿‡çš„åŒºåŸŸï¼Œè¿™æ ·åº”ç”¨å†è°ƒç”¨ExTextOutWæ¥å£æ¸²æŸ“æ—¶ï¼Œå°±èƒ½æ‹¿åˆ°ç›¸åº”çš„æ–‡å­—äº†ã€‚å…·ä½“åŸç†å¯ä»¥å‚è€ƒè¿™ç¯‡è®ºæ–‡ï¼š&lt;a class="link" href="https://scialert.net/fulltext/?doi=itj.2013.1668.1672#1147370_ja" target="_blank" rel="noopener"
>Principle of Capturing Word from Screen and Its Implement Methods&lt;/a>ï¼Œç›¸å…³ç¤ºä¾‹é¡¹ç›®å¯å‚è€ƒï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://github.com/Artikash/Textractor" target="_blank" rel="noopener"
>Textractor&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/williammortl/Prochook64/" target="_blank" rel="noopener"
>Prochook64&lt;/a>&lt;/li>
&lt;/ul>
&lt;div class="notices success" >&lt;blockquote>&lt;p>ä¼˜ç‚¹ï¼šæ”¯æŒè·å–æ—§æ¸¸æˆçš„æ–‡æœ¬&lt;/p>
&lt;/blockquote>&lt;/div>
&lt;div class="notices " >&lt;blockquote>&lt;p>ç¼ºç‚¹ï¼šå®ç°éš¾åº¦å¤§ï¼Œç°åœ¨å¤§å¤šæ•°åº”ç”¨éƒ½æ˜¯é€šè¿‡TrueTypeå­—ä½“æ–‡ä»¶æ¸²æŸ“çš„ï¼Œåªèƒ½æ‹¿åˆ°&lt;code>GLYPH_INDEX&lt;/code>ï¼Œæ‹¿ä¸åˆ°æœ€åŸå§‹çš„æ–‡å­—ã€‚&lt;/p>
&lt;/blockquote>&lt;/div>
&lt;h2 id="ocr">OCR&lt;/h2>
&lt;p>æˆªå›¾é¼ æ ‡åˆ’è¿‡çš„åŒºåŸŸï¼Œå†é€šè¿‡OCRå‡ºæ¥æ–‡å­—ï¼Œå¾ˆå¤šè¯å…¸è½¯ä»¶çš„é¼ æ ‡å–è¯é€šè¿‡è¿™æ–¹å¼å®ç°&lt;/p>
&lt;div class="notices success" >&lt;blockquote>&lt;p>ä¼˜ç‚¹ï¼šä»»ä½•windowsåº”ç”¨éƒ½æ”¯æŒ&lt;/p>
&lt;/blockquote>&lt;/div>
&lt;div class="notices " >&lt;blockquote>&lt;p>ç¼ºç‚¹ï¼šOCRå¤„ç†æ…¢ï¼Œæ··åˆå¤šè¯­è¨€æ–‡å­—å‡†ç¡®åº¦ä¸é«˜&lt;/p>
&lt;/blockquote>&lt;/div>
&lt;h2 id="clipboard">Clipboard&lt;/h2>
&lt;p>é€šè¿‡æ¨¡æ‹Ÿå¤åˆ¶å‘½ä»¤ï¼ŒæŠŠé€‰ä¸­æ–‡å­—å…ˆå¤åˆ¶åˆ°å‰ªè´´æ¿ï¼Œå†ä»å‰ªè´´æ¿å–å‡ºæ¥ã€‚ä½¿ç”¨ç¤ºä¾‹ï¼ˆGoï¼‰ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">getSelectionByClipboard&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">error&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">hwnd&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">win&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">GetForegroundWindow&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">winText&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nb">make&lt;/span>&lt;span class="p">([]&lt;/span>&lt;span class="kt">uint16&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1000&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">GetWindowText&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">hwnd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">winText&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="nb">uint32&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">len&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">winText&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">windowName&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">syscall&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">UTF16ToString&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">winText&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// save old clipboard content
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">oldClipboardText&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">_&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">GetClipboardText&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// current sequentNumber
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">oldSeqNumber&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">_&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">GetClipboardSequenceNumber&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// send ctrl+c copy event
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="nx">strings&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Contains&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">windowName&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;Internet Explore&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="nx">strings&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Contains&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">windowName&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;Microsoft Edge&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Internet Explore ignore ctrl+c click event
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">win&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">PostMessage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">hwnd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">win&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">WM_COMMAND&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mh">0x0001000f&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// send selected to clipboard
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nf">SendCopy&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">clipboardChange&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span>&lt;span class="nf">waitForClipboardChange&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">oldSeqNumber&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">clipboardChange&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">text&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">_&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">GetClipboardText&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// restore old clipborad state
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nf">UpdateClipboardText&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">oldClipboardText&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">text&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">nil&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//Failed :(
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="s">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Errorf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;get selected failed&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">waitForClipboardChange&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">oldSeqNumber&lt;/span> &lt;span class="kt">uint32&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="kd">chan&lt;/span> &lt;span class="kt">bool&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">waitChangeCh&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nb">make&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">chan&lt;/span> &lt;span class="kt">bool&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">timeout&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="mi">200&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">runTime&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">changeCheckTimer&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">time&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">NewTimer&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">10&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="nx">time&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Microsecond&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">go&lt;/span> &lt;span class="kd">func&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;-&lt;/span>&lt;span class="nx">changeCheckTimer&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">C&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">seqNumber&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">_&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">GetClipboardSequenceNumber&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">seqNumber&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="nx">oldSeqNumber&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">waitChangeCh&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">runTime&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">10&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">runTime&lt;/span> &lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nx">timeout&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">waitChangeCh&lt;/span> &lt;span class="o">&amp;lt;-&lt;/span> &lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">changeCheckTimer&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Reset&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">10&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="nx">time&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Microsecond&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">waitChangeCh&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;div class="notices success" >&lt;blockquote>&lt;p>ä¼˜ç‚¹ï¼šæ”¯æŒå¤åˆ¶çš„åº”ç”¨éƒ½å¯ä»¥æ”¯æŒï¼Œå¦‚excelï¼Œwordç­‰&lt;/p>
&lt;/blockquote>&lt;/div>
&lt;div class="notices " >&lt;blockquote>&lt;p>ç¼ºç‚¹ï¼šæ±¡æŸ“ç³»ç»Ÿå‰ªè´´æ¿ï¼Œå½“ç”¨æˆ·æœ‰ä½¿ç”¨å‰ªè´´æ¿å†å²è½¯ä»¶æ—¶ï¼Œä¼šçœ‹åˆ°æ‰€æœ‰é€‰ä¸­çš„æ–‡å­—&lt;/p>
&lt;/blockquote>&lt;/div></description></item><item><title>mkvä¿®æ”¹åŠ å­—å¹•-dtséŸ³é¢‘è½¬ac3</title><link>https://blog.xenori.com/2021/02/mkv-edit/</link><pubDate>Sun, 28 Feb 2021 15:43:11 +0800</pubDate><guid>https://blog.xenori.com/2021/02/mkv-edit/</guid><description>&lt;img src="https://blog.xenori.com/2021/02/mkv-edit/cover.jpg" alt="Featured image of post mkvä¿®æ”¹åŠ å­—å¹•-dtséŸ³é¢‘è½¬ac3" />&lt;p>è¿‘æ’æŠ˜è…¾ jellyfin çš„ DLNA æœåŠ¡æ—¶ï¼Œå‘ç° DLNA æœ‰å¾ˆå¤šé™åˆ¶ï¼šä¸æ”¯æŒå¤–æŒ‚å­—å¹•ï¼ŒDTS éŸ³é¢‘çš„è§†é¢‘æ–‡ä»¶æ²¡æ³•æ’­æ”¾å£°éŸ³ç­‰ã€‚ä¸‹é¢ä»‹ç»å‡ ç§ mkv è§†é¢‘æ–‡ä»¶çš„ä¿®æ”¹æ–¹æ³•ï¼Œä»¥æ»¡è¶³ DLNA çš„æ’­æ”¾éœ€æ±‚ã€‚&lt;/p>
&lt;h2 id="mkv-å¢åŠ ä¸­æ–‡å­—å¹•">mkv å¢åŠ ä¸­æ–‡å­—å¹•&lt;/h2>
&lt;p>ç›¸å…³è½¯ä»¶ï¼š&lt;a class="link" href="https://mkvtoolnix.download/" target="_blank" rel="noopener"
>mkvtoolnix&lt;/a>&lt;/p>
&lt;p>ä¸‹è½½åœ°å€ï¼š&lt;a class="link" href="https://pan.baidu.com/s/1J-vXqkArWMSmB3wfDBi-Yg" target="_blank" rel="noopener"
>https://pan.baidu.com/s/1J-vXqkArWMSmB3wfDBi-Yg&lt;/a> æå–ç : vamn&lt;/p>
&lt;p>å¤§å®¶å¯ä»¥åˆ°å®˜ç½‘ä¸‹è½½æœ€æ–°ç‰ˆï¼Œä¸‹è½½åï¼Œæ‰¾åˆ°&lt;code>mkvtoolnix-gui.exe&lt;/code>æ‰“å¼€ï¼ŒæŠŠ mkv æ‹–è¿›ç•Œé¢ï¼Œå°±å¯ä»¥çœ‹åˆ° mkv å°è£…çš„æ–‡ä»¶å†…å®¹äº†ï¼š
&lt;img src="https://blog.xenori.com/2021/02/mkv-edit/1.png"
width="2161"
height="1417"
srcset="https://blog.xenori.com/2021/02/mkv-edit/1_hud6df3e7672d5913fad6e0284d586202d_157266_480x0_resize_box_3.png 480w, https://blog.xenori.com/2021/02/mkv-edit/1_hud6df3e7672d5913fad6e0284d586202d_157266_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="152"
data-flex-basis="366px"
>&lt;/p>
&lt;p>ç‚¹å‡»æœ€ä¸‹é¢çš„&lt;code>æ·»åŠ è¾“å…¥æ–‡ä»¶&lt;/code>ï¼Œé€‰æ‹©&lt;code>src&lt;/code>æ ¼å¼çš„å­—å¹•æ–‡ä»¶ï¼Œç¡®è®¤åå°±å¯ä»¥çœ‹åˆ°æ–°å­—å¹•å·²æ·»åŠ åˆ°æ–‡ä»¶åˆ—è¡¨æœ€ä¸‹æ–¹äº†
&lt;img src="https://blog.xenori.com/2021/02/mkv-edit/2.png"
width="2161"
height="1417"
srcset="https://blog.xenori.com/2021/02/mkv-edit/2_hu8cf2d4e36c5bc9a57288c6a23af19b48_167900_480x0_resize_box_3.png 480w, https://blog.xenori.com/2021/02/mkv-edit/2_hu8cf2d4e36c5bc9a57288c6a23af19b48_167900_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="152"
data-flex-basis="366px"
>&lt;/p>
&lt;p>ç”¨é¼ æ ‡å¯ä»¥æ‹–åŠ¨å­—å¹•æ–‡ä»¶çš„é¡ºåºï¼Œå‡å¦‚ä½ æƒ³æ–°å­—å¹•é»˜è®¤æ˜¾ç¤ºï¼Œå¯ä»¥æŠŠæ–°åŠ çš„å­—å¹•æ‹–åˆ°æ‰€æœ‰å­—å¹•çš„æœ€ä¸Šé¢ï¼Œå¹¶åœ¨å³è¾¹å±æ€§æ¡†ä¸­ï¼ŒæŠŠ&lt;code>é»˜è®¤è½¨é“æ ‡è®°&lt;/code>è®¾ä¸º&lt;code>æ˜¯&lt;/code>ï¼Œè¿™æ ·æ¯æ¬¡æ‰“å¼€è§†é¢‘ï¼Œå°±ä¼šé»˜è®¤æ˜¾ç¤ºæ–°åŠ çš„å­—å¹•äº†
&lt;img src="https://blog.xenori.com/2021/02/mkv-edit/3.png"
width="2161"
height="1417"
srcset="https://blog.xenori.com/2021/02/mkv-edit/3_hu8cf2d4e36c5bc9a57288c6a23af19b48_167165_480x0_resize_box_3.png 480w, https://blog.xenori.com/2021/02/mkv-edit/3_hu8cf2d4e36c5bc9a57288c6a23af19b48_167165_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="152"
data-flex-basis="366px"
>&lt;/p>
&lt;p>ç‚¹å‡»æœ€ä¸‹é¢çš„&lt;code>å¼€å§‹æ··æµ&lt;/code>æŒ‰é’®ï¼Œç­‰è¿›åº¦æ¡è·‘åˆ° 100%ï¼Œå°±åˆæˆè¾“å‡ºæ–°çš„ mkv æ–‡ä»¶äº†ï¼šï¼‰
&lt;img src="https://blog.xenori.com/2021/02/mkv-edit/4.png"
width="2161"
height="1417"
srcset="https://blog.xenori.com/2021/02/mkv-edit/4_hu8cf2d4e36c5bc9a57288c6a23af19b48_165832_480x0_resize_box_3.png 480w, https://blog.xenori.com/2021/02/mkv-edit/4_hu8cf2d4e36c5bc9a57288c6a23af19b48_165832_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="152"
data-flex-basis="366px"
>&lt;/p>
&lt;h2 id="mkv-çš„-dts-éŸ³é¢‘è½¬æ¢ä¸º-ac3">mkv çš„ dts éŸ³é¢‘è½¬æ¢ä¸º ac3&lt;/h2>
&lt;p>ç›¸å…³è½¯ä»¶ï¼š&lt;a class="link" href="http://www.heartware.dk/" target="_blank" rel="noopener"
>PopCorn MKV AudioConverter&lt;/a>&lt;/p>
&lt;p>ä¸‹è½½åœ°å€ï¼š&lt;a class="link" href="https://pan.baidu.com/s/1jYv8Y6M49iszq8d30p62ag" target="_blank" rel="noopener"
>https://pan.baidu.com/s/1jYv8Y6M49iszq8d30p62ag&lt;/a> æå–ç : trg6&lt;/p>
&lt;p>æ‰“å¼€è½¯ä»¶ï¼Œç‚¹å‡»&lt;code>File specification&lt;/code>ä¸­çš„&lt;code>Browser&lt;/code>ï¼Œæ‰“å¼€éœ€è½¬æ¢ DTS çš„ mkv è§†é¢‘æ–‡ä»¶ï¼Œæ‰“å¼€ååœ¨ä¸‹æ–¹ä¼šæ˜¾ç¤ºç›¸å…³è§†é¢‘ä¿¡æ¯ã€‚
&lt;img src="https://blog.xenori.com/2021/02/mkv-edit/dts_1.png"
width="2192"
height="1441"
srcset="https://blog.xenori.com/2021/02/mkv-edit/dts_1_huce4be9537b2e752369ed9fb959cd4c5e_119357_480x0_resize_box_3.png 480w, https://blog.xenori.com/2021/02/mkv-edit/dts_1_huce4be9537b2e752369ed9fb959cd4c5e_119357_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="152"
data-flex-basis="365px"
>&lt;/p>
&lt;p>åœ¨å³è¾¹çš„&lt;code>DTS&lt;/code>å±æ€§æ¡†ï¼Œé€‰æ‹©&lt;code>Convert to Dolby Digital&lt;/code>ï¼ŒBitrate ä¸€èˆ¬é€‰æ‹©&lt;code>448&lt;/code>å°±å¯ä»¥äº†ï¼Œ&lt;code>Cleanup DTS track before re-encode&lt;/code>é€‰æ‹©&lt;code>Always&lt;/code>ï¼Œè¿™æ ·ä¼šæŠŠåŸæœ‰çš„ DTS éŸ³è½¨åˆ é™¤ï¼Œé¿å…å½±å“ DLNA æœåŠ¡æ’­æ”¾ã€‚
&lt;img src="https://blog.xenori.com/2021/02/mkv-edit/dts_2.png"
width="2192"
height="1304"
srcset="https://blog.xenori.com/2021/02/mkv-edit/dts_2_hu297745a1f9178dfdd53211338a0fb34e_115148_480x0_resize_box_3.png 480w, https://blog.xenori.com/2021/02/mkv-edit/dts_2_hu297745a1f9178dfdd53211338a0fb34e_115148_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="168"
data-flex-basis="403px"
>&lt;/p>
&lt;p>ç‚¹å‡»&lt;code>File specification&lt;/code>ä¸­çš„&lt;code>Run&lt;/code>æŒ‰é’®ï¼Œå°±ä¼šå¼€å§‹ç¼–ç ç”Ÿæˆæ–°çš„ mkv æ–‡ä»¶äº†ï¼šï¼‰
&lt;img src="https://blog.xenori.com/2021/02/mkv-edit/dts_3.png"
width="2192"
height="1303"
srcset="https://blog.xenori.com/2021/02/mkv-edit/dts_3_hu1ceda27dbd594766223579b0147ae02d_113882_480x0_resize_box_3.png 480w, https://blog.xenori.com/2021/02/mkv-edit/dts_3_hu1ceda27dbd594766223579b0147ae02d_113882_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="168"
data-flex-basis="403px"
>&lt;/p></description></item><item><title>å¸¸ç”¨gitå‘½ä»¤</title><link>https://blog.xenori.com/2021/02/git-commands/</link><pubDate>Mon, 22 Feb 2021 16:58:10 +0800</pubDate><guid>https://blog.xenori.com/2021/02/git-commands/</guid><description>&lt;img src="https://blog.xenori.com/2021/02/git-commands/cover.png" alt="Featured image of post å¸¸ç”¨gitå‘½ä»¤" />&lt;h2 id="åˆ›å»ºåˆ†æ”¯">åˆ›å»ºåˆ†æ”¯&lt;/h2>
&lt;h3 id="æ ¹æ®-commit-åˆ›å»ºæ–°åˆ†æ”¯">æ ¹æ® commit åˆ›å»ºæ–°åˆ†æ”¯&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">git checkout -b branch_name commit_id_xxx
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="å›æ»š">å›æ»š&lt;/h2>
&lt;h3 id="è¿˜åŸæœ¬åœ°ä¿®æ”¹è¿‡çš„æ–‡ä»¶">è¿˜åŸæœ¬åœ°ä¿®æ”¹è¿‡çš„æ–‡ä»¶&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ä¼šè¿˜åŸæœ¬åœ°æ‰€æœ‰ä¿®æ”¹è¿‡çš„æ–‡ä»¶ï¼ï¼&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git checkout .
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># åˆ é™¤æ–°å¢æœªç›‘è§†çš„æ–‡ä»¶(untracked files)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git clean -fd
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="ä¸¢å¼ƒæœ¬åœ°ä¸Šä¸€æ¬¡æäº¤">ä¸¢å¼ƒæœ¬åœ°ä¸Šä¸€æ¬¡æäº¤&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å›é€€åˆ°ä¸Šä¸€ä¸ª commit ç‰ˆæœ¬&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git reset HEAD^
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="å›æ»šåˆ°æŒ‡å®šç‰ˆæœ¬">å›æ»šåˆ°æŒ‡å®šç‰ˆæœ¬&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è¿˜åŸåˆ°æŒ‡å®šçš„æ—§ç‰ˆæœ¬&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git reset --hard &amp;lt;old_commit_id&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è¿˜åŸåˆ°ä¸Šä¸€ç‰ˆæœ¬&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git reset HEAD^
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ–°ä¿®æ”¹å¤„ç†...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å¼ºåˆ¶pushæ›´æ–°è¦†ç›–è¿œç¨‹ä»“åº“&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git push -f origin master
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="æ ‡ç­¾-tag">æ ‡ç­¾ tag&lt;/h2>
&lt;h3 id="åˆ é™¤æŒ‡å®š-tag">åˆ é™¤æŒ‡å®š tag&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å…ˆåˆ é™¤è¿œç¨‹tag&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git push origin :refs/tags/v0.x.x
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å†åˆ é™¤æœ¬åœ°tag&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git tag -d v0.x.x
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="åˆ é™¤åŒ¹é…çš„éƒ¨åˆ†-tag">åˆ é™¤åŒ¹é…çš„éƒ¨åˆ† tag&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å…ˆåˆ é™¤è¿œç¨‹tagï¼Œæ”¯æŒ*æ¨¡ç³ŠåŒ¹é…&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git push -d origin &lt;span class="k">$(&lt;/span>git tag -l &lt;span class="s2">&amp;#34;v0.1*&amp;#34;&lt;/span>&lt;span class="k">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å†åˆ é™¤æœ¬åœ°tag&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git tag -d &lt;span class="k">$(&lt;/span>git tag -l &lt;span class="s2">&amp;#34;v0.1*&amp;#34;&lt;/span>&lt;span class="k">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="åˆ é™¤æ‰€æœ‰-tags">åˆ é™¤æ‰€æœ‰ tags&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å…ˆåˆ é™¤æ‰€æœ‰è¿œç¨‹tag&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git tag -l &lt;span class="p">|&lt;/span> xargs -n &lt;span class="m">1&lt;/span> git push --delete origin
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å†åˆ é™¤æ‰€æœ‰æœ¬åœ°tag&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git tag &lt;span class="p">|&lt;/span> xargs git tag -d
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="commit-ä¿®æ”¹">Commit ä¿®æ”¹&lt;/h2>
&lt;h3 id="æ¸…ç©ºæ‰€æœ‰å†å²-commit">æ¸…ç©ºæ‰€æœ‰å†å² commit&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># åˆ›å»ºæ–°çš„masteråˆ†æ”¯&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git checkout --orphan new_master
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git add -A
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git commit -am &lt;span class="s2">&amp;#34;First commit&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># åˆ é™¤æ—§masteråˆ†æ”¯&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git branch -D master
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ–°masteråˆ†æ”¯æ”¹åä¸ºmaster&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git branch -m master
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å¼ºåˆ¶pushæ›´æ–°è¦†ç›–è¿œç¨‹ä»“åº“&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git push -f origin master
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="åˆå¹¶å¤šä¸ª-commit">åˆå¹¶å¤šä¸ª commit&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># åˆ‡æ¢å›masteråˆ†æ”¯ï¼Œå¹¶è·å–æœ€æ–°ä»£ç &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git checkout master
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git pull
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æŠŠåˆ†æ”¯çš„å¤šä¸ªæäº¤åˆå¹¶ä¸ºä¸€ä¸ª&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git merge --squash feature-branch-xxxx
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git commit -m &lt;span class="s2">&amp;#34;merge commit message&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git push
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="å¤šå¸å·">å¤šå¸å·&lt;/h2>
&lt;h3 id="æäº¤æ—¶æç¤ºè¾“å…¥å¸å·">æäº¤æ—¶æç¤ºè¾“å…¥å¸å·&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">git config --local credential.helper &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># gitåœ°å€è¦ä½¿ç”¨httpåè®®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git remote set-url origin https://xxx.com/xxx.git
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>2020å¹´åº¦æ€»ç»“</title><link>https://blog.xenori.com/2021/01/the-summary-of-2020/</link><pubDate>Fri, 15 Jan 2021 16:03:08 +0800</pubDate><guid>https://blog.xenori.com/2021/01/the-summary-of-2020/</guid><description>&lt;img src="https://blog.xenori.com/2021/01/the-summary-of-2020/cover.jpg" alt="Featured image of post 2020å¹´åº¦æ€»ç»“" />&lt;p>ä»Šå¹´å¯¹å¤§éƒ¨åˆ†äººæ¥è¯´ï¼Œéƒ½ä¼šæ˜¯éš¾å¿˜å’Œéš¾è¿‡çš„ä¸€å¹´ã€‚å¹´åˆæ–°å† è‚ºç‚å¤§çˆ†å‘ï¼Œåˆ°å¤„å¯¸æ­¥éš¾è¡Œï¼Œé£Ÿè‚†å·¥å‚å…³é—­ã€‚å¹´ä¸­ä¸­ç¾å…³ç³»åŠ å‰§æ¶åŒ–ï¼Œä¸­å°è¾¹å¢ƒç´§å¼ ï¼Œè®©äººå¯¹æœªæ¥å‡ å¹´çš„å½¢åŠ¿è¶Šæ¥è¶Šæ‹…å¿§ï¼Œå¹´æœ«æ–°å† è‚ºç‚å†æ¬¡æ¥è¢­ï¼Œå¸Œæœ›ä¸ä¼šå†å‡ºç°å¤§çˆ†å‘äº†ã€‚&lt;/p>
&lt;hugo-encrypt>
&lt;div class="hugo-encrypt-encryption-notice">
&lt;p class="hugo-encryptor-tips">æ–‡ç« çš„éƒ¨åˆ†å†…å®¹è¢«å¯†ç ä¿æŠ¤ï¼š&lt;/p>
&lt;noscript>&lt;span id="hugo-encrypt-enable-js">Javascript needs to be enabled to decrypt content&lt;/span>&lt;/noscript>
&lt;div class='hugo-encrypt-form'>
&lt;input
class="hugo-encrypt-input"
id="hugo-encrypt-password"
placeholder='è¯·è¾“å…¥å¯†ç '
/>
&lt;input
class="hugo-encrypt-button"
type="button"
value='ç‚¹å‡»éªŒè¯'
id="button" onclick="hugoDecrypt(document.getElementById('hugo-encrypt-password').value,'input')"
/>
&lt;span class="hugo-encrypt-input-response">&lt;/span>
&lt;/div>
&lt;/div>
&lt;cipher-text data-password='xenori@#$123' style="display:none;">
&lt;p>ç”Ÿæ´»ä¸Šè¿˜æ˜¯å˜åŒ–ä¸å¤§ï¼Œæ—¶é—´è¶Šæ¥è¶Šå¿«äº†ã€‚ä»Šå¹´æ´»å¾—æ¯”è¾ƒé¢“åºŸï¼Œç°åœ¨å¹´é¾„å¤ªå¤§ï¼Œå·¥ä½œä¸å¥½æ‰¾ï¼Œåœ¨è½¬è¡Œå’Œæ‰¾å·¥ä½œé—´ä¸æ–­å¾˜å¾Šã€‚æ¯”è¾ƒç†Ÿçš„æœ‹å‹éƒ½ç»“å©šç”Ÿå­äº†ï¼Œå¹³æ—¶ä¹Ÿä¸å¥½è”ç³»ä»–ä»¬ï¼Œå¯¹æœªæ¥æ‰¾ä¸åˆ°æ–¹å‘ã€‚&lt;/p>
&lt;p>ä»Šå¹´ç”Ÿæ´»çŠ¶æ€ï¼š&lt;/p>
&lt;ul>
&lt;li>å­¦å®Œè½¦ï¼Œæ‹¿åˆ°C1é©¾ç…§&lt;/li>
&lt;li>æœªæœ‰å¥³æœ‹å‹ï¼Œæœªå©š&lt;/li>
&lt;li>æœªä¼šæ¸¸æ³³&lt;/li>
&lt;/ul>
&lt;/cipher-text>
&lt;style type="text/css">div#hugo-encrypt-sha1sum {display: none;}&lt;/style>
&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/core.js">&lt;/script>
&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/sha1.js">&lt;/script>
&lt;script>
const storageKey = location.pathname + "password";
const userStorage = localStorage ;
function str2buf(str) {
return new TextEncoder("utf-8").encode(str);
}
function buf2str(buffer) {
return new TextDecoder("utf-8").decode(buffer);
}
function hex2buf(hexStr) {
return new Uint8Array(hexStr.match(/.{2}/g).map(h => parseInt(h, 16)));
}
function deriveKey(passphrase, salt) {
salt = salt || crypto.getRandomValues(new Uint8Array(8));
return crypto.subtle
.importKey("raw", str2buf(passphrase), "PBKDF2", false, ["deriveKey"])
.then(key =>
crypto.subtle.deriveKey(
{ name: "PBKDF2", salt, iterations: 1000, hash: "SHA-256" },
key,
{ name: "AES-GCM", length: 256 },
false,
["encrypt", "decrypt"],
),
)
.then(key => [key, salt]);
}
function decrypt(passphrase, saltIvCipherHex) {
const [salt, iv, data] = saltIvCipherHex.split("-").map(hex2buf);
return deriveKey(passphrase, salt)
.then(([key]) => crypto.subtle.decrypt({ name: "AES-GCM", iv }, key, data))
.then(v => buf2str(new Uint8Array(v)));
}
function removeNotice() {
var notices = document.getElementsByClassName("hugo-encrypt-encryption-notice");
for (let i = 0; i &lt; notices.length; i++) {
notices[i].remove();
}
}
const hugoDecrypt = function(password, type) {
for (const cipher of ciphers) {
decrypt(password, cipher.innerText).then(function(decrypted_text) {
let hash = CryptoJS.SHA1(decrypted_text.replace(/\r?\n?[^\r\n]*$/, ""));
let sha1_sum = CryptoJS.enc.Hex.stringify(hash);
if ( decrypted_text.includes(sha1_sum) ) {
removeNotice();
decrypted_text = decrypted_text.replace(/&lt;div.*?hugo-encrypt-sha1sum.*?>.*?&lt;\/div>/ig, '');
cipher.parentNode.outerHTML = decrypted_text;
userStorage.setItem(storageKey, password);
console.log("Decryption successful. Storing password in Storage.");
}
}).catch(function(error) {
if (type === "input") {
cipher.parentNode.querySelector('.hugo-encrypt-input-response').innerHTML = "å¯†ç é”™è¯¯";
console.log('å¯†ç é”™è¯¯', error);
} else if (type === "storage") {
userStorage.removeItem(location.pathname + "password");
console.log("Password changed. Clearing userStorage.", error);
}
});
}
};
&lt;/script>
&lt;script>
window.onload = () => {
ciphers = Array.from(document.querySelectorAll("cipher-text"));
if (userStorage.getItem(storageKey)) {
console.log("Found storageKey in userStorage. Attemtping decryption");
hugoDecrypt(userStorage.getItem(storageKey), "storage");
}
};
&lt;/script>
&lt;/hugo-encrypt>
&lt;p>2020å¹´å¹´åº¦é€‰æ‹©å¦‚ä¸‹ï¼š&lt;/p>
&lt;h2 id="å¹´åº¦æ¸¸æˆ">å¹´åº¦æ¸¸æˆï¼š&lt;/h2>
&lt;ul>
&lt;li>2077èµ›åšæœ‹å…‹&lt;/li>
&lt;li>ç»åœ°æ±‚ç”Ÿï¼ˆæ‰‹æœºï¼‰&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>ä¸ºäº†ç© 2077ï¼Œä¸‹åŠå¹´é…äº†æ–°ç”µè„‘ï¼Œçš„ç¡®ç®—å¥½ç©çš„ï¼Œæ¨èç© PC ç‰ˆã€‚åªæ˜¯ BUG æ¯”è¾ƒå¤šï¼Œä¸»æœºç‰ˆè¢«æ‰¹å¾—ä¸æˆäººå½¢äº†&lt;/p>
&lt;/blockquote>
&lt;h2 id="å¹´åº¦åŠ¨ç”»">å¹´åº¦åŠ¨ç”»ï¼š&lt;/h2>
&lt;ul>
&lt;li>æˆ‘çš„ä¸‰ä½“ä¹‹ç« æ¯”æµ·ä¼ &lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>æ²¡æƒ³åˆ°å”¯ä¸€çš„æ˜¯å›½åˆ›ğŸ˜‚ï¼Œè™½ç„¶ç”»é£ç²¾å¥‡ï¼Œä½†æœ‰ä¸‰ä½“å‰§æœ¬åº•å­åœ¨ï¼Œå†åŠ ä¸Šä¸é”™çš„å®å¤§ç”»é¢è¡¨ç°å’ŒéŸ³ä¹ï¼Œæ˜¯éš¾å¾—çš„ä½³ä½œã€‚æ—¥æœ¬åŠ¨ç”»è¶Šæ¥è¶Šä½å¹¼å–èŒå‘ï¼Œçœ‹ä¸åˆ°å‡ºè·¯ï¼Œå”¯ä¸€æœŸå¾…çš„è¿›å‡»çš„å·¨äººæœ€ç»ˆå­£åˆšå‡ºï¼Œè¦ç®—åˆ° 2021 å¹´äº†ã€‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="å¹´åº¦éŸ³ä¹">å¹´åº¦éŸ³ä¹ï¼š&lt;/h2>
&lt;ul>
&lt;li>æ¨å¼€ä¸–ç•Œçš„é—¨ - æ¨ä¹ƒæ–‡&lt;/li>
&lt;li>è’è›‹ - å¤ªä¸€&lt;/li>
&lt;li>ä¸–ç•Œä¸ä¼šè½»æ˜“å´©å¡Œ - æ‰“æ‰°ä¸€ä¸‹ä¹å›¢&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>ä»Šå¹´çš„æ­Œåªèƒ½æ‹©ä¼˜è®°å½•ä¸‹ï¼Œæ²¡æœ‰ç‰¹åˆ«éå¸¸å–œæ¬¢çš„ï¼Œä¸è¿‡ä»Šå¹´å› ä¸ºå–œæ¬¢çœ‹ç»¼è‰ºçš„åŸå› ï¼Œè®¤è¯†äº†ä¸¤ä¸ªæ–°ç”Ÿä»£ä¸é”™çš„æ­Œæ‰‹ï¼šå¤ªä¸€ã€åæ™¨å®‡ï¼Œæ„Ÿè§‰éƒ½å¾ˆæœ‰æ‰åï¼Œåˆ›ä½œåŠ›ä¹Ÿå¼ºï¼Œæ­Œè¯æœ‰ç‚¹éå¸¸äººæ€ç»´ğŸ˜‚ï¼Œæ„Ÿè§‰ä¸­å›½æµè¡ŒéŸ³ä¹å¼€å§‹æœ‰äº›èµ·è‰²äº†ã€‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="å¹´åº¦ç”µå½±ç”µè§†å‰§">å¹´åº¦ç”µå½±ï¼ˆç”µè§†å‰§ï¼‰ï¼š&lt;/h2>
&lt;ul>
&lt;li>æ²‰é»˜çš„çœŸç›¸&lt;/li>
&lt;li>çœŸç›¸æ•æ‰&lt;/li>
&lt;li>å”äººè¡—æ¢æ¡ˆ&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>ä»Šå¹´å› ç–«æƒ…åŸå› ï¼Œæ²¡ä»€ä¹ˆç”µå½±ä¸Šæ˜ ï¼Œä»Šå¹´éƒ½æ˜¯çœ‹ç”µè§†å‰§ã€‚ã€Šæ²‰é»˜çš„çœŸç›¸ã€‹å’Œã€Šå”äººè¡—æ¢æ¡ˆã€‹ä½¿æˆ‘å¯¹å›½äº§å‰§å¤§å¤§æ”¹è§‚äº†ï¼Œéå¸¸å¥½çœ‹ï¼Œå¼ºçƒˆæ¨èã€‚ã€Šå”äººè¡—æ¢æ¡ˆã€‹è®°å¾—åªéœ€è¦çœ‹å‰ 8 é›†ï¼Œæœ€å 4 é›†æ˜¯é€çš„å¹¿å‘ŠğŸ˜‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="å¹´åº¦å›¾ä¹¦">å¹´åº¦å›¾ä¹¦ï¼š&lt;/h2>
&lt;blockquote>
&lt;p>æ²¡çœ‹ä¹¦ã€‚ã€‚ã€‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="å¹´åº¦app">å¹´åº¦APPï¼š&lt;/h2>
&lt;ul>
&lt;li>bilibili&lt;/li>
&lt;li>é›ªçƒ&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>æ—¥å¸¸ä½¿ç”¨ï¼Œbilibili ä»Šå¹´è‚¡ä»·ç¿»äº†å‡ ç¿»äº†ï¼Œæœ¬æ¥åˆšä¸Šå¸‚æ—¶æƒ³ä¹°çš„ï¼Œä½†ç¾è‚¡å¼€æˆ·æ±‡é‡‘å¤ªå¤æ‚äº†æ²¡æ&lt;/p>
&lt;/blockquote>
&lt;h2 id="å¹´åº¦ç½‘ç«™">å¹´åº¦ç½‘ç«™ï¼š&lt;/h2>
&lt;blockquote>
&lt;p>æ— &lt;/p>
&lt;/blockquote>
&lt;h2 id="å¹´åº¦æ•°ç ">å¹´åº¦æ•°ç ï¼š&lt;/h2>
&lt;ul>
&lt;li>Oculus Quest 2&lt;/li>
&lt;li>Nvidia 3070&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>ç¬¬ä¸€æ¬¡æ¥è§¦ VRï¼Œå¾ˆæ–°å¥‡ï¼Œå°±æ˜¯è¿‘è§†åŸå› ä½©æˆ´ä¸æ–¹ä¾¿ã€‚&lt;/p>
&lt;/blockquote></description></item><item><title>åç¡•ä¸»æ¿AX200ç½‘å¡å¦‚ä½•å¼€å¯WOLç½‘ç»œå”¤é†’</title><link>https://blog.xenori.com/2020/12/intel-ax200-wol/</link><pubDate>Tue, 22 Dec 2020 13:27:10 +0800</pubDate><guid>https://blog.xenori.com/2020/12/intel-ax200-wol/</guid><description>&lt;img src="https://blog.xenori.com/2020/12/intel-ax200-wol/cover.png" alt="Featured image of post åç¡•ä¸»æ¿AX200ç½‘å¡å¦‚ä½•å¼€å¯WOLç½‘ç»œå”¤é†’" />&lt;p>&lt;a class="link" href="https://en.wikipedia.org/wiki/Wake-on-LAN" target="_blank" rel="noopener"
>WOLç½‘ç»œå”¤é†’&lt;/a>æ˜¯ç”¨æ¥å®ç°é€šè¿‡ç‰¹å®šçš„æŒ‡ä»¤å”¤é†’åŒä¸€å±€åŸŸç½‘ä¸‹å·²å…³æœº PC çš„åŠŸèƒ½ã€‚ç°åœ¨å¸¸ç”¨çš„ &lt;code>DLNA&lt;/code> å’Œ &lt;code>moonlight&lt;/code> è½¯ä»¶éƒ½æ”¯æŒ WOL åŠŸèƒ½ï¼Œè¿™ç¯‡æ–‡ç« åªè¦è®°å½•ä¸‹åç¡•ä¸»æ¿å¦‚ä½•æ‰“å¼€ WOL åŠŸèƒ½ï¼ˆå…¶ä»–å‚å•†çš„ä¸»æ¿å¤§åŒå°å¼‚ï¼Œåªè¦æ˜¯ BIOS é€‰é¡¹å’Œç½‘å¡é€‰é¡¹ä¼šæœ‰äº›å·®åˆ«ï¼‰ã€‚å®ç° WOL åŠŸèƒ½çš„ PC ä¸»æœºæ˜¯å¿…é¡»é€šè¿‡ç½‘çº¿è¿æ¥åœ¨åŒä¸€å±€åŸŸç½‘ä¸‹çš„ï¼Œåªæœ‰ WIFI è¿æ¥æ²¡æ³•å®ç°ã€‚&lt;/p>
&lt;h2 id="1ä¸»æ¿-bios-ä¸­æ‰“å¼€-wol-åŠŸèƒ½">1ã€ä¸»æ¿ BIOS ä¸­æ‰“å¼€ WOL åŠŸèƒ½&lt;/h2>
&lt;p>è¿›å…¥ä¸»æ¿BIOSï¼ŒæŠŠå¦‚ä¸‹é…ç½®é¡¹è®¾ä¸º&lt;code>enabled&lt;/code>ï¼ˆä¸åŒçš„ä¸»æ¿ BIOS å¯èƒ½ä¼šæœ‰å‡ºå…¥ï¼Œè¯·ä»¥è¯´æ˜ä¹¦ä¸ºå‡†ï¼‰ï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code>Advanced -&amp;gt; APM Configuration -&amp;gt; Power On By PCI-E/PCI -&amp;gt; Enabled
&lt;/code>&lt;/pre>&lt;p>&lt;img src="https://blog.xenori.com/2020/12/intel-ax200-wol/bios.jpg"
width="1689"
height="752"
srcset="https://blog.xenori.com/2020/12/intel-ax200-wol/bios_hu3c3bff7c1814fb83f5fd3fc244e253df_134841_480x0_resize_q75_box.jpg 480w, https://blog.xenori.com/2020/12/intel-ax200-wol/bios_hu3c3bff7c1814fb83f5fd3fc244e253df_134841_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="224"
data-flex-basis="539px"
>&lt;/p>
&lt;p>&lt;code>Restore AC Power Loss&lt;/code>æœ€å¥½ä¹Ÿè®¾ç½®ä¸º&lt;code>Last State&lt;/code>ï¼Œè¿™æ ·å¯ä»¥ä¿è¯æ–­ç”µæ¢å¤åï¼Œä¹Ÿèƒ½ä¿æŒå”¤é†’ã€‚&lt;/p>
&lt;p>ä¿å­˜åé‡å¯è¿›å…¥ windows&lt;/p>
&lt;h2 id="2é…ç½®-windows-10-ç½‘å¡å±æ€§">2ã€é…ç½® windows 10 ç½‘å¡å±æ€§&lt;/h2>
&lt;div class="notices warning" >&lt;blockquote>&lt;p>å‡å¦‚ç½‘ç»œè®¾ç½®ä¸­æ‰¾ä¸åˆ°ä»¥ä¸Šé€‰é¡¹ï¼Œå¯ä»¥å°è¯•ä¸‹è½½å®‰è£…æœ€æ–°çš„ç½‘å¡é©±åŠ¨ï¼Œwindowsé»˜è®¤çš„ç½‘å¡é©±åŠ¨æœ‰æ—¶ä¼šç¼ºå°‘ä»¥ä¸Šé€‰é¡¹çš„ã€‚&lt;/p>
&lt;/blockquote>&lt;/div>
&lt;p>ç‚¹å‡» windows ä»»åŠ¡æ å³ä¸‹è§’ç½‘ç»œè¿æ¥å›¾æ ‡ï¼Œé€‰æ‹©&lt;code>ç½‘ç»œå’ŒInternetè®¾ç½®&lt;/code>ï¼š&lt;/p>
&lt;p>&lt;img src="https://blog.xenori.com/2020/12/intel-ax200-wol/1.jpg"
width="750"
height="538"
srcset="https://blog.xenori.com/2020/12/intel-ax200-wol/1_hu3cc7554004a4f82bf46186159a47e918_90079_480x0_resize_q75_box.jpg 480w, https://blog.xenori.com/2020/12/intel-ax200-wol/1_hu3cc7554004a4f82bf46186159a47e918_90079_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="139"
data-flex-basis="334px"
>&lt;/p>
&lt;p>é€‰æ‹©&lt;code>é«˜çº§ç½‘ç»œè®¾ç½® -&amp;gt; æ›´æ”¹é€‚é…å™¨é€‰é¡¹&lt;/code>ï¼š&lt;/p>
&lt;p>&lt;img src="https://blog.xenori.com/2020/12/intel-ax200-wol/2.jpg"
width="2204"
height="1454"
srcset="https://blog.xenori.com/2020/12/intel-ax200-wol/2_hu3cc7554004a4f82bf46186159a47e918_213301_480x0_resize_q75_box.jpg 480w, https://blog.xenori.com/2020/12/intel-ax200-wol/2_hu3cc7554004a4f82bf46186159a47e918_213301_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="151"
data-flex-basis="363px"
>&lt;/p>
&lt;p>å³é”®&lt;code>ä»¥å¤ªç½‘&lt;/code>é“¾æ¥ï¼Œé€‰æ‹©&lt;code>å±æ€§&lt;/code>ï¼Œå†ç‚¹å‡»&lt;code>é…ç½®&lt;/code>ï¼š&lt;/p>
&lt;p>&lt;img src="https://blog.xenori.com/2020/12/intel-ax200-wol/3.jpg"
width="1356"
height="950"
srcset="https://blog.xenori.com/2020/12/intel-ax200-wol/3_hu3cc7554004a4f82bf46186159a47e918_168571_480x0_resize_q75_box.jpg 480w, https://blog.xenori.com/2020/12/intel-ax200-wol/3_hu3cc7554004a4f82bf46186159a47e918_168571_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="142"
data-flex-basis="342px"
>&lt;/p>
&lt;p>&lt;img src="https://blog.xenori.com/2020/12/intel-ax200-wol/4.jpg"
width="842"
height="1190"
srcset="https://blog.xenori.com/2020/12/intel-ax200-wol/4_hu3cc7554004a4f82bf46186159a47e918_208543_480x0_resize_q75_box.jpg 480w, https://blog.xenori.com/2020/12/intel-ax200-wol/4_hu3cc7554004a4f82bf46186159a47e918_208543_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="70"
data-flex-basis="169px"
>&lt;/p>
&lt;p>ç‚¹å‡»å±æ€§çš„&lt;code>ç”µæºç®¡ç†&lt;/code>ï¼ŒæŠŠå›¾ç‰‡ä¸­çš„å¦‚ä¸‹ä¸‰é¡¹éƒ½å‹¾é€‰ä¸Šï¼š&lt;/p>
&lt;p>&lt;img src="https://blog.xenori.com/2020/12/intel-ax200-wol/5.jpg"
width="930"
height="1066"
srcset="https://blog.xenori.com/2020/12/intel-ax200-wol/5_hu3cc7554004a4f82bf46186159a47e918_128409_480x0_resize_q75_box.jpg 480w, https://blog.xenori.com/2020/12/intel-ax200-wol/5_hu3cc7554004a4f82bf46186159a47e918_128409_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="87"
data-flex-basis="209px"
>&lt;/p>
&lt;p>å†ç‚¹å‡»&lt;code>é«˜çº§&lt;/code>ï¼Œç¡®ä¿&lt;code>å”¤é†’æ¨¡å¼åŒ¹é…&lt;/code>å’Œ&lt;code>å”¤é†’é­”åŒ…&lt;/code>éƒ½æ˜¯&lt;code>å¯ç”¨&lt;/code>çŠ¶æ€ï¼š&lt;/p>
&lt;p>&lt;img src="https://blog.xenori.com/2020/12/intel-ax200-wol/6.jpg"
width="928"
height="1066"
srcset="https://blog.xenori.com/2020/12/intel-ax200-wol/6_hu3cc7554004a4f82bf46186159a47e918_182177_480x0_resize_q75_box.jpg 480w, https://blog.xenori.com/2020/12/intel-ax200-wol/6_hu3cc7554004a4f82bf46186159a47e918_182177_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="87"
data-flex-basis="208px"
>&lt;/p>
&lt;blockquote>
&lt;p>åœ¨&lt;code>é«˜çº§&lt;/code>é€‰é¡¹å¡ä¸­ï¼Œçœ‹ä¸‹æ˜¯å¦å­˜åœ¨&lt;code>å¯ç”¨ PME&lt;/code>ï¼Œæœ‰çš„è¯ï¼Œä¹Ÿéœ€è¦å¯ç”¨ï¼Œå¯ç”¨è¿™é¡¹æ˜¯ä¸ºäº†é¿å…å…³æœºåä¸»æ¿åˆ‡æ–­ç½‘å£çš„ç”µæºï¼Œå¯¼è‡´æ²¡æ³•å”¤é†’
&lt;img src="https://blog.xenori.com/2020/12/intel-ax200-wol/7.jpg"
width="928"
height="1060"
srcset="https://blog.xenori.com/2020/12/intel-ax200-wol/7_hu3cc7554004a4f82bf46186159a47e918_177395_480x0_resize_q75_box.jpg 480w, https://blog.xenori.com/2020/12/intel-ax200-wol/7_hu3cc7554004a4f82bf46186159a47e918_177395_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="87"
data-flex-basis="210px"
>&lt;/p>
&lt;/blockquote>
&lt;h2 id="3å…³é—­-windows-10-å¿«é€Ÿå¯åŠ¨">3ã€å…³é—­ windows 10 å¿«é€Ÿå¯åŠ¨&lt;/h2>
&lt;p>åœ¨æ‰“å¼€å¿«é€Ÿå¯åŠ¨ç”µæºé€‰é¡¹æ—¶ï¼Œwindowsé»˜è®¤å…³æœºåŠŸèƒ½æ˜¯è¿›å…¥S4çŠ¶æ€ï¼Œè¿™ç§çŠ¶æ€æ˜¯ä¸èƒ½WOLå”¤é†’çš„ï¼Œéœ€è¦åœ¨&lt;code>æ§åˆ¶é¢æ¿ -&amp;gt; ç”µæºé€‰é¡¹ -&amp;gt; é€‰æ‹©ç”µæºæŒ‰é’®çš„åŠŸèƒ½&lt;/code>ä¸­ï¼Œå…³é—­å¿«é€Ÿå¯åŠ¨ã€‚&lt;/p>
&lt;p>&lt;img src="https://blog.xenori.com/2020/12/intel-ax200-wol/8.png"
width="1080"
height="691"
srcset="https://blog.xenori.com/2020/12/intel-ax200-wol/8_hu36807877dde4530faafb021916780f6e_178683_480x0_resize_box_3.png 480w, https://blog.xenori.com/2020/12/intel-ax200-wol/8_hu36807877dde4530faafb021916780f6e_178683_1024x0_resize_box_3.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="156"
data-flex-basis="375px"
>&lt;/p>
&lt;h2 id="4æµ‹è¯•-wol">4ã€æµ‹è¯• WOL&lt;/h2>
&lt;p>å…³æœºåï¼Œå‡å¦‚æœ‰çº¿ç½‘å£è¿æ¥ç¯ä¸€ç›´é—ªçƒï¼Œå°±è¯æ˜ WOL å·²ç»é…ç½®æˆåŠŸäº†ï¼Œå¯é€šè¿‡å¦‚ä¸‹è½¯ä»¶æµ‹è¯•æ˜¯å¦æˆåŠŸã€‚&lt;/p>
&lt;p>MACï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code>brew install wakeonlan
wakeonlan XX:XX:XX:00:4C:00
&lt;/code>&lt;/pre>&lt;p>Androidï¼š&lt;/p>
&lt;p>ä¸‹è½½&lt;a class="link" href="https://play.google.com/store/apps/details?id=co.uk.mrwebb.wakeonlan" target="_blank" rel="noopener"
>Wake On Lan&lt;/a> app&lt;/p>
&lt;p>IPhoneï¼š&lt;/p>
&lt;p>ä¸‹è½½&lt;a class="link" href="https://apps.apple.com/tw/app/mocha-wol/id422625778" target="_blank" rel="noopener"
>mocha-wol&lt;/a> app&lt;/p>
&lt;h2 id="5å¦‚ä½•å®ç°è¿œç¨‹å…³é—­-pc">5ã€å¦‚ä½•å®ç°è¿œç¨‹å…³é—­ PC&lt;/h2>
&lt;p>å¯ä»¥é€šè¿‡å®‰è£…&lt;a class="link" href="https://github.com/karpach/remote-shutdown-pc" target="_blank" rel="noopener"
>Remote Shutdown Manager&lt;/a>å®ç°ï¼Œè¯¦ç»†è¯·å‚è€ƒï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code>https://github.com/karpach/remote-shutdown-pc
&lt;/code>&lt;/pre>&lt;p>ç»“åˆ&lt;code>homeassistant&lt;/code>è¿˜èƒ½å®ç°è¯­éŸ³æ§åˆ¶ PC å¼€å…³ğŸ˜„&lt;/p>
&lt;h2 id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™&lt;/h2>
&lt;ul>
&lt;li>&lt;a class="link" href="https://post.smzdm.com/p/amx025p4/" target="_blank" rel="noopener"
>WOL ç½‘ç»œå”¤é†’é¿å‘æŒ‡å—ï¼šå¸¸è§é—®é¢˜çš„åˆ†æä¸å†…å®¹è¡¥å……&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Windowsä¸‹å¦‚ä½•è¿æ¥LG UltraFine 4kæ˜¾ç¤ºå™¨</title><link>https://blog.xenori.com/2020/09/connect-ultrafine-with-windows/</link><pubDate>Fri, 11 Sep 2020 13:07:10 +0800</pubDate><guid>https://blog.xenori.com/2020/09/connect-ultrafine-with-windows/</guid><description>&lt;img src="https://blog.xenori.com/2020/09/connect-ultrafine-with-windows/cover.jpg" alt="Featured image of post Windowsä¸‹å¦‚ä½•è¿æ¥LG UltraFine 4kæ˜¾ç¤ºå™¨" />&lt;blockquote>
&lt;p>19å¹´æ—¶ä¸ºäº†å¼€å‘æ—¶å­—ä½“æ˜¾ç¤ºèƒ½æœ‰æ›´å¥½çš„æ•ˆæœï¼Œæ‰€ä»¥å‡†å¤‡å…¥æ‰‹ä¸€å° 4K çš„æ˜¾ç¤ºå™¨ã€‚ç»è¿‡ä¸€ç³»åˆ—çš„ç­›æŸ¥æ¯”è¾ƒåï¼Œæœ€åä¹°äº†è‹¹æœå®˜ç½‘çš„ LG UltraFine 4k æ˜¾ç¤ºå™¨ï¼Œé€‰å®ƒçš„åŸå› åªè¦æœ‰ä¸¤ç‚¹ï¼š&lt;/p>
&lt;ol>
&lt;li>å¸¦ type-c çš„é›·ç”µ3æ¥å£ï¼Œæ–¹ä¾¿ç¬”è®°æœ¬ Macbook Pro å¯ä»¥ç›´è¿è¾“å‡º&lt;/li>
&lt;li>24 å¯¸çš„ 4K åˆ†è¾¨ç‡ï¼ŒWindows è¿æ¥æ—¶ï¼Œå¼€ 200% æ–‡å­—ç¼©æ”¾æ—¶æ•ˆæœå’Œå¤§å°åˆšåˆšæœ€å¥½&lt;/li>
&lt;/ol>
&lt;p>ä¹‹å‰ä¹Ÿæƒ³è¿‡ä¹° DELL çš„ type-c æ˜¾ç¤ºå™¨ï¼Œä½†çœ‹åˆ°åªæœ‰ 27 å¯¸ï¼Œçº ç»“äº†ä¸€æ®µæ—¶é—´åæœ€åè¿˜æ˜¯æ”¾å¼ƒäº†ğŸ˜“&lt;/p>
&lt;/blockquote>
&lt;p>è‹¹æœå®˜ç½‘é”€å”®è¿‡ 4 ç§å‹å·çš„ LG UltraFine æ˜¾ç¤ºå™¨ï¼Œä¸‹é¢æ¨èçš„è¿æ¥è®¾å¤‡åªé€‚åˆæœ€æ–°çš„ LG UltraFine 24 å¯¸ 4Kæ˜¾ç¤ºå™¨ï¼Œæœ€æ–°çš„ 5K æ­£å¸¸ä¹Ÿå¯ä»¥è¿æ¥ï¼Œä½†æœ€å¤šè·å¾— 4k 60HZ çš„æ˜¾ç¤ºæ•ˆæœï¼Œæ²¡æ³• 5K æ˜¾ç¤ºã€‚&lt;/p>
&lt;ul>
&lt;li>22MD4KA (21å¯¸4Kå¸¦æ‘„åƒå¤´ï¼Œä¸æ”¯æŒ)ï¼š&lt;/li>
&lt;li>27MD5KA (5kï¼Œä¸æ”¯æŒ)&lt;/li>
&lt;li>&lt;a class="link" href="https://www.apple.com.cn/shop/product/HMUA2CH/A" target="_blank" rel="noopener"
>24MD4KL&lt;/a> (24å¯¸4kæ— æ‘„åƒå¤´ï¼Œæ”¯æŒ)&lt;/li>
&lt;li>&lt;a class="link" href="https://www.apple.com.cn/shop/product/HMUB2" target="_blank" rel="noopener"
>27MD5KL&lt;/a> (5kï¼Œéƒ¨åˆ†æ”¯æŒ)&lt;/li>
&lt;/ul>
&lt;p>ä¸ä½¿ç”¨é›·ç”µ3è¾“å‡ºåˆ° LG UltraFineï¼Œéœ€è¦ windows è®¾å¤‡çš„å›¾åƒè¾“å‡ºæ”¯æŒ&lt;code>Display Alt Mode&lt;/code>æŠ€æœ¯ï¼Œæœ‰ä¸€äº› Windows ç¬”è®°æœ¬æœ‰å…¨åŠŸèƒ½ type-c æ¥å£ï¼Œä½†å› ä¸ºä¸æ”¯æŒ&lt;code>Display Alt Mode&lt;/code>ï¼Œå¯¼è‡´ç›´è¿ UltraFine ä¹Ÿæ˜¯æ²¡æ³•æ¿€æ´»æ˜¾ç¤ºçš„ã€‚ç°åœ¨å·²çŸ¥æ”¯æŒ&lt;code>Display Alt Mode&lt;/code>çš„ type-c æ¥å£ï¼Œå°±åªæœ‰ Nvidia 20ç³»åˆ—æ˜¾å¡è‡ªå¸¦çš„ &lt;code>VirtrualLink&lt;/code> æ¥å£äº†ï¼Œå¯ä»¥ç›´è¿ UltraFine æ˜¾ç¤ºå™¨ï¼Œä½†æœ€æ–°çš„ 30 ç³»åˆ—æ˜¾å¡å› ä¸ºè¿‘å¹´ VR ä¸æµè¡Œåˆç æ‰è¿™ä¸ªæ¥å£äº†ğŸ˜‚&lt;/p>
&lt;p>ä¸‹é¢ä»‹ç»çš„è®¾å¤‡éƒ½æ˜¯é€šè¿‡æŠŠ DP ä¿¡å·å’Œ USB ä¿¡å·è½¬æ¢ä¸ºæ”¯æŒ&lt;code>Display Alt Mode&lt;/code>ä¿¡å·å®ç°çš„ã€‚&lt;/p>
&lt;h2 id="åä¸º-vr-è®¡ç®—æœºè¿æ¥çº¿">åä¸º VR è®¡ç®—æœºè¿æ¥çº¿&lt;/h2>
&lt;p>&lt;img src="https://shop.io.mi-img.com/app/shop/img?id=shop_f15b6524737457b7cda67957fc854570.jpeg"
loading="lazy"
alt="800_800_1533694789021.jpg"
>&lt;/p>
&lt;p>è¿™çº¿ç°åœ¨å·²ç»ç‰ˆï¼Œåªèƒ½åœ¨é—²é±¼ä¸Šæ·˜ï¼Œä½†å› ä¸ºè´§å°‘ä»·æ ¼éƒ½æ¯”è¾ƒè´µï¼Œæˆ‘åˆšå¼€å§‹å…³æ³¨æ—¶åœ¨æ·˜å®ä¸Šæ˜¯ 188 å·¦å³çš„ä»·æ ¼ã€‚ã€‚ã€‚&lt;/p>
&lt;h2 id="è´å°”é‡‘belkinè®¡ç®—æœºæ•°æ®çº¿">è´å°”é‡‘ï¼ˆBELKINï¼‰è®¡ç®—æœºæ•°æ®çº¿&lt;/h2>
&lt;p>&lt;img src="https://shop.io.mi-img.com/app/shop/img?id=shop_9d9f90578d7712be84d64391ec79157c.jpeg"
loading="lazy"
alt="ad7af8efeecbaced.jpg"
>&lt;/p>
&lt;p>&lt;a class="link" href="https://item.jd.com/100010876910.html" target="_blank" rel="noopener"
>äº¬ä¸œ&lt;/a>å’Œåä¸ºå®˜ç½‘æœ‰ç°è´§ï¼Œ 4.5 ç±³é•¿ï¼Œ4xx å·¦å³çš„ä»·æ ¼&lt;/p>
&lt;h2 id="wacom-link-plus-å¤šåª’ä½“é€‚é…å™¨ack42819æ¨è">Wacom Link Plus å¤šåª’ä½“é€‚é…å™¨ACK42819ï¼ˆæ¨èï¼‰&lt;/h2>
&lt;p>&lt;img src="https://shop.io.mi-img.com/app/shop/img?id=shop_324a141a7173c650dcbdae08e84ec9a7.jpeg"
loading="lazy"
alt="cca4111efe3fd276.jpg"
>&lt;/p>
&lt;p>&lt;a class="link" href="https://item.jd.com/100008169636.html" target="_blank" rel="noopener"
>äº¬ä¸œ&lt;/a>ä¸Šæœ‰ç°è´§ï¼Œæ¯”è¾ƒè´µï¼Œ5xx å·¦å³çš„ä»·æ ¼ï¼Œé—²é±¼å¯ä»¥æ·˜åˆ°ä¾¿å®œäº›çš„ï¼Œ300 å…ƒå·¦å³ã€‚è¿™ä¸ªçš„å¥½å¤„æ˜¯æ¯”è¾ƒå°ï¼Œå¯ä»¥ç›´æ¥è´´åœ¨ UltraFine æ˜¾ç¤ºå™¨åé¢ï¼Œç›¸å½“äºç”¨ä¸€ä¸ªé›·ç”µ3å£æ¢ä¸€ä¸ª DP è¾“å…¥ï¼ˆ&lt;em>è¿æ¥è¿™è®¾å¤‡ type-c å£è¦ä½¿ç”¨å…¨åŠŸèƒ½ type-c çº¿ï¼Œè€Œä¸æ˜¯é›·ç”µ 3 çº¿&lt;/em>ï¼‰&lt;/p>
&lt;p>å¦å¤–ï¼Œå‡å¦‚ä½ æƒ³ä¹°æ”¯æŒé›·ç”µ 3çš„ä¸»æ¿ç›´è¿ UltraFine çš„è¯ï¼Œè®°å¾—ç¡®è®¤ä¸‹ä¸»æ¿æ˜¯å¦å¸¦&lt;code>DP IN&lt;/code>çš„æ¥å£ï¼Œåƒ&lt;a class="link" href="https://item.jd.com/100007020310.html" target="_blank" rel="noopener"
>åæ“ï¼ˆASRockï¼‰X570 Phantom Gaming&lt;/a>è¿™ç§çš„ã€‚å› ä¸ºåªæœ‰å¸¦äº†&lt;code>DP IN&lt;/code>æ¥å£ï¼Œæ‰èƒ½æŠŠç‹¬ç«‹æ˜¾å¡çš„ä¿¡å·è½¬æ¥åˆ°ä¸»æ¿é›·ç”µ3æ¥å£ï¼Œä»¥ä¾¿è¾“å‡ºå›¾åƒåˆ° UltraFineï¼Œè¦ä¸ç„¶ä¸»æ¿çš„é›·ç”µ3å°±åªèƒ½æ”¯æŒcpuçš„æ ¸æ˜¾è¾“å‡ºçš„ï¼Œä¸æ”¯æŒç‹¬ç«‹æ˜¾å¡ã€‚&lt;/p>
&lt;h2 id="æˆ´å°”dell-upd2018">æˆ´å°”(DELL) UPD2018&lt;/h2>
&lt;p>&lt;img src="https://blog.xenori.com/2020/09/connect-ultrafine-with-windows/upd2018.jpg"
width="750"
height="500"
srcset="https://blog.xenori.com/2020/09/connect-ultrafine-with-windows/upd2018_hu231bf709c668f3555c0bf39f630ce0d0_56452_480x0_resize_q75_box.jpg 480w, https://blog.xenori.com/2020/09/connect-ultrafine-with-windows/upd2018_hu231bf709c668f3555c0bf39f630ce0d0_56452_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="150"
data-flex-basis="360px"
>&lt;/p>
&lt;p>å¸¦ type-c çš„ PCI-E è½¬æ¥å¡ï¼Œå¯é€‚ç”¨äº AMD ä¸»æ¿ã€‚&lt;/p>
&lt;div class="notices warning" >&lt;blockquote>&lt;p>ä½¿ç”¨åä¸º VR çº¿æˆ– Wacom é€‚é…å™¨æ–¹å¼è¿æ¥ï¼Œæœ‰æ—¶ UltraFine æ˜¾ç¤ºå™¨æ–­ç”µåå†æ‰“å¼€ï¼Œé¦–æ¬¡å¼€æœºæ²¡æ³•ç‚¹äº®å±å¹•ï¼Œéœ€è¦é‡æ–°æ’æ‹”ä¸€æ¬¡æ˜¾ç¤ºå™¨ type-c çº¿æ‰å¯ä»¥ï¼Œå…·ä½“åŸå› ä¸æ˜ã€‚ç½‘ä¸Šç»™å‡ºçš„è§£å†³æ–¹æ¡ˆæ˜¯å…ˆæ‰“å¼€ç”µè„‘ï¼Œç­‰ç”µè„‘è¿›å…¥ windows åï¼Œå†æ‰“å¼€æ˜¾ç¤ºå™¨ç”µæº&lt;/p>
&lt;/blockquote>&lt;/div>
&lt;p>ç›¸å…³èµ„æ–™ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://forums.macrumors.com/threads/lg-ultrafine-4k-and-5k-yes-you-can-connect-it-to-windows-computers-via-dp.2227756/" target="_blank" rel="noopener"
>https://forums.macrumors.com/threads/lg-ultrafine-4k-and-5k-yes-you-can-connect-it-to-windows-computers-via-dp.2227756/&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>å¸¸ç”¨adbå‘½ä»¤</title><link>https://blog.xenori.com/2020/09/adb-commands/</link><pubDate>Fri, 11 Sep 2020 11:27:10 +0800</pubDate><guid>https://blog.xenori.com/2020/09/adb-commands/</guid><description>&lt;img src="https://blog.xenori.com/2020/09/adb-commands/cover.png" alt="Featured image of post å¸¸ç”¨adbå‘½ä»¤" />&lt;h2 id="1-æŸ¥çœ‹è¿æ¥è®¾å¤‡">1. æŸ¥çœ‹è¿æ¥è®¾å¤‡&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl"> adb devcies
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="2-å½“æœ‰å¤šä¸ªè¿æ¥è®¾å¤‡æ—¶æŒ‡å®šæ‰§è¡Œå‘½ä»¤çš„è®¾å¤‡">2. å½“æœ‰å¤šä¸ªè¿æ¥è®¾å¤‡æ—¶ï¼ŒæŒ‡å®šæ‰§è¡Œå‘½ä»¤çš„è®¾å¤‡&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">adb -s &amp;lt;deviceid&amp;gt; &amp;lt;commands&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">å¦‚
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">adb -s 1e25fe71 shell pm list package
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="3-æŸ¥çœ‹æ‰‹æœºä¸­å·²å®‰è£…çš„æ‰€æœ‰apkæ–‡ä»¶">3. æŸ¥çœ‹æ‰‹æœºä¸­å·²å®‰è£…çš„æ‰€æœ‰apkæ–‡ä»¶&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">adb shell pm list package
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="4-å¯¼å‡ºæŒ‡å®šçš„-apk-åŒ…">4. å¯¼å‡ºæŒ‡å®šçš„ apk åŒ…&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">adb shell pm path &amp;lt;com.package.name&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">adb pull &amp;lt;/system/priv-app/com.package.name/package_name.apk&amp;gt; ~/download/savepath
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="5-å¸è½½ä»»æ„åŒ…æ‹¬ç³»ç»Ÿåº”ç”¨">5. å¸è½½ä»»æ„ï¼ˆåŒ…æ‹¬ç³»ç»Ÿï¼‰åº”ç”¨&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">adb shell pm uninstall -k --user &lt;span class="m">0&lt;/span> &amp;lt;com.package.name&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="6-æŸ¥çœ‹-app-çš„é”™è¯¯æ—¥å¿—">6. æŸ¥çœ‹ app çš„é”™è¯¯æ—¥å¿—&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">adb logcat -v &lt;span class="nb">time&lt;/span> &lt;span class="p">|&lt;/span> grep AndroidRuntime
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="7-æ¸…ç©º-app-æ—¥å¿—">7. æ¸…ç©º app æ—¥å¿—&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">adb logcat -c
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[æ›´æ–°]ä½¿ç”¨httpcanaryåœ¨android 9ä»¥ä¸Šç‰ˆæœ¬æŠ“å–httpsç½‘ç»œè¯·æ±‚åŒ…</title><link>https://blog.xenori.com/2020/07/how-capture-https-network-packet/</link><pubDate>Wed, 01 Jul 2020 11:27:10 +0800</pubDate><guid>https://blog.xenori.com/2020/07/how-capture-https-network-packet/</guid><description>&lt;img src="https://blog.xenori.com/2020/07/how-capture-https-network-packet/cover.png" alt="Featured image of post [æ›´æ–°]ä½¿ç”¨httpcanaryåœ¨android 9ä»¥ä¸Šç‰ˆæœ¬æŠ“å–httpsç½‘ç»œè¯·æ±‚åŒ…" />&lt;p>åœ¨ android 9 ä»¥ä¸Šç‰ˆæœ¬ï¼Œå¾ˆå¤š app éƒ½ä½¿ç”¨&lt;a class="link" href="https://github.com/moxie0/AndroidPinning" target="_blank" rel="noopener"
>certificate pinning&lt;/a>æŠ€æœ¯æ¥é˜²æ­¢ https ä¸­é—´äººæ”»å‡»ï¼Œå½“ app æ£€æµ‹åˆ°è¯ä¹¦ä¸æ­£ç¡®æ—¶ï¼Œä¼šè‡ªåŠ¨æ–­å¼€ç½‘ç»œè¯·æ±‚ï¼Œå¯¼è‡´æŠ“å–ä¸åˆ° https ç½‘ç»œè¯·æ±‚åŒ…ã€‚&lt;/p>
&lt;p>è¦é¡ºåˆ©æŠ“åˆ° https è¯·æ±‚åŒ…ï¼Œéœ€è¦å€ŸåŠ©VMOSæ¥é¿å¼€certificate pinningæ£€æµ‹ã€‚&lt;/p>
&lt;h2 id="1å®‰è£…vmos">1ã€å®‰è£…VMOS&lt;/h2>
&lt;p>åœ¨ç½‘ç›˜ä¸­ä¸‹è½½&lt;code>VMOS&lt;/code>ï¼Œå®‰è£…å®Œåï¼Œæ‰“å¼€VMOSï¼Œç‚¹å‡»å³ä¸Šæ–¹çš„&lt;code>+&lt;/code>æŒ‰é’®æ·»åŠ è™šæ‹Ÿæœºï¼Œé€‰æ‹©æœ€ä¸‹æ–¹çš„&lt;code>å®‰å“7.1æå®¢ç‰ˆ&lt;/code>ï¼Œä¸‹è½½å¹¶å®‰è£…å®Œæˆã€‚
&lt;img src="https://blog.xenori.com/2020/07/how-capture-https-network-packet/1.jpg"
width="1080"
height="2340"
srcset="https://blog.xenori.com/2020/07/how-capture-https-network-packet/1_hue87aad7deec839ffe0e011d351530d61_609274_480x0_resize_q75_box.jpg 480w, https://blog.xenori.com/2020/07/how-capture-https-network-packet/1_hue87aad7deec839ffe0e011d351530d61_609274_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="46"
data-flex-basis="110px"
>&lt;/p>
&lt;p>å›åˆ°é¦–é¡µï¼Œç‚¹å‡»å¯åŠ¨è™šæ‹Ÿæœºï¼Œè¿›å…¥è™šæ‹Ÿæœº
&lt;img src="https://blog.xenori.com/2020/07/how-capture-https-network-packet/2.jpg"
width="1080"
height="2340"
srcset="https://blog.xenori.com/2020/07/how-capture-https-network-packet/2_hu736f23926ef0ac4ad33f71e9374fb3e8_349102_480x0_resize_q75_box.jpg 480w, https://blog.xenori.com/2020/07/how-capture-https-network-packet/2_hu736f23926ef0ac4ad33f71e9374fb3e8_349102_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="46"
data-flex-basis="110px"
>&lt;/p>
&lt;p>ç‚¹å‡»ä¸‹æ–¹çš„&lt;code>å¸¸ç”¨å·¥å…·&lt;/code>-&amp;gt;&lt;code>åº”ç”¨&lt;/code>ï¼Œæ‰¾åˆ°éœ€æŠ“åŒ…çš„è½¯ä»¶ï¼Œç‚¹å‡»åå¯¼å…¥å®‰è£…
&lt;img src="https://blog.xenori.com/2020/07/how-capture-https-network-packet/3.jpg"
width="1440"
height="3120"
srcset="https://blog.xenori.com/2020/07/how-capture-https-network-packet/3_hu489ee71d1210f341130b295703923855_556682_480x0_resize_q75_box.jpg 480w, https://blog.xenori.com/2020/07/how-capture-https-network-packet/3_hu489ee71d1210f341130b295703923855_556682_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="46"
data-flex-basis="110px"
>&lt;/p>
&lt;p>VMOSä¸‹è½½åœ°å€ï¼š&lt;a class="link" href="https://pan.baidu.com/s/1UBNon-dT37G3NuFMcO_szw" target="_blank" rel="noopener"
>https://pan.baidu.com/s/1UBNon-dT37G3NuFMcO_szw&lt;/a> æå–ç : wis3&lt;/p>
&lt;h2 id="2å®‰è£…æŠ“åŒ…è½¯ä»¶httpcanary">2ã€å®‰è£…æŠ“åŒ…è½¯ä»¶httpcanary&lt;/h2>
&lt;p>è‡ªè¡Œä¸‹è½½å®‰è£…ï¼š&lt;/p>
&lt;p>è“å¥ï¼š&lt;a class="link" href="https://www.lanzous.com/i6hw4ti" target="_blank" rel="noopener"
>https://www.lanzous.com/i6hw4ti&lt;/a>&lt;/p>
&lt;p>ç™¾åº¦ï¼š&lt;a class="link" href="https://pan.baidu.com/s/11fx67kcqQOwxCLdItAXIxA" target="_blank" rel="noopener"
>https://pan.baidu.com/s/11fx67kcqQOwxCLdItAXIxA&lt;/a> æå–ç : ccbd&lt;/p>
&lt;h2 id="3æŠ“å–-app-çš„-https-è¯·æ±‚">3ã€æŠ“å– app çš„ https è¯·æ±‚&lt;/h2>
&lt;p>å…ˆè¿è¡Œ&lt;code>httpcanary&lt;/code>ï¼Œå†åœ¨&lt;code>VMOS&lt;/code>ä¸­è®¿é—®éœ€æŠ“åŒ…çš„ appï¼Œå°±èƒ½çœ‹åˆ°æ‰€æœ‰ https è¯·æ±‚äº†ï¼Œåœ¨&lt;code>VMOS&lt;/code>ä¸­è¿è¡Œçš„ appï¼Œæ˜¯ä¸ä¼šæ£€æµ‹certificate pinningçš„&lt;/p>
&lt;p>&lt;img src="https://blog.xenori.com/2020/07/how-capture-https-network-packet/4.jpg"
width="1080"
height="2340"
srcset="https://blog.xenori.com/2020/07/how-capture-https-network-packet/4_hu3131e9057829df9b315e2c9944db091d_461027_480x0_resize_q75_box.jpg 480w, https://blog.xenori.com/2020/07/how-capture-https-network-packet/4_hu3131e9057829df9b315e2c9944db091d_461027_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="46"
data-flex-basis="110px"
>&lt;/p></description></item><item><title>å„ç§å¼€å‘ç›¸å…³çš„å›½å†…æº</title><link>https://blog.xenori.com/2020/05/china-speedup-source-for-develop/</link><pubDate>Thu, 07 May 2020 11:27:10 +0800</pubDate><guid>https://blog.xenori.com/2020/05/china-speedup-source-for-develop/</guid><description>&lt;pre tabindex="0">&lt;code>é˜¿é‡Œäº‘ç»Ÿä¸€å®˜æ–¹é•œåƒç«™ï¼šhttps://developer.aliyun.com/mirror/
åŒ…å«äº†æ‰€æœ‰å¼€æºçš„å›½å†…é•œåƒæºï¼Œå¦‚homebrewï¼Œnpmï¼Œpipï¼Œcentosç­‰ï¼Œå·®ä¸å¤šæ»¡è¶³æ‰€æœ‰å¼€å‘éœ€æ±‚ï¼Œ ğŸ‚ğŸ»
&lt;/code>&lt;/pre>&lt;h2 id="go-get-å›½å†…æº">go get å›½å†…æº&lt;/h2>
&lt;p>ä¸ƒç‰›ï¼šhttps://goproxy.cn&lt;/p>
&lt;p>å®˜æ–¹å…¨çƒåŠ é€ŸCDNï¼šhttps://goproxy.io/&lt;/p>
&lt;p>ç¬¬ä¸‰æ–¹ï¼šhttps://gocenter.io&lt;/p>
&lt;h2 id="pip-å›½å†…æº">pip å›½å†…æº&lt;/h2>
&lt;p>æ¸…åï¼šhttps://pypi.tuna.tsinghua.edu.cn/simple&lt;/p>
&lt;p>é˜¿é‡Œäº‘ï¼šhttp://mirrors.aliyun.com/pypi/simple/&lt;/p>
&lt;p>ä¸­å›½ç§‘æŠ€å¤§å­¦ &lt;a class="link" href="https://pypi.mirrors.ustc.edu.cn/simple/" target="_blank" rel="noopener"
>https://pypi.mirrors.ustc.edu.cn/simple/&lt;/a>&lt;/p>
&lt;p>åä¸­ç†å·¥å¤§å­¦ï¼šhttp://pypi.hustunique.com/&lt;/p>
&lt;p>å±±ä¸œç†å·¥å¤§å­¦ï¼šhttp://pypi.sdutlinux.org/&lt;/p>
&lt;p>è±†ç“£ï¼šhttp://pypi.douban.com/simple/&lt;/p>
&lt;h3 id="ä½¿ç”¨æ–¹æ³•">ä½¿ç”¨æ–¹æ³•&lt;/h3>
&lt;p>ä¸´æ—¶ä½¿ç”¨ï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code>pip install pyspider -i https://pypi.tuna.tsinghua.edu.cn/simple
&lt;/code>&lt;/pre>&lt;p>æ°¸ä¹…ä¿®æ”¹ï¼Œä¸€åŠ³æ°¸é€¸ï¼š&lt;/p>
&lt;p>Linuxä¸‹ï¼Œä¿®æ”¹ ~/.pip/pip.conf (æ²¡æœ‰å°±åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹åŠæ–‡ä»¶ã€‚æ–‡ä»¶å¤¹è¦åŠ â€œ.â€ï¼Œè¡¨ç¤ºæ˜¯éšè—æ–‡ä»¶å¤¹)&lt;/p>
&lt;p>å†…å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code>[global]
index-url = https://pypi.tuna.tsinghua.edu.cn/simple
[install]
trusted-host=mirrors.aliyun.com
&lt;/code>&lt;/pre>&lt;h2 id="gradleå›½å†…æº">gradleå›½å†…æº&lt;/h2>
&lt;p>é˜¿é‡Œï¼šhttp://maven.aliyun.com/nexus/content/groups/public&lt;/p>
&lt;h3 id="ä½¿ç”¨æ–¹æ³•-1">ä½¿ç”¨æ–¹æ³•&lt;/h3>
&lt;p>é…ç½®åªåœ¨å½“å‰é¡¹ç›®ç”Ÿæ•ˆï¼š
åœ¨ build.gradle æ–‡ä»¶å†…ä¿®æ”¹/æ·»åŠ  repositories é…ç½®&lt;/p>
&lt;pre tabindex="0">&lt;code>repositories {
maven {
url &amp;#34;http://maven.aliyun.com/nexus/content/groups/public&amp;#34;
}
}
&lt;/code>&lt;/pre>&lt;p>é…ç½®å…¨å±€ç”Ÿæ•ˆï¼š
æ‰¾åˆ° (ç”¨æˆ·å®¶ç›®å½•)/.gradle/init.gradle æ–‡ä»¶ï¼Œå¦‚æœæ‰¾ä¸åˆ° init.gradle æ–‡ä»¶ï¼Œè‡ªå·±æ–°å»ºä¸€ä¸ªä¿®æ”¹/æ·»åŠ  init.gradle æ–‡ä»¶å†…çš„ repositories é…ç½®&lt;/p>
&lt;pre tabindex="0">&lt;code>allprojects {
repositories {
maven {
url &amp;#34;http://maven.aliyun.com/nexus/content/groups/public&amp;#34;
}
}
}
&lt;/code>&lt;/pre></description></item><item><title>ä¸€åŠ 7 proä½¿ç”¨ pn532 å¤åˆ¶æ‰‹æœºåŠ å¯†é—¨ç¦å¡</title><link>https://blog.xenori.com/2019/12/use-pn532-copy-encryption-card-in-oneplus7pro/</link><pubDate>Mon, 30 Dec 2019 11:27:10 +0800</pubDate><guid>https://blog.xenori.com/2019/12/use-pn532-copy-encryption-card-in-oneplus7pro/</guid><description>&lt;p>å…¥ä½ä¸‡ç§‘å°åŒºåï¼Œæ¯æ¬¡å‡ºå…¥éƒ½è¦ç»è¿‡ä¸¤æ¬¡é—¨ç¦ï¼Œå¯¼è‡´è™½ç„¶è£…äº†æ™ºèƒ½é”ï¼Œä½†è¿˜æ˜¯è¦å¸¦é—¨ç¦å¡ï¼Œæ‰€ä»¥ä¸€ç›´æƒ³ç€æ€æ ·æŠŠé—¨ç¦å¤åˆ¶åˆ°æ‰‹æœº NFC ä¸Šã€‚ä¸€åŠ 7 pro åœ¨ 11 æœˆå·²æ¨é€äº†é—¨ç¦å¡åŠŸèƒ½ï¼Œä½†åªæ”¯æŒæœªåŠ å¯†çš„é—¨ç¦å¡ï¼Œä¸‡ç§‘çš„ä¸€å¡é€šéƒ½æ˜¯åŠ å¯†è¿‡çš„ï¼Œæ‰€ä»¥ç›´æ¥å¤åˆ¶ä¸äº†ã€‚&lt;/p>
&lt;p>åŠ å¯†å¡ä¹Ÿåˆ†åŠåŠ å¯†æˆ–å…¨åŠ å¯†ï¼Œå±äºå“ªç§ç±»å‹ï¼Œå¯ä»¥æ‰‹æœºä¸‹è½½ &lt;a class="link" href="https://github.com/ikarus23/MifareClassicTool" target="_blank" rel="noopener"
>MifareClassicTool (MCT)&lt;/a> æŸ¥çœ‹ï¼Œéƒ¨åˆ†æ‰‡ä½å¯ä»¥çœ‹åˆ°å†…å®¹çš„å°±æ˜¯åŠåŠ å¯†ï¼Œæ‰€æœ‰æ‰‡ä½å†…å®¹éƒ½çœ‹ä¸åˆ°çš„å°±æ˜¯å…¨åŠ å¯†å¡ï¼Œå…¨åŠ å¯†å¡çš„è¯ï¼Œå»ºè®®ç›´æ¥æ”¾å¼ƒï¼Œç ´è§£å¯†é’¥éœ€è¦å¤ªå¤šæ—¶é—´äº†ã€‚&lt;/p>
&lt;p>ç»è¿‡åœ¨é…·å®‰æµè§ˆ NFC ç›¸å…³å†…å®¹ï¼Œå‘ç°æ˜¯æœ‰æ–¹æ³•å¯ä»¥å®ç°å¤åˆ¶çš„ï¼Œä½†éœ€è¦ä¸€ä¸ª PN532 çš„ NFC è§£å¯†è®¾å¤‡å’Œ CUID ç©ºç™½å¡ï¼Œå¤åˆ¶æµç¨‹å¦‚ä¸‹ï¼š&lt;/p>
&lt;ol>
&lt;li>ä½¿ç”¨ PN532 è§£å¯†åŠåŠ å¯†çš„åŸå¡å†…å®¹&lt;/li>
&lt;li>æŠŠé—¨ç¦å¡çš„ 0 æ‰‡åŒºçš„ 0 å—çš„ UID å’Œå‚å•†å·å†™å…¥ CUID ç©ºç™½å¡ï¼ˆè¿™æ ·ç©ºç™½å¡å°±å˜æˆæœªåŠ å¯†å¡äº†ï¼‰&lt;/li>
&lt;li>ä½¿ç”¨æ‰‹æœº NFC æ¨¡æ‹Ÿ CUID ç©ºç™½å¡&lt;/li>
&lt;li>ä½¿ç”¨ PN532 æˆ–å¦ä¸€å¸¦ NFC åŠŸèƒ½çš„æ‰‹æœºæŠŠä½™ä¸‹åŠ å¯†çš„æ‰€æœ‰æ‰‡åŒºä¿¡æ¯å†™ä¸‹æ‰‹æœºæ¨¡æ‹Ÿçš„é—¨ç¦å¡&lt;/li>
&lt;/ol>
&lt;h2 id="ä¸€ä½¿ç”¨-pn532-è§£å¯†åŠåŠ å¯†çš„åŸå¡å†…å®¹">ä¸€ã€ä½¿ç”¨ PN532 è§£å¯†åŠåŠ å¯†çš„åŸå¡å†…å®¹&lt;/h2>
&lt;p>pn532 å¦‚ä½•è¿æ¥ç”µè„‘å°±ä¸è¯¦è¿°äº†ï¼Œè¦è§£å¯†åŸé—¨ç¦å¡å¯†é’¥ï¼Œéœ€è¦ä¸‹è½½windows è½¯ä»¶&lt;a class="link" href="https://github.com/xcicode/MifareOneTool/releases" target="_blank" rel="noopener"
>MifareOneTool&lt;/a>ï¼ŒæŠŠé—¨å¡æ”¾åˆ° PN532 ä¸Šï¼Œç„¶åé€‰æ‹©&lt;code>é«˜çº§æ¨¡å¼ -&amp;gt; HardNested&lt;/code>ï¼Œè½¯ä»¶å°±ä¼šå¼€å§‹æ‰§è¡Œçˆ†åŠ›ç ´è§£ï¼Œåœ¨æˆ‘ i6700K ç”µè„‘ä¸Šï¼Œå¹³å‡ç ´è§£ä¸€ä¸ªå¯†é’¥éœ€è¦ 6 å°æ—¶ã€‚ã€‚ã€‚ä¸€èˆ¬è¿›åº¦åˆ° 30%ï½50% å°±èƒ½ç ´è§£åˆ°ï¼Œåªè¦è¿˜æ˜¯çœ‹ RPğŸ˜‚&lt;/p>
&lt;p>&lt;img src="https://s2.ax1x.com/2020/01/06/ls1EwQ.png"
loading="lazy"
alt="ls1EwQ.png"
>&lt;/p>
&lt;p>æ‰‡åŒºå·å¡«å†™éœ€è¦ç ´è§£å¯†é’¥çš„æ‰‡åŒºï¼Œ1 ä¸ªæ‰‡åŒºæœ‰ A/B ä¸¤ä¸ªå¯†é’¥ï¼Œæ‰€ä»¥ä¸€ä¸ªæ‰‡åŒºæ˜¯éœ€è¦ç ´è§£ä¸¤æ¬¡çš„ã€‚&lt;/p>
&lt;p>ç ´è§£ 10 æ‰‡åŒºçš„ A å¯†é’¥ï¼š&lt;/p>
&lt;p>&lt;img src="https://s2.ax1x.com/2020/01/06/ls3cbF.png"
loading="lazy"
alt="ls3cbF.png"
>&lt;/p>
&lt;p>ç ´è§£ 10 æ‰‡åŒºçš„ B å¯†é’¥ï¼š&lt;/p>
&lt;p>&lt;img src="https://s2.ax1x.com/2020/01/06/ls8KqU.png"
loading="lazy"
alt="ls8KqU.png"
>&lt;/p>
&lt;p>ç ´è§£åŸç†å¯ä»¥çœ‹ä¸‹é¢æ–‡ç« ï¼š&lt;a class="link" href="https://blog.csdn.net/qq_37806908/article/details/95992392" target="_blank" rel="noopener"
>ä¸€å¡é€š(M1å¡)ç ´è§£è¿‡ç¨‹è®°å½•â€”â€”è·å–æ‰‡åŒºå¯†é’¥&lt;/a>&lt;/p>
&lt;h2 id="äºŒ0-æ‰‡åŒº-0-å—å†™å…¥-cuid-ç©ºç™½å¡">äºŒã€0 æ‰‡åŒº 0 å—å†™å…¥ CUID ç©ºç™½å¡&lt;/h2>
&lt;p>å†™å…¥ CUID ä½¿ç”¨æ‰‹æœºçš„ &lt;a class="link" href="https://github.com/ikarus23/MifareClassicTool" target="_blank" rel="noopener"
>MifareClassicTool&lt;/a> ã€‚é¦–å…ˆéœ€è¦ä¿å­˜åŸé—¨ç¦å¡çš„å·²è§£å¯†çš„ dump æ–‡ä»¶ã€‚&lt;/p>
&lt;p>1.MCT ä¸­é€‰æ‹©&lt;code>ç¼–è¾‘/å¢åŠ å¯†é’¥æ–‡ä»¶&lt;/code>ï¼Œåœ¨&lt;code>std.keys&lt;/code>ä¸­å¢åŠ åˆšæ‰ç ´è§£å‡ºæ¥çš„å¯†é’¥ï¼Œä¸€è¡Œä¸€ä¸ª&lt;/p>
&lt;p>&lt;img src="https://s2.ax1x.com/2020/01/06/lsGXct.png"
loading="lazy"
alt="lsGXct.png"
>
&lt;img src="https://s2.ax1x.com/2020/01/06/lsJ9Ag.png"
loading="lazy"
alt="lsJ9Ag.png"
>&lt;/p>
&lt;p>2.æ‰‹æœºé è¿‘åŸé—¨ç¦å¡ï¼Œä½¿ç”¨&lt;code>è¯»æ ‡ç­¾&lt;/code>åŠŸèƒ½è¯»å–æ‰€æœ‰æ‰‡åŒºçš„å†…å®¹å‡ºæ¥ï¼Œå¹¶ä¿å­˜ä¸ºè½¬å‚¨æ–‡ä»¶ã€‚&lt;/p>
&lt;p>3.é€‰æ‹©&lt;code>ç¼–è¾‘/åˆ†æè½¬å‚¨æ–‡ä»¶&lt;/code>æ‰“å¼€åˆšæ‰ä¿å­˜çš„è½¬å‚¨æ–‡ä»¶ï¼Œå¤åˆ¶ 0 æ‰‡åŒº 0 å—çš„å†…å®¹ã€‚&lt;/p>
&lt;p>&lt;img src="https://s2.ax1x.com/2020/01/06/lsYFaD.png"
loading="lazy"
alt="lsYFaD.png"
>&lt;/p>
&lt;p>4.æ‰‹æœºé è¿‘ CUID ç©ºç™½å¡ï¼Œé€‰æ‹©&lt;code>å†™æ ‡ç­¾&lt;/code>åŠŸèƒ½ï¼Œä½¿ç”¨&lt;code>å†™å—&lt;/code>æŠŠåˆšåˆšå¤åˆ¶çš„å†…å®¹å†™å…¥&lt;code>0&lt;/code>æ‰‡åŒº&lt;code>0&lt;/code>å—ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º&lt;/p>
&lt;p>&lt;img src="https://s2.ax1x.com/2020/01/06/lstekF.png"
loading="lazy"
alt="lstekF.png"
>&lt;/p>
&lt;p>è¿™æ ·å°±å¾—åˆ°äº†ä¸€ä¸ªå¯ä»¥è¢«æ‰‹æœº NFC åŠŸèƒ½å¤åˆ¶çš„æœªåŠ å¯†é—¨ç¦å¡&lt;/p>
&lt;h2 id="ä¸‰ä½¿ç”¨æ‰‹æœº-nfc-æ¨¡æ‹Ÿ-cuid-ç©ºç™½å¡">ä¸‰ã€ä½¿ç”¨æ‰‹æœº NFC æ¨¡æ‹Ÿ CUID ç©ºç™½å¡&lt;/h2>
&lt;p>æ­£å¸¸éƒ½èƒ½æ¨¡æ‹ŸæˆåŠŸï¼Œä½†è¿™é‡Œå› ä¸ºæ‰‹æœºå‚å•†çš„é™åˆ¶ï¼Œæœ‰ä¸ªå‘ï¼Œåé¢ä¼šè¯´æ˜&lt;/p>
&lt;h2 id="å››æŠŠåŸå¡åŠ å¯†å†…å®¹å†™å…¥æ‰‹æœºæ¨¡æ‹Ÿé—¨ç¦">å››ã€æŠŠåŸå¡åŠ å¯†å†…å®¹å†™å…¥æ‰‹æœºæ¨¡æ‹Ÿé—¨ç¦&lt;/h2>
&lt;p>å‡å¦‚æ‰‹ä¸Šæœ‰å¦ä¸€å°å¸¦ NFC åŠŸèƒ½çš„æ‰‹æœºï¼Œå¯ä»¥åœ¨å¦ä¸€æ‰‹æœºä¹Ÿå®‰è£… MCT ç›´æ¥å†™ï¼Œæ‰‹æœºé€‰æ‹©åˆšåˆšæ¨¡æ‹Ÿçš„é—¨ç¦ä¸ºé»˜è®¤å¡å°±å¯ä»¥&lt;/p>
&lt;p>MCT ä¸­é€‰æ‹©&lt;code>å†™æ ‡ç­¾-&amp;gt;å†™è½¬å‚¨(å…‹éš†)&lt;/code>ï¼Œé€‰æ‹©ä¹‹å‰ä¿å­˜çš„è½¬å‚¨æ–‡ä»¶ï¼Œå‹¾ä¸Šæ‰€æœ‰æ‰‡åŒºå¹¶ç¡®è®¤ï¼Œè¿™æ ·å°±èƒ½æŠŠåŸå¡æ‰€æœ‰å†…å®¹å®Œæ•´å¤åˆ¶åˆ°æ‰‹æœºæ¨¡æ‹Ÿçš„é—¨ç¦äº†ğŸ˜†&lt;/p>
&lt;p>&lt;img src="https://s2.ax1x.com/2020/01/06/lsUQZ6.png"
loading="lazy"
alt="lsUQZ6.png"
>
&lt;img src="https://s2.ax1x.com/2020/01/06/lsanfg.png"
loading="lazy"
alt="lsanfg.png"
>&lt;/p>
&lt;p>å‡å¦‚åªæœ‰ä¸€å°æ‰‹æœºï¼Œå¯ä»¥åœ¨ windows ä¸Šé€šè¿‡ PN532 ä½¿ç”¨&lt;code>MifareOneTool&lt;/code>å†™ã€‚ä¸è¿‡ MCT çš„è½¬å‚¨æ–‡ä»¶åœ¨&lt;code>MifareOneTool&lt;/code>ä¸­ä¸èƒ½è¯†åˆ«ï¼Œéœ€è¦å…ˆè½¬ä¸º MFD æ–‡ä»¶ï¼Œè¿˜å¥½ MCT çš„ github åº“ä¸­æä¾›äº†è½¬æ¢å·¥å…·ã€‚&lt;/p>
&lt;p>è®¿é—®&lt;a class="link" href="https://github.com/ikarus23/MifareClassicTool/tree/master/tools/dump-file-converter" target="_blank" rel="noopener"
>https://github.com/ikarus23/MifareClassicTool/tree/master/tools/dump-file-converter&lt;/a>ä¸‹è½½&lt;code>mct2eml.py&lt;/code>å’Œ&lt;code>eml2mfd.py&lt;/code>å·¥å…·ï¼ŒæŠŠ MCT çš„è½¬å‚¨æ–‡ä»¶ï¼ˆä¿å­˜åœ¨æ‰‹æœº&lt;code>/MifareClassicTool/dump-files/&lt;/code>ç›®å½•ä¸‹ï¼‰è½¬æ¢ä¸º MFD æ ¼å¼æ–‡ä»¶ã€‚&lt;/p>
&lt;pre tabindex="0">&lt;code>python mct2eml.py path_to_mct_dump eml_dump.eml
python eml2mfd.py path_to_eml_dump mfd_dump.mfd
&lt;/code>&lt;/pre>&lt;p>æ‰‹æœºé€‰æ‹©æ¨¡æ‹Ÿçš„é—¨ç¦å¡ï¼Œé è¿‘ PN532ï¼Œåœ¨ MCT ä¸­é€‰æ‹©&lt;code>é«˜çº§æ“ä½œæ¨¡å¼-&amp;gt;å†™M1&lt;/code>ï¼Œé€‰ä¸­åˆšåˆšè½¬æ¢çš„ mfd_dump.mfd æ–‡ä»¶ï¼Œå°±èƒ½å¼€å§‹å†™å…¥äº†&lt;/p>
&lt;p>&lt;img src="https://s2.ax1x.com/2020/01/07/l6RhW9.png"
loading="lazy"
alt="l6RhW9.png"
>&lt;/p>
&lt;h2 id="äº”æ‹¿æ¨¡æ‹Ÿå¥½çš„æ‰‹æœºä¸‹æ¥¼åˆ·å¡">äº”ã€æ‹¿æ¨¡æ‹Ÿå¥½çš„æ‰‹æœºä¸‹æ¥¼åˆ·å¡&lt;/h2>
&lt;p>å•²ï½ä¸€å£°ï¼Œå‡å¦‚é—¨å¼€äº†ï¼Œé‚£ä¹ˆæ­å–œä½ ï¼Œç»ˆäºæ¨¡æ‹ŸæˆåŠŸäº†ï¼Œå‡å¦‚é—¨ç¦å®Œå…¨æ²¡ååº”ï¼Œé—¨å¼€ä¸äº†ï¼Œé‚£å°±æ˜¯é‡åˆ°ä¸Šé¢ç¬¬ä¸‰ç‚¹è¯´çš„å‘äº†â€”â€”å°åŒºé—¨ç¦æ ¡éªŒäº†å‚å•†å·ï¼Œè€Œæ‰‹æœº NFC é™åˆ¶ä¸èƒ½è¦†å†™å‚å•†å·ã€‚&lt;/p>
&lt;blockquote>
&lt;p>ç°åœ¨ä¸»æµå‚å•†çš„æ‰‹æœºæ¨¡æ‹Ÿé—¨ç¦åŠŸèƒ½éƒ½æ˜¯é™åˆ¶äº†å†™å‚å•†å·ï¼Œå‡å¦‚ä½ å°åŒºçš„é—¨ç¦æ˜¯æœ‰æ ¡éªŒå‚å•†å·çš„è¯ï¼Œå»ºè®®ä½ æ”¾å¼ƒå§ï¼Œè¿™ä¸ªæ²¡è§£äº†ã€‚ã€‚ã€‚æ›²çº¿æ•‘å›½çš„æ–¹æ³•å°±æ˜¯æ”¹ä½¿ç”¨æ‰‹æœº NFC å¡è´´æˆ–ä½¿ç”¨æ‰‹æœºç©ºç™½å¡åŠŸèƒ½è®©ç‰©ä¸šç™»è®°ç»™ä¸‹æƒé™&lt;/p>
&lt;/blockquote>
&lt;p>ç›¸å…³å‚è€ƒèµ„æ–™ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://www.billie.cc/blog/Fully-encrypted-Mifare-1-card-cracked.html" target="_blank" rel="noopener"
>RFIDå®‰å…¨ä¹‹å…¨åŠ å¯†Mifare Classic 1Kå¡ç ´è§£&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://learningman.top/archives/144" target="_blank" rel="noopener"
>ä½¿ç”¨ PN532+PL2303HX å¤åˆ¶ JCOP41 æ ¡å›­å¡&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://blog.csdn.net/qq_37806908/article/details/95992392" target="_blank" rel="noopener"
>ä¸€å¡é€š(M1å¡)ç ´è§£è¿‡ç¨‹è®°å½•â€”â€”è·å–æ‰‡åŒºå¯†é’¥&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.jianshu.com/p/d8c60ef531f4" target="_blank" rel="noopener"
>æ¨¡æ‹ŸåŠ å¯†NFCå¡ç‰‡æ–¹æ³•&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>è§£å†³npm å®‰è£… electron å¡ä½ï¼Œæ— æ³•å®Œæˆ</title><link>https://blog.xenori.com/2019/12/fix-npm-hang-when-install-electron/</link><pubDate>Thu, 26 Dec 2019 14:10:18 +0800</pubDate><guid>https://blog.xenori.com/2019/12/fix-npm-hang-when-install-electron/</guid><description>&lt;p>ä½¿ç”¨æœ€æ–°çš„ node v12 å®‰è£… electron æ—¶ï¼Œå‘ç°æ¯æ¬¡è·‘åˆ°ä¸‹é¢çš„è¯­å¥å°±ä¼šæŒ‚ä½ï¼Œæ— æ³•ç»§ç»­å®‰è£…ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&amp;gt; electron@7.1.7 postinstall /Users/cxf/Dev/CapsIndicator/node_modules/electron
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;gt; node install.js
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æŸ¥çœ‹ç½‘ä¸Šç›¸å…³è§£å†³æ–¹æ¡ˆï¼Œå‘ç°æ˜¯å› ä¸º npm éœ€è¦è¿æ¥ github ä¸‹è½½ electron å®‰è£…åŒ…å¯¼è‡´ï¼Œå®‰è£…åŒ…æœ‰ 60M å·¦å³ï¼Œä½†ä» github ä¸‹è½½å´åªæœ‰å‡  KBï¼Œæ‰€ä»¥æ„Ÿè§‰æ˜¯å¡ä½äº†ã€‚ä½†æ”¹ä½¿ç”¨æ·˜å®çš„ cnpm å‘ç°è¿˜æ˜¯ä¼šå¡ä½ï¼Œè¿™æ˜¯å› ä¸º electron çš„åŒ…é»˜è®¤è¿˜æ˜¯æŒ‡å‘ github ä¸‹è½½ï¼Œè¿˜æœ‰ electron æä¾›äº†ä¿®æ”¹ä¸‹è½½åœ°å€çš„ç¯å¢ƒå˜é‡&lt;code>electron_mirror&lt;/code>ï¼Œä½¿ç”¨&lt;code>npm config&lt;/code>è®¾ç½®é…ç½®å˜é‡&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">npm config &lt;span class="nb">set&lt;/span> electron_mirror &lt;span class="s2">&amp;#34;https://npm.taobao.org/mirrors/electron/&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å†æ¬¡æ‰§è¡Œå®‰è£…å‘½ä»¤ï¼Œè™½ç„¶ä¸ä¼šå¡ä½äº†ï¼Œä½†å˜ä¸ºç›´æ¥æç¤º404å®‰è£…å¤±è´¥ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&amp;gt; electron@7.1.7 postinstall /Users/cxf/Dev/CapsIndicator/node_modules/electron
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;gt; node install.js
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">(&lt;/span>node:2216&lt;span class="o">)&lt;/span> UnhandledPromiseRejectionWarning: HTTPError: Response code &lt;span class="m">404&lt;/span> &lt;span class="o">(&lt;/span>Not Found&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> at EventEmitter.&amp;lt;anonymous&amp;gt; &lt;span class="o">(&lt;/span>/Users/cxf/Dev/CapsIndicator/node_modules/got/source/as-stream.js:35:24&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> at EventEmitter.emit &lt;span class="o">(&lt;/span>events.js:210:5&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> at module.exports &lt;span class="o">(&lt;/span>/Users/cxf/Dev/CapsIndicator/node_modules/got/source/get-response.js:22:10&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> at ClientRequest.handleResponse &lt;span class="o">(&lt;/span>/Users/cxf/Dev/CapsIndicator/node_modules/got/source/request-as-event-emitter.js:155:5&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> at Object.onceWrapper &lt;span class="o">(&lt;/span>events.js:300:26&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> at ClientRequest.emit &lt;span class="o">(&lt;/span>events.js:215:7&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> at ClientRequest.origin.emit &lt;span class="o">(&lt;/span>/Users/cxf/Dev/CapsIndicator/node_modules/@szmarczak/http-timer/source/index.js:37:11&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> at HTTPParser.parserOnIncomingClient &lt;span class="o">[&lt;/span>as onIncoming&lt;span class="o">]&lt;/span> &lt;span class="o">(&lt;/span>_http_client.js:583:27&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> at HTTPParser.parserOnHeadersComplete &lt;span class="o">(&lt;/span>_http_common.js:115:17&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> at TLSSocket.socketOnData &lt;span class="o">(&lt;/span>_http_client.js:456:22&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">(&lt;/span>node:2216&lt;span class="o">)&lt;/span> UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async &lt;span class="k">function&lt;/span> without a catch block, or by rejecting a promise which was not handled with .catch&lt;span class="o">()&lt;/span>. &lt;span class="o">(&lt;/span>rejection id: 1&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">(&lt;/span>node:2216&lt;span class="o">)&lt;/span> &lt;span class="o">[&lt;/span>DEP0018&lt;span class="o">]&lt;/span> DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero &lt;span class="nb">exit&lt;/span> code.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm WARN capsindicator@1.0.0 license should be a valid SPDX license expression
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æŸ¥çœ‹ github &lt;a class="link" href="https://github.com/electron/electron-packager/issues/1050" target="_blank" rel="noopener"
>issue#1050&lt;/a> åï¼Œå‘ç°æ˜¯å› ä¸ºæ·˜å®ä¿å­˜çš„ç‰ˆæœ¬ç›®å½•å’Œå®˜æ–¹çš„ä¸åŒï¼Œæ·˜å®å»æ‰äº†&lt;code>v&lt;/code>å‰ç¼€ã€‚&lt;/p>
&lt;pre tabindex="0">&lt;code>// å®˜æ–¹
https://npm.taobao.org/mirrors/electron/v7.1.7/electron-v7.1.7-linux-x64.zip
// æ·˜å®
https://npm.taobao.org/mirrors/electron/7.1.7/electron-v7.1.7-linux-x64.zip
&lt;/code>&lt;/pre>&lt;p>å¥½åœ¨ electron å®˜æ–¹ä¹Ÿæä¾›äº†ä¿®æ”¹ç›®å½•åç§°çš„ç¯å¢ƒå˜é‡&lt;code>electron_custom_dir&lt;/code>ï¼Œé…ç½®æ”¹ä¸‹ï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code>npm config set electron_custom_dir &amp;#34;7.1.7&amp;#34;
&lt;/code>&lt;/pre>&lt;p>å†æ¬¡è¿è¡Œå®‰è£…å‘½ä»¤ï¼Œè¿™æ¬¡ç»ˆäºæˆåŠŸäº†ğŸ˜‚&lt;/p>
&lt;blockquote>
&lt;p>å®˜æ–¹ç›¸å…³çš„&lt;a class="link" href="https://github.com/electron/electron/blob/9c442e0a7e1ee5945c4d1f9f67a814c855b7e440/docs/tutorial/installation.md#custom-mirrors-and-caches" target="_blank" rel="noopener"
>å®‰è£…è¯´æ˜&lt;/a>ï¼š&lt;/p>
&lt;p>&lt;img src="https://i.loli.net/2019/12/26/7QUYwhvlXny8sNG.png"
loading="lazy"
alt="UTOOLS1577342703742.png"
>&lt;/p>
&lt;/blockquote></description></item><item><title>2019 å¹´å›é¡¾ç›˜ç‚¹</title><link>https://blog.xenori.com/2019/12/the-inventory-of-2019/</link><pubDate>Wed, 25 Dec 2019 12:18:12 +0800</pubDate><guid>https://blog.xenori.com/2019/12/the-inventory-of-2019/</guid><description>&lt;h2 id="google--year-in-search-2019httpswwwyoutubecomwatchvzrcdorjiugu">&lt;a class="link" href="https://www.youtube.com/watch?v=ZRCdORJiUgU" target="_blank" rel="noopener"
>Google â€” Year in Search 2019&lt;/a>&lt;/h2>
&lt;p>&lt;a class="link" href="https://www.youtube.com/watch?v=ZRCdORJiUgU" target="_blank" rel="noopener"
>&lt;img src="https://i.loli.net/2019/12/25/X32SBvUr9WK8onk.png"
loading="lazy"
alt="hqdefault.jpg"
>&lt;/a>&lt;/p>
&lt;h2 id="è±†ç“£---2019-å¹´åº¦ç”µå½±httpsmoviedoubancomannual2019sourcenavigation">&lt;a class="link" href="https://movie.douban.com/annual/2019?source=navigation" target="_blank" rel="noopener"
>è±†ç“£ - 2019 å¹´åº¦ç”µå½±&lt;/a>&lt;/h2>
&lt;p>&lt;a class="link" href="https://movie.douban.com/annual/2019?source=navigation" target="_blank" rel="noopener"
>&lt;img src="https://i.loli.net/2019/12/25/ZmSDpvVWMRKcQwa.png"
loading="lazy"
alt="UTOOLS1577248653200.png"
>&lt;/a>&lt;/p>
&lt;h2 id="è±†ç“£---2019-å¹´åº¦éŸ³ä¹httpsmusicdoubancomannual2019sourcenavigation">&lt;a class="link" href="https://music.douban.com/annual/2019?source=navigation" target="_blank" rel="noopener"
>è±†ç“£ - 2019 å¹´åº¦éŸ³ä¹&lt;/a>&lt;/h2>
&lt;p>&lt;a class="link" href="https://music.douban.com/annual/2019?source=navigation" target="_blank" rel="noopener"
>&lt;img src="https://i.loli.net/2019/12/25/4pEHQdYisOhIMet.png"
loading="lazy"
alt="UTOOLS1577249743149.png"
>&lt;/a>&lt;/p>
&lt;h2 id="the-game-award-2019httpswww2pcomarticle282303">&lt;a class="link" href="https://www.2p.com/article/282303" target="_blank" rel="noopener"
>The Game Award 2019&lt;/a>&lt;/h2>
&lt;p>&lt;a class="link" href="https://www.2p.com/article/282303" target="_blank" rel="noopener"
>&lt;img src="https://i.loli.net/2019/12/25/rcWFDJUkGzb1VuY.png"
loading="lazy"
alt="the_game_award"
>&lt;/a>&lt;/p>
&lt;h2 id="æ–°æµªæ–°é—»å¹´ç»ˆç›˜ç‚¹2019å“ªäº›ç¬é—´å€¼å¾—è¢«çœ‹è§httpsweibocomtvvimskbhikjfid10344453520141647885">&lt;a class="link" href="https://weibo.com/tv/v/ImskBhikj?fid=1034:4453520141647885" target="_blank" rel="noopener"
>æ–°æµªæ–°é—»å¹´ç»ˆç›˜ç‚¹ï¼š#2019å“ªäº›ç¬é—´å€¼å¾—è¢«çœ‹è§#&lt;/a>&lt;/h2>
&lt;p>&lt;a class="link" href="https://weibo.com/tv/v/ImskBhikj?fid=1034:4453520141647885" target="_blank" rel="noopener"
>&lt;img src="https://i.loli.net/2019/12/26/F795YgZpILRUjxS.png"
loading="lazy"
alt="UTOOLS1577345816342.png"
>&lt;/a>&lt;/p></description></item><item><title>The Summary of 2019</title><link>https://blog.xenori.com/2019/12/the-summary-of-2019/</link><pubDate>Tue, 24 Dec 2019 15:00:08 +0800</pubDate><guid>https://blog.xenori.com/2019/12/the-summary-of-2019/</guid><description>&lt;p>ä»Šå¹´æ˜¯æš–å†¬ï¼Œæ‰€ä»¥å³ä½¿å·²è¿‡äº†å†¬è‡³ï¼Œå¹¿å·çš„å¤©æ°”è¿˜åªæ˜¯ç§‹ç‘Ÿä¸­å¸¦ç‚¹å‡‰æ„ï¼Œ1111 æ·˜å®ä¹°çš„å†¬è¡£è¿˜æ²¡ä¸€æ¬¡ç©¿è¿‡å‡ºè¡—==ï¼&lt;/p>
&lt;hugo-encrypt>
&lt;div class="hugo-encrypt-encryption-notice">
&lt;p class="hugo-encryptor-tips">æ–‡ç« çš„éƒ¨åˆ†å†…å®¹è¢«å¯†ç ä¿æŠ¤ï¼š&lt;/p>
&lt;noscript>&lt;span id="hugo-encrypt-enable-js">Javascript needs to be enabled to decrypt content&lt;/span>&lt;/noscript>
&lt;div class='hugo-encrypt-form'>
&lt;input
class="hugo-encrypt-input"
id="hugo-encrypt-password"
placeholder='è¯·è¾“å…¥å¯†ç '
/>
&lt;input
class="hugo-encrypt-button"
type="button"
value='ç‚¹å‡»éªŒè¯'
id="button" onclick="hugoDecrypt(document.getElementById('hugo-encrypt-password').value,'input')"
/>
&lt;span class="hugo-encrypt-input-response">&lt;/span>
&lt;/div>
&lt;/div>
&lt;cipher-text data-password='xenori@#$123' style="display:none;">
&lt;p>ä¸Šå‘¨ 3 åˆšè¢«å…¬å¸è£å‘˜ï¼Œå¹´æœ«æ­£å¼åŠ å…¥å¤±ä¸šå¤§å†›ï¼Œç°åœ¨åªèƒ½æ¸¸è¡åœ¨å›¾ä¹¦é¦†ï¼Œæ¶ˆç£¨ä¸‹æ—¶é—´ã€‚ç°åœ¨å¹´é¾„å·²å¥”å››ï¼Œå¯¹äºç»§ç»­ä»äº‹å¼€å‘å·¥ä½œï¼Œæ€»æ˜¯å……æ»¡ç„¦è™‘ï¼Œå†æŠ•ç®€å†æ‰¾å·¥ä½œï¼Œæ„Ÿè§‰å·²å¾ˆå›°éš¾äº†ã€‚&lt;/p>
&lt;p>è‡ªä»å»å¹´è€çˆ¸ä¸­é£åï¼Œåˆ°ç°åœ¨æœ‰ä¸€å¹´æ—¶é—´äº†ï¼Œè…¿è¿˜æ˜¯éº»ç—¹æ— åŠ›çŠ¶æ€ï¼Œè¿˜æ˜¯æ²¡æ³•è‡ªå·±èµ°è·¯ã€‚å¹³æ—¶éƒ½éœ€è¦è€å¦ˆçœ‹ç€ï¼Œçš„ç¡®å¤ªè¾›è‹¦äº†ã€‚æ¯å½“è¿™æ—¶é—´å°±ä¼šæ„Ÿè§‰èº«ä½“å¥åº·æ˜¯å¤šä¹ˆé‡è¦ã€‚&lt;/p>
&lt;p>ä»Šå¹´ç”Ÿæ´»çŠ¶æ€ï¼š&lt;/p>
&lt;ul>
&lt;li>æ–°æˆ¿å…¥ä¼™ï¼Œå…¥ä½æ–°æˆ¿&lt;/li>
&lt;li>æœªæœ‰å¥³æœ‹å‹ï¼Œæœªå©š&lt;/li>
&lt;li>æœªå­¦è½¦&lt;/li>
&lt;li>æœªä¼šæ¸¸æ³³&lt;/li>
&lt;/ul>
&lt;/cipher-text>
&lt;style type="text/css">div#hugo-encrypt-sha1sum {display: none;}&lt;/style>
&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/core.js">&lt;/script>
&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/sha1.js">&lt;/script>
&lt;script>
const storageKey = location.pathname + "password";
const userStorage = localStorage ;
function str2buf(str) {
return new TextEncoder("utf-8").encode(str);
}
function buf2str(buffer) {
return new TextDecoder("utf-8").decode(buffer);
}
function hex2buf(hexStr) {
return new Uint8Array(hexStr.match(/.{2}/g).map(h => parseInt(h, 16)));
}
function deriveKey(passphrase, salt) {
salt = salt || crypto.getRandomValues(new Uint8Array(8));
return crypto.subtle
.importKey("raw", str2buf(passphrase), "PBKDF2", false, ["deriveKey"])
.then(key =>
crypto.subtle.deriveKey(
{ name: "PBKDF2", salt, iterations: 1000, hash: "SHA-256" },
key,
{ name: "AES-GCM", length: 256 },
false,
["encrypt", "decrypt"],
),
)
.then(key => [key, salt]);
}
function decrypt(passphrase, saltIvCipherHex) {
const [salt, iv, data] = saltIvCipherHex.split("-").map(hex2buf);
return deriveKey(passphrase, salt)
.then(([key]) => crypto.subtle.decrypt({ name: "AES-GCM", iv }, key, data))
.then(v => buf2str(new Uint8Array(v)));
}
function removeNotice() {
var notices = document.getElementsByClassName("hugo-encrypt-encryption-notice");
for (let i = 0; i &lt; notices.length; i++) {
notices[i].remove();
}
}
const hugoDecrypt = function(password, type) {
for (const cipher of ciphers) {
decrypt(password, cipher.innerText).then(function(decrypted_text) {
let hash = CryptoJS.SHA1(decrypted_text.replace(/\r?\n?[^\r\n]*$/, ""));
let sha1_sum = CryptoJS.enc.Hex.stringify(hash);
if ( decrypted_text.includes(sha1_sum) ) {
removeNotice();
decrypted_text = decrypted_text.replace(/&lt;div.*?hugo-encrypt-sha1sum.*?>.*?&lt;\/div>/ig, '');
cipher.parentNode.outerHTML = decrypted_text;
userStorage.setItem(storageKey, password);
console.log("Decryption successful. Storing password in Storage.");
}
}).catch(function(error) {
if (type === "input") {
cipher.parentNode.querySelector('.hugo-encrypt-input-response').innerHTML = "å¯†ç é”™è¯¯";
console.log('å¯†ç é”™è¯¯', error);
} else if (type === "storage") {
userStorage.removeItem(location.pathname + "password");
console.log("Password changed. Clearing userStorage.", error);
}
});
}
};
&lt;/script>
&lt;script>
window.onload = () => {
ciphers = Array.from(document.querySelectorAll("cipher-text"));
if (userStorage.getItem(storageKey)) {
console.log("Found storageKey in userStorage. Attemtping decryption");
hugoDecrypt(userStorage.getItem(storageKey), "storage");
}
};
&lt;/script>
&lt;/hugo-encrypt>
&lt;p>2019å¹´å¹´åº¦é€‰æ‹©å¦‚ä¸‹ï¼š&lt;/p>
&lt;h2 id="å¹´åº¦æ¸¸æˆ">å¹´åº¦æ¸¸æˆï¼š&lt;/h2>
&lt;ul>
&lt;li>åªç‹¼&lt;/li>
&lt;li>ç»åœ°æ±‚ç”Ÿï¼ˆæ‰‹æœºï¼‰&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>åªç‹¼æ˜¯ä»Šå¹´æ¸¸ç©ä½“éªŒéƒ½å¥½çš„ï¼Œè™½ç„¶æœ€ç»ˆ BOSS è¿˜æœªé€šå…³ï¼Œæ­»çš„æ¬¡æ•°å¤ªå¤šäº†ã€‚ã€‚ã€‚&lt;/p>
&lt;p>æ‰‹æœºä¸Šçš„ç»åœ°æ±‚ç”Ÿä¸éœ€è¦å‹æªï¼Œé€‚åˆæˆ‘è¿™ç§è½»åº¦ç©å®¶ï¼Œç°åœ¨æœ‰æ—¶é—´éƒ½æ˜¯ç©å®ƒäº†ï¼Œåƒäº†å‡ æ¬¡é¸¡&lt;/p>
&lt;/blockquote>
&lt;h2 id="å¹´åº¦åŠ¨ç”»">å¹´åº¦åŠ¨ç”»ï¼š&lt;/h2>
&lt;ul>
&lt;li>è¿›å‡»å·¨äºº ç¬¬3å­£&lt;/li>
&lt;li>JOJO ç¬¬4å­£&lt;/li>
&lt;/ul>
&lt;h2 id="å¹´åº¦éŸ³ä¹">å¹´åº¦éŸ³ä¹ï¼š&lt;/h2>
&lt;ul>
&lt;li>å…‰å¹´ä¹‹å¤–&lt;/li>
&lt;li>æ¥è‡ªå¤©å ‚çš„é­”é¬¼&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>ä»Šå¹´å› ä¸ºå¬å…‰å¹´ä¹‹å¤–ï¼Œå–œæ¬¢ä¸Šäº†å¬é‚“ç´«æ£‹çš„æ­Œï¼Œç‰¹åˆ«å–œæ¬¢å¥¹çš„ã€Šå†è§ã€‹çš„ MVï¼Œå“ˆå“ˆ&lt;/p>
&lt;/blockquote>
&lt;h2 id="å¹´åº¦ç”µå½±">å¹´åº¦ç”µå½±ï¼š&lt;/h2>
&lt;ul>
&lt;li>å¯„ç”Ÿè™«&lt;/li>
&lt;li>å¤ä»‡è€…è”ç›Ÿ 4&lt;/li>
&lt;li>æµæµªåœ°çƒ&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>ä»Šå¹´æœ€å–œæ¬¢çš„æ˜¯ã€Šæµæµªåœ°çƒã€‹ï¼Œè™½ç„¶è¿˜æ˜¯å…ä¸äº†ä¸­å›½ç”µå½±ç‰¹æœ‰çš„æœ‰äº›ä»¤äººå°´å°¬çš„ç‰‡æ®µï¼Œä½†æœ‰ç¬‘ç‚¹ï¼Œå¤§åˆ˜ç‰¹æœ‰çš„ç§‘å¹»æµªæ¼«ä¸»ä¹‰ç”µå½±æœ‰è¡¨ç°äº†å‡ºæ¥ï¼Œæ„Ÿè§‰è¿™äº›æ˜¯å¥½è±åæ‹ä¸å‡ºæ¥çš„ã€‚æœ¬æ¥è¿˜æƒ³å»çœ‹ä¸‹å¤æ˜ çš„ã€Šåƒä¸åƒå¯»ã€‹çš„ï¼Œä½†æœ€åéƒ½å› ä¸€ä¸ªäººå¤ªæ‡’æ²¡å»æˆã€‚ã€‚ã€‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="å¹´åº¦å›¾ä¹¦">å¹´åº¦å›¾ä¹¦ï¼š&lt;/h2>
&lt;blockquote>
&lt;p>ä»Šå¹´æ²¡å®Œæ•´çœ‹è¿‡ä¸€æœ¬ä¹¦ã€‚ã€‚ã€‚å¹³æ—¶æ™šä¸Šå›æ¥å°±å¤ªç´¯åªçœ‹ä¸‹ bilibili äº†ï¼Œæ˜çœ‹è¦å¤šçœ‹äº›ä¹¦&lt;/p>
&lt;/blockquote>
&lt;h2 id="å¹´åº¦app">å¹´åº¦APPï¼š&lt;/h2>
&lt;ul>
&lt;li>Fxcnbeta&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>æ¯å¤©åœ°é“ä¸Šçœ‹ç§‘æŠ€æ–°é—»&lt;/p>
&lt;/blockquote>
&lt;h2 id="å¹´åº¦ç½‘ç«™">å¹´åº¦ç½‘ç«™ï¼š&lt;/h2>
&lt;ul>
&lt;li>bilibili&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>æ¯å¤©èŠ±çš„æ—¶é—´å¤ªå¤šäº†ï¼Œç”µè§†å’Œæ‰‹æœºä¸Šéƒ½è£…äº† APPï¼Œåœ¨ä¸Šé¢èŠ±äº†å¤§é‡æ—¶é—´&lt;/p>
&lt;/blockquote>
&lt;h2 id="å¹´åº¦æ•°ç ">å¹´åº¦æ•°ç ï¼š&lt;/h2>
&lt;ul>
&lt;li>Airpods Pro&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>Airpods å‰å‡ å¹´å‘å¸ƒæ—¶å°±è§‰å¾—æ˜¯ä¸ªé©å‘½æ€§çš„äº§å“ï¼Œèˆ’é€‚æ— çº¿å¥½ç”¨ï¼Œç°åœ¨åŠ ä¸Šé™å™ªåï¼Œå°±æ›´å®Œç¾äº†ï¼Œåªæ˜¯ä½©æˆ´çš„èˆ’é€‚æ€§ä¸‹é™äº†ï¼Œä¸è¿‡ä¸ºäº†é™å™ªï¼Œè¿˜æ˜¯æœ€å¼ºæœ€å¥½çš„æ— çº¿è“ç‰™è€³æœº&lt;/p>
&lt;/blockquote></description></item><item><title>The Summary of 2017</title><link>https://blog.xenori.com/2018/02/the-summary-of-2017/</link><pubDate>Wed, 14 Feb 2018 11:01:07 +0800</pubDate><guid>https://blog.xenori.com/2018/02/the-summary-of-2017/</guid><description>&lt;p>è¿˜æœ‰ä¸€å¤©å°±åˆ°2018å†œå†æ–°å¹´äº†ï¼Œæ—¶é—´å®åœ¨è¿‡å¾—å¤ªå¿«ã€‚ä»Šå¹´ä¸¤è€çš„èº«ä½“éƒ½æœ‰äº›ä¸å¥½ï¼Œå°±æå‰è¯·å‡å›å®¶ï¼Œç°åœ¨å·²èˆ’æœå‘†åœ¨æˆ¿é—´ä¸­äº†ã€‚å®¶é‡Œçš„å¤©æ°”å®åœ¨æ˜¯èˆ’æœï¼Œé˜³å…‰æ˜åªšï¼Œæƒ³èµ·å¹¿å·ä½å¤„çš„é˜´å†·å¤©æ°”å°±å¤´ç—›ï¼Œè¡£æœå®åœ¨ä¸å®¹æ˜“å¹²ã€‚&lt;/p>
&lt;hugo-encrypt>
&lt;div class="hugo-encrypt-encryption-notice">
&lt;p class="hugo-encryptor-tips">æ–‡ç« çš„éƒ¨åˆ†å†…å®¹è¢«å¯†ç ä¿æŠ¤ï¼š&lt;/p>
&lt;noscript>&lt;span id="hugo-encrypt-enable-js">Javascript needs to be enabled to decrypt content&lt;/span>&lt;/noscript>
&lt;div class='hugo-encrypt-form'>
&lt;input
class="hugo-encrypt-input"
id="hugo-encrypt-password"
placeholder='è¯·è¾“å…¥å¯†ç '
/>
&lt;input
class="hugo-encrypt-button"
type="button"
value='ç‚¹å‡»éªŒè¯'
id="button" onclick="hugoDecrypt(document.getElementById('hugo-encrypt-password').value,'input')"
/>
&lt;span class="hugo-encrypt-input-response">&lt;/span>
&lt;/div>
&lt;/div>
&lt;cipher-text data-password='xenori@#$123' style="display:none;">
&lt;p>æ•´ç†2017å¹´çš„å®Œæˆè®¡åˆ’ï¼Œå‘ç°è¿˜æ˜¯æœ‰å¾ˆå¤šæœªå®Œæˆï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;del>å¹¿å·å…¥æˆ·&lt;/del>&lt;/li>
&lt;li>å­¦è½¦&lt;/li>
&lt;li>å­¦æ¸¸æ³³&lt;/li>
&lt;li>å­¦è‹±è¯­&lt;/li>
&lt;/ul>
&lt;p>å…¥æˆ·ä»å¹´åˆä¸€ç›´æåˆ°å¹´å°¾çš„11æœˆä»½æ‰æå®Œï¼Œè¢«è®¡ç”Ÿè¯å’Œå±…ä½è¯å¡äº†å¾ˆé•¿æ—¶é—´ï¼Œè¿˜ä»¥ä¸ºä»Šå¹´æ˜¯åŠä¸äº†äº†ï¼Œè¿˜å¥½åœ¨10æœˆä»½å‡ºäº†æ–°æ”¿ç­–â€”â€”å–æ¶ˆäº†è®¡ç”Ÿè¯è¦æ±‚ï¼Œå±…ä½è¯ä¹Ÿä¾¥å¹¸é€šè¿‡å®¡æ ¸äº†ï¼Œå‰©ä¸‹çš„å°±ç­‰8æœˆä»½æ”¶æ¥¼åï¼Œè¿åˆ°æ–°æˆ¿äº†ï¼šï¼‰&lt;/p>
&lt;p>å­¦è½¦å­¦äº†å‡ æ¬¡å°±æ²¡åŠ¨åŠ›äº†ï¼Œå¼€è½¦è¦å…³æ³¨çš„å¤ªå¤šäº†ï¼Œè¿˜è¦å…»è½¦ã€‚ã€‚ã€‚ä¸è¿‡2018å¹´ä¼šèŠ±å¤šäº›æ—¶é—´å­¦å®Œï¼Œåªè¦æ˜¯æ–¹ä¾¿æ¥å®¶äººå‡ºå»åŠäº‹ï¼Œåˆ°æ—¶å†çœ‹ä¸‹è¦ä¸è¦ä¹°è½¦ä½å§ã€‚&lt;/p>
&lt;p>ä»Šå¹´æ„Ÿæƒ…ä¸Šè¿˜æ˜¯æ²¡å¤§å‘å±•ï¼Œä¸€ä¸ªäººçš„ç¡®ç”Ÿæ´»æƒ¯äº†ï¼Œå‘ç°å’Œäººç›¸å¤„å’Œè¿½äººå®åœ¨æ²¡åŠ¨åŠ›ï¼Œæ„Ÿè§‰è¿˜æœ‰ä¸€ç‚¹ä¸æƒ³ç»“å©šã€‚ã€‚ã€‚ä¸è¿‡ä¸€ä¸ªäººç”Ÿæ´»ç—…ç—›æ˜¯ä¸ªé—®é¢˜ï¼Œ12æœˆä»½å‡ºç°äº†ä¸€æ¬¡å‰§çƒˆçš„èƒƒç—›ï¼Œå½“æ—¶çœŸçš„ç—›åˆ°å¿«æ™•è¿‡å»äº†ï¼Œä½†å‘¨å›´æ²¡äººå¯ä»¥ä¾é å¸¦å»åŒ»é™¢ï¼Œæœ‰æ—¶æƒ³ï¼Œå‡å¦‚æ˜¯é‡åˆ°å¿ƒè„æŠ½æçš„è¯ï¼Œå¯èƒ½å°±ä¸€ç›´æ²¡äººå‘ç°äº†ï¼Œå”‰ã€‚&lt;/p>
&lt;p>å·¥ä½œä¸Šä¹Ÿæ²¡å¤§è¿›å±•ï¼Œç»´æŠ¤çš„ç°æœ‰ç«™ç‚¹å·²ç»ç¨³å®šäº†ï¼ŒæŠ€æœ¯ä¸Šæ²¡ä»€ä¹ˆæŒ‘æˆ˜æ€§ï¼Œæœ‰äº›æƒ³ç¦»èŒï¼Œä½†ç°åœ¨å¹´é¾„è¶Šæ¥è¶Šå¤§ï¼Œæ‰¾æ–°çš„åˆé€‚å·¥ä½œå®åœ¨ä¸å®¹æ˜“ï¼Œä¸€å¹´éƒ½åœ¨æ€è€ƒè¿˜é€‚ä¸é€‚åˆåšç¨‹åºå‘˜ï¼Œä½†æ‰¾ä¸åˆ°å…¶ä»–å‡ºè·¯ï¼Œæœ‰äº›æƒ³è½¬åšè¿œç¨‹SOHOå·¥ä½œï¼Œä½†åœ¨ä¸­å›½ä¸æ˜¯å¤ªé è°±ã€‚&lt;/p>
&lt;p>æ–°çš„ä¸€å¹´ï¼Œå¸Œæœ›å®¶äººèº«ä½“èƒ½å¥åº·å¿«ä¹äº›ï¼Œå‡†å¤‡å­¦ä¸‹è‡ªå·±åšé¥­ï¼Œåˆ°ä¸‹å¹´æ˜¥èŠ‚å¯ä»¥è‡ªå·±æ¥æ“åŠ³ä¸‹å¹´å¤œé¥­ã€‚&lt;/p>
&lt;/cipher-text>
&lt;style type="text/css">div#hugo-encrypt-sha1sum {display: none;}&lt;/style>
&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/core.js">&lt;/script>
&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/sha1.js">&lt;/script>
&lt;script>
const storageKey = location.pathname + "password";
const userStorage = localStorage ;
function str2buf(str) {
return new TextEncoder("utf-8").encode(str);
}
function buf2str(buffer) {
return new TextDecoder("utf-8").decode(buffer);
}
function hex2buf(hexStr) {
return new Uint8Array(hexStr.match(/.{2}/g).map(h => parseInt(h, 16)));
}
function deriveKey(passphrase, salt) {
salt = salt || crypto.getRandomValues(new Uint8Array(8));
return crypto.subtle
.importKey("raw", str2buf(passphrase), "PBKDF2", false, ["deriveKey"])
.then(key =>
crypto.subtle.deriveKey(
{ name: "PBKDF2", salt, iterations: 1000, hash: "SHA-256" },
key,
{ name: "AES-GCM", length: 256 },
false,
["encrypt", "decrypt"],
),
)
.then(key => [key, salt]);
}
function decrypt(passphrase, saltIvCipherHex) {
const [salt, iv, data] = saltIvCipherHex.split("-").map(hex2buf);
return deriveKey(passphrase, salt)
.then(([key]) => crypto.subtle.decrypt({ name: "AES-GCM", iv }, key, data))
.then(v => buf2str(new Uint8Array(v)));
}
function removeNotice() {
var notices = document.getElementsByClassName("hugo-encrypt-encryption-notice");
for (let i = 0; i &lt; notices.length; i++) {
notices[i].remove();
}
}
const hugoDecrypt = function(password, type) {
for (const cipher of ciphers) {
decrypt(password, cipher.innerText).then(function(decrypted_text) {
let hash = CryptoJS.SHA1(decrypted_text.replace(/\r?\n?[^\r\n]*$/, ""));
let sha1_sum = CryptoJS.enc.Hex.stringify(hash);
if ( decrypted_text.includes(sha1_sum) ) {
removeNotice();
decrypted_text = decrypted_text.replace(/&lt;div.*?hugo-encrypt-sha1sum.*?>.*?&lt;\/div>/ig, '');
cipher.parentNode.outerHTML = decrypted_text;
userStorage.setItem(storageKey, password);
console.log("Decryption successful. Storing password in Storage.");
}
}).catch(function(error) {
if (type === "input") {
cipher.parentNode.querySelector('.hugo-encrypt-input-response').innerHTML = "å¯†ç é”™è¯¯";
console.log('å¯†ç é”™è¯¯', error);
} else if (type === "storage") {
userStorage.removeItem(location.pathname + "password");
console.log("Password changed. Clearing userStorage.", error);
}
});
}
};
&lt;/script>
&lt;script>
window.onload = () => {
ciphers = Array.from(document.querySelectorAll("cipher-text"));
if (userStorage.getItem(storageKey)) {
console.log("Found storageKey in userStorage. Attemtping decryption");
hugoDecrypt(userStorage.getItem(storageKey), "storage");
}
};
&lt;/script>
&lt;/hugo-encrypt>
&lt;p>2017å¹´å¹´åº¦é€‰æ‹©å¦‚ä¸‹ï¼š&lt;/p>
&lt;h2 id="å¹´åº¦æ¸¸æˆ">å¹´åº¦æ¸¸æˆï¼š&lt;/h2>
&lt;ul>
&lt;li>å¡å°”è¾¾ä¼ è¯´ è’é‡ä¹‹æ¯&lt;/li>
&lt;li>ç»åœ°æ±‚ç”Ÿ&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>å‘ç°ä»Šå¹´æ˜¯æ¯•ä¸šå·¥ä½œä»¥æ¥æƒ³æ¸¸æˆæœ€å¤šçš„ä¸€å¹´==ï¼å¡å°”è¾¾ä¼ è¯´åº”è¯¥æ˜¯è¿‘10å¹´æ¥ç©è¿‡æœ€å¥½ç©çš„æ¸¸æˆäº†ï¼Œå†’é™©æ¢ç´¢è¦ç´ å¤ªå¼ºäº†ï¼Œæˆ˜æ–—ç³»ç»Ÿä¹Ÿç®€å•æœ‰æ·±åº¦ï¼Œè´¡çŒ®äº†100+å°æ—¶ï¼Œç°åœ¨è¿˜æœªæ‰“å¡å†œï¼Œå‡†å¤‡äºŒå‘¨ç›®å†é€šå…³äº†ã€‚&lt;/p>
&lt;p>ç»åœ°æ±‚ç”Ÿç»å¯¹æ˜¯ä»Šå¹´PCçš„å¹´åº¦æ¸¸æˆï¼Œé‡æ–°å®šä¹‰äº†â€œåƒé¸¡â€è¿™ä¸ªè¯ï¼Œæ¨ªæ‰«äº†ä¸­å›½å¤§ç‰‡ç½‘å§ã€‚ä¸è¿‡è¿™æ¸¸æˆçš„æ¸¸æˆæ€§çœŸçš„å¾ˆå¥½ï¼Œé€‚åˆå¤šç§ç©æ³•ï¼Œå°±ç®—æ˜¯ä¸€èº«çƒ‚æªæŠ€ï¼Œé æ‹¼å¤´è„‘é˜´äººä¹Ÿå¯ä»¥æ‰¾åˆ°è‡ªå·±ç”Ÿå­˜çš„æ–¹æ³•ï¼Œè´¡çŒ®äº†150+å°æ—¶ï¼Œè¿˜åœ¨ç©ä¸­ã€‚ã€‚ã€‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="å¹´åº¦åŠ¨ç”»">å¹´åº¦åŠ¨ç”»ï¼š&lt;/h2>
&lt;blockquote>
&lt;p>å°‘çœ‹æ–°ç•ªäº†ï¼Œä»Šå¹´æ²¡ç‰¹åˆ«å–œæ¬¢çš„&lt;/p>
&lt;/blockquote>
&lt;h2 id="å¹´åº¦éŸ³ä¹">å¹´åº¦éŸ³ä¹ï¼š&lt;/h2>
&lt;ul>
&lt;li>&lt;a class="link" href="http://music.163.com/song?id=458231324" target="_blank" rel="noopener"
>Forerver Young&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="http://music.163.com/#/song?id=27810022" target="_blank" rel="noopener"
>How Long Will I Love You&lt;/a>&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>éŸ³ä¹éƒ½æ˜¯çœ‹ç”µå½±æˆ–è§†é¢‘å¬åˆ°çš„&lt;/p>
&lt;/blockquote>
&lt;h2 id="å¹´åº¦ç”µå½±">å¹´åº¦ç”µå½±ï¼š&lt;/h2>
&lt;ul>
&lt;li>ç–¯ç‹‚åŸå§‹äºº&lt;/li>
&lt;li>ç›—é’¥åŒ™çš„æ–¹æ³• / éµæ³¥æ£’ã®ãƒ¡ã‚½ãƒƒãƒ‰&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>æ—¥æœ¬ç”µå½±ã€Šç›—é’¥åŒ™çš„æ–¹æ³•ã€‹æ˜¯ä¸ªå°æƒŠå–œï¼Œå®åœ¨æ²¡çŒœåˆ°ç»“å±€ï¼šï¼‰&lt;/p>
&lt;/blockquote>
&lt;h2 id="å¹´åº¦å›¾ä¹¦">å¹´åº¦å›¾ä¹¦ï¼š&lt;/h2>
&lt;p>æ— &lt;/p>
&lt;h2 id="å¹´åº¦app">å¹´åº¦APPï¼š&lt;/h2>
&lt;ul>
&lt;li>æ‘©æ‹œ&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>æ™ºèƒ½æ‰‹æœºå‘å±•äº†10å¹´ï¼Œåœ°ç›˜éƒ½åˆ†å®Œäº†ï¼Œä»Šå¹´æ–°ç”¨ä¸Šåˆç«çš„å°±æ˜¯å…±äº«å•è½¦äº†&lt;/p>
&lt;/blockquote>
&lt;h2 id="å¹´åº¦ç½‘ç«™">å¹´åº¦ç½‘ç«™ï¼š&lt;/h2>
&lt;ul>
&lt;li>bilibili&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>æ¯å¤©èŠ±çš„æ—¶é—´å¤ªå¤šäº†ï¼Œçœ‹äº†å¾ˆå¤šç¾é£Ÿè§†é¢‘ã€‚ã€‚ã€‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="å¹´åº¦æ•°ç ">å¹´åº¦æ•°ç ï¼š&lt;/h2>
&lt;ul>
&lt;li>Nintendo Switch&lt;/li>
&lt;li>Airpods&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>NSåˆ›æ„å¾ˆå¥½ï¼Œä»Šå¹´æ¸¸æˆå¤§ä½œä¸æ–­ï¼Œç©å¾—å¾ˆå¼€å¿ƒã€‚airpodsæ˜¯ä¸ªé©å‘½æ€§çš„äº§å“ï¼ˆå¯¹æ— çº¿ä¾¿æ·çš„äº§å“æˆ‘éƒ½ç‰¹åˆ«æœ‰å¥½æ„Ÿï¼‰ï¼Œé™¤äº†æˆ´èµ·æ¥å¤ªä¸‘å¤–ï¼Œæ²¡å…¶ä»–ç¼ºç‚¹ï¼Œæ–¹ä¾¿å®ç”¨ï¼Œé€ç¤¼ä½³å“ï¼Œè¶…è¶Šäº†å…¶ä»–è€³æœºå‚å•†3~5å¹´çš„æŠ€æœ¯å®åŠ›ã€‚ã€‚ã€‚è‹¹æœé¡¶å‘±å‘±&lt;/p>
&lt;/blockquote></description></item><item><title>ä½¿ç”¨gdbè°ƒè¯•phpçš„coredumpæ–‡ä»¶</title><link>https://blog.xenori.com/2015/07/2015-using-gdb-to-debug-php-coredump/</link><pubDate>Wed, 08 Jul 2015 01:33:35 +0800</pubDate><guid>https://blog.xenori.com/2015/07/2015-using-gdb-to-debug-php-coredump/</guid><description>&lt;p>ä½¿ç”¨xhprofæµ‹è¯•slimæ¡†æ¶çš„æ€§èƒ½æ—¶ï¼Œå‘ç°phpæŠ›äº†Segment Faulté”™è¯¯ï¼Œè¯•ç€ä½¿ç”¨gdbæŸ¥çœ‹æ˜¯ä»€ä¹ˆå¯¼è‡´çš„ã€‚&lt;/p>
&lt;h2 id="ç”Ÿæˆcoredumpæ–‡ä»¶">ç”Ÿæˆcoredumpæ–‡ä»¶&lt;/h2>
&lt;p>è¦ç”Ÿæˆphpçš„coredumpæ–‡ä»¶éœ€è¦å¯¹ç³»ç»Ÿè¿›è¡Œä¸€äº›é…ç½®ï¼Œå…·ä½“æŸ¥çœ‹ï¼š&lt;a class="link" href="https://rtcamp.com/tutorials/php/core-dump-php5-fpm/" target="_blank" rel="noopener"
>Generating core-dump for php5-fpm&lt;/a>&lt;/p>
&lt;h2 id="ä½¿ç”¨gdbè°ƒè¯•coredumpæ–‡ä»¶">ä½¿ç”¨gdbè°ƒè¯•coredumpæ–‡ä»¶&lt;/h2>
&lt;p>æ‰§è¡Œgdbå‘½ä»¤ï¼Œå› ä¸ºcoredumpæ˜¯php-fpmè¿›ç¨‹ç”Ÿæˆçš„ï¼Œè¿˜éœ€è¦æŒ‡å®šphp-fpmçš„è·¯å¾„ï¼Œè¦ä¸æŸ¥çœ‹ä¸äº†å…·ä½“çš„ä»£ç æ‰§è¡Œä¿¡æ¯ã€‚&lt;/p>
&lt;pre tabindex="0">&lt;code>$ gdb /usr/local/php5/sbin/php-fpm -c /tmp/core-php-fpm.1567
&lt;/code>&lt;/pre>&lt;h2 id="gdbè°ƒè¯•å‘½ä»¤">gdbè°ƒè¯•å‘½ä»¤&lt;/h2>
&lt;h3 id="bt">bt&lt;/h3>
&lt;p>btå‘½ä»¤æ‰“å°ç¨‹åºæ‰§è¡Œçš„å †æ ˆä¿¡æ¯&lt;/p>
&lt;pre tabindex="0">&lt;code>(gdb) bt
#0 _phpi_pop (ht=&amp;lt;value optimized out&amp;gt;, return_value=0x7faf756ace10, return_value_ptr=0x0, this_ptr=&amp;lt;value optimized out&amp;gt;,
return_value_used=&amp;lt;value optimized out&amp;gt;, off_the_end=0) at /home/apps/php-5.6.10/ext/standard/array.c:1879
#1 0x00007faf7d8f3317 in hp_execute_internal (execute_data=0x7faf8991db40, fci=0x0, ret=1) at /home/apps/xhprof-master/extension/xhprof.c:1730
#2 0x0000000000888cc5 in zend_do_fcall_common_helper_SPEC (execute_data=&amp;lt;value optimized out&amp;gt;) at /home/apps/php-5.6.10/Zend/zend_vm_execute.h:560
#3 0x00000000008787d0 in execute_ex (execute_data=0x7faf8991db40) at /home/apps/php-5.6.10/Zend/zend_vm_execute.h:363
#4 0x00007faf7d8f2ca9 in hp_execute_ex (execute_data=0x7faf8991db40) at /home/apps/xhprof-master/extension/xhprof.c:1675
&lt;/code>&lt;/pre>&lt;h3 id="p">p&lt;/h3>
&lt;p>på‘½ä»¤ç”¨äºæ‰“å°å˜é‡ä¿¡æ¯&lt;/p>
&lt;pre tabindex="0">&lt;code>(gdb) p *executor_globals-&amp;gt;argument_stack
$2 = {top = 0x7faf8991dc38, end = 0x7faf8993d848, prev = 0x0}
&lt;/code>&lt;/pre>&lt;h3 id="f">f&lt;/h3>
&lt;p>åˆ‡æ¢å½“å‰çš„æ ˆï¼Œä¸€èˆ¬æ¥è¯´ï¼Œç¨‹åºåœæ­¢æ—¶ï¼Œæœ€é¡¶å±‚çš„æ ˆå°±æ˜¯å½“å‰æ ˆ&lt;/p>
&lt;pre tabindex="0">&lt;code># åˆ‡æ¢åˆ°1å±‚çº§çš„æ ˆ
(gdb) f 1
#1 0x00007f701d60c317 in hp_execute_internal (execute_data=0x7f702940a858, fci=0x0, ret=1) at /home/apps/xhprof-master/extension/xhprof.c:1730
1730 ((zend_internal_function *) execute_data-&amp;gt;function_state.function)-&amp;gt;handler(
# æŸ¥çœ‹å½“å‰æ ˆä¿¡æ¯
(gdb) info f
Stack level 1, frame at 0x7fff515e2090:
rip = 0x7f701d60c317 in hp_execute_internal (/home/apps/xhprof-master/extension/xhprof.c:1730); saved rip 0x888a15
called by frame at 0x7fff515e2150, caller of frame at 0x7fff515e2040
source language c.
Arglist at 0x7fff515e2038, args: execute_data=0x7f702940a858, fci=0x0, ret=1
Locals at 0x7fff515e2038, Previous frame&amp;#39;s sp is 0x7fff515e2090
Saved registers:
rbx at 0x7fff515e2058, rbp at 0x7fff515e2060, r12 at 0x7fff515e2068, r13 at 0x7fff515e2070, r14 at 0x7fff515e2078, r15 at 0x7fff515e2080,
rip at 0x7fff515e2088
&lt;/code>&lt;/pre>&lt;h3 id="info">info&lt;/h3>
&lt;p>æŸ¥çœ‹ä¿¡æ¯&lt;/p>
&lt;pre tabindex="0">&lt;code># æ‰“å°å±€éƒ¨å˜é‡ä¿¡æ¯
info locals
# æ‰“å°å…¨å±€å’Œå±€éƒ¨å˜é‡ä¿¡æ¯
info variables
# æ‰“å°å‚æ•°ä¿¡æ¯
info args
# æ‰“å°å½“å‰å †æ ˆä¿¡æ¯
info f
&lt;/code>&lt;/pre>&lt;h2 id="phpè„šæœ¬è°ƒè¯•å‘½ä»¤">phpè„šæœ¬è°ƒè¯•å‘½ä»¤&lt;/h2>
&lt;p>ä½¿ç”¨phpè„šæœ¬è°ƒè¯•å‘½ä»¤ï¼Œéœ€è¦å¼•å…¥phpæºç ä¸­çš„è„šæœ¬æ–‡ä»¶.gdbinitã€‚&lt;/p>
&lt;pre tabindex="0">&lt;code>(gdb) source /home/apps/php-5.6.10/.gdbinit
&lt;/code>&lt;/pre>&lt;h3 id="zbacktrace">zbacktrace&lt;/h3>
&lt;p>zbacktraceå¯ä»¥æ‰“å°phpçš„å †æ ˆä¿¡æ¯ï¼Œä¸åŒäºbtåªæ‰“å°cçš„å †æ ˆä¿¡æ¯ã€‚&lt;/p>
&lt;pre tabindex="0">&lt;code>(gdb) zbacktrace
[0x7faf8991db40] array_shift(array(2)[0x7faf756acc88]) /var/www/html/php-framework-benchmark/slim-2.6/vendor/slim/slim/Slim/Slim.php:441
[0x7faf8991da18] Slim\Slim-&amp;gt;mapRoute(array(2)[0x7faf897a0590]) /var/www/html/php-framework-benchmark/slim-2.6/vendor/slim/slim/Slim/Slim.php:473
[0x7faf8991d910] Slim\Slim-&amp;gt;get(&amp;#34;/hello/index&amp;#34;, object[0x7faf897a0510]) /var/www/html/php-framework-benchmark/slim-2.6/index.php:18
&lt;/code>&lt;/pre>&lt;h3 id="print_cvs">print_cvs&lt;/h3>
&lt;p>print_cvsæ‰“å°å½“å‰æ‰§è¡Œå‘½ä»¤ä¸‹çš„æ‰€æœ‰phpå˜é‡&lt;/p>
&lt;h3 id="printzv">printzv&lt;/h3>
&lt;p>æ‰“å°zvalå˜é‡ä¿¡æ¯ï¼Œå¯æŒ‡å®šzvalçš„æŒ‡é’ˆåœ°å€ï¼Œå¦‚zbacktraceè¿”å›çš„å‡½æ•°å‚æ•°åœ°å€&lt;/p>
&lt;pre tabindex="0">&lt;code>(gdb) printzv 0x7faf756acc88
[0x7faf756acc88] (refcount=2,is_ref) array(2): {
0 =&amp;gt; [0x7faf8979ee40] (refcount=4) string(12): &amp;#34;/hello/index&amp;#34;
1 =&amp;gt; [0x7faf897a0510] (refcount=3) objectYou can&amp;#39;t do that without a process to debug.
&lt;/code>&lt;/pre>&lt;h3 id="print_ht">print_ht&lt;/h3>
&lt;p>print_htæ˜¯ç”¨æ‰“å°zvalå˜é‡ä¿¡æ¯&lt;/p>
&lt;h3 id="print_htptr">print_htptr&lt;/h3>
&lt;p>print_htptræ˜¯ç”¨æ‰“å°zvalæŒ‡é’ˆæŒ‡å‘çš„å˜é‡ä¿¡æ¯&lt;/p>
&lt;h3 id="print_htstr">print_htstr&lt;/h3>
&lt;p>print_htstrç”¨äºæ‰“å°stringæ„æˆçš„Hashtableå˜é‡ä¿¡æ¯&lt;/p>
&lt;h3 id="print_ft">print_ft&lt;/h3>
&lt;p>print_ftç”¨äºæ‰“å°function table (HashTable)&lt;/p>
&lt;h3 id="zmemcheck">zmemcheck&lt;/h3>
&lt;p>zmemcheckç”¨äºæ˜¾ç¤ºå½“å‰çš„å†…åœ¨åˆ†é…çŠ¶æ€ä¿¡æ¯&lt;/p>
&lt;h2 id="phpå…¨å±€å¯¹è±¡executor_globals">phpå…¨å±€å¯¹è±¡executor_globals&lt;/h2>
&lt;p>phpæºç ç”¨æœ‰ä¸ªç”¨EGå®è¡¨ç¤ºçš„å…¨å±€å¯¹è±¡executor_globalsï¼Œå®ƒåŒ…å«äº†phpæ‰€æœ‰ç›¸å…³çš„æ‰§è¡Œä¿¡æ¯ï¼Œå¦‚å½“å‰æ‰§è¡Œçš„op_arrayï¼Œä¼ é€’å‚æ•°å’Œå‡½æ•°åç­‰ä¿¡æ¯ã€‚æºç ä¸­çš„EG(v)å®é™…æ˜¯è°ƒç”¨executor_globals-&amp;gt;vã€‚executor_globalsåŒ…å«çš„å˜é‡æœ‰å¾ˆå¤šï¼Œå¯ä»¥ç”¨å‘½ä»¤ï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code>p executor_globals
&lt;/code>&lt;/pre>&lt;p>æ‰“å°å‡ºæ¥æŸ¥çœ‹ã€‚&lt;/p>
&lt;p>ä¸‹é¢æ˜¯æ¯”è¾ƒé‡è¦çš„å‡ ä¸ªå˜é‡ï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code>argument_stack : ä¼ é€’ç»™å½“å‰è°ƒç”¨å‡½æ•°çš„å‚æ•°å †æ ˆï¼Œå¯ä»¥æŸ¥çœ‹å‚æ•°ä¿¡æ¯
current_execute_data : å½“å‰æ‰§è¡Œçš„å‘½ä»¤ä¿¡æ¯ï¼Œå¦‚å½“å‰æ‰§è¡Œå‡½æ•°ä¿¡æ¯ï¼Œop_arrayï¼Œop_codeç­‰
prev_execute_data ï¼šå‰ä¸€æ‰§è¡Œå‘½ä»¤ä¿¡æ¯ï¼Œç›¸å½“äºè°ƒç”¨å‡½æ•°çš„ä¸Šçº§å‡½æ•°
active_op_array : å½“å‰æ­£åœ¨æ‰§è¡Œçš„op_array
exception : å½“å‰åŒ…å«çš„å¼‚å¸¸ä¿¡æ¯
&lt;/code>&lt;/pre>&lt;p>æŸ¥çœ‹ç¤ºä¾‹ï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code>## æŸ¥çœ‹å½“å‰æ‰§è¡Œå‘½ä»¤ä¿¡æ¯
(gdb) p *executor_globals-&amp;gt;current_execute_data
$8 = {opline = 0x7faf76376fd0, function_state = {function = 0x1123720, arguments = 0x7faf8991dc30}, op_array = 0x7faf897bf9f8, object = 0x0,
symbol_table = 0x0, prev_execute_data = 0x7faf8991da18, old_error_reporting = 0x0, nested = 0 &amp;#39;\000&amp;#39;, original_return_value = 0x0,
current_scope = 0x7faf8991da28, current_called_scope = 0x0, current_this = 0x0, fast_ret = 0x0, delayed_exception = 0x0,
call_slots = 0x7faf8991dc08, call = 0x7faf8991dc08}
## æŸ¥çœ‹å‰ä¸€æ‰§è¡Œå‘½ä»¤ä¿¡æ¯ï¼Œç›¸å½“äºä¸Šçº§è°ƒç”¨å‡½æ•°
(gdb) p *executor_globals-&amp;gt;current_execute_data-&amp;gt;prev_execute_data
$19 = {opline = 0x7faf763781e8, function_state = {function = 0x7faf897bf9f8, arguments = 0x7faf8991dad8}, op_array = 0x7faf897bf020,
object = 0x7faf8978adf0, symbol_table = 0x0, prev_execute_data = 0x7faf8991d910, old_error_reporting = 0x0, nested = 0 &amp;#39;\000&amp;#39;,
original_return_value = 0x0, current_scope = 0x7faf897c2d48, current_called_scope = 0x7faf897c2d48, current_this = 0x7faf8978adf0,
fast_ret = 0x7faf897c2d48, delayed_exception = 0x0, call_slots = 0x7faf8991dab0, call = 0x7faf8991dab0}
&lt;/code>&lt;/pre>&lt;h2 id="æ‰©å±•é˜…è¯»">æ‰©å±•é˜…è¯»&lt;/h2>
&lt;p>&lt;a class="link" href="http://www.laruence.com/2011/06/23/2057.html" target="_blank" rel="noopener"
>å¦‚ä½•è°ƒè¯•PHPçš„Coreä¹‹è·å–åŸºæœ¬ä¿¡æ¯&lt;/a>&lt;br>
&lt;a class="link" href="http://www.php-internals.com/book/" target="_blank" rel="noopener"
>TIPI: æ·±å…¥ç†è§£PHPå†…æ ¸&lt;/a>&lt;/p></description></item><item><title>è§£å†³cookieå†²çªå¯¼è‡´çš„ç™»å½•å¾ªç¯é‡å®šå‘</title><link>https://blog.xenori.com/2015/04/loop-redirect-cause-by-cookie-conflict/</link><pubDate>Thu, 02 Apr 2015 00:21:00 +0000</pubDate><guid>https://blog.xenori.com/2015/04/loop-redirect-cause-by-cookie-conflict/</guid><description>&lt;p>è¿‘æ’å¼€å‘çš„ä¸€ä¸ªåå°ç³»ç»Ÿï¼ˆåŸŸåï¼šadmin.test.test.comï¼‰åœ¨æ¥å…¥å…¬å¸ç»Ÿä¸€SSOæ—¶ï¼Œé‡åˆ°äº†cookieå†²çªå¼•èµ·çš„ç™»å½•å¾ªç¯é‡å®šå‘çš„bugã€‚&lt;/p>
&lt;p>å…¬å¸æœ‰ä¸€ä¸ªç»Ÿä¸€çš„SSOç™»å½•é¡µé¢ï¼Œæˆ‘ä»¬å¼€å‘çš„ç³»ç»Ÿæ˜¯è·³è½¬åˆ°è¯¥é¡µé¢å®ç°ç™»å½•éªŒè¯çš„ã€‚æœ‰ç”¨æˆ·åæ˜ ç™»å½•ä¸äº†ï¼Œæµè§ˆå™¨æç¤ºå¾ªç¯é‡å®šå‘äº†ï¼ŒæŸ¥çœ‹ç”¨æˆ·æµè§ˆå™¨å‘ç°æœ‰ä¸¤ä¸ªç›¸åŒåç§°çš„session cookieï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code>PHPSESSID=token1; path=/; expired=/; domain=.test.com
PHPSESSID=token2; path=/; expired=/; domain=.test.test.com
&lt;/code>&lt;/pre>&lt;p>æ˜¾ç„¶è¿™ä¸¤ä¸ªcookieçš„domainå› ä¸ºéƒ½æ˜¯admin.test.test.comçš„æ ¹åŸŸåï¼Œä½¿æµè§ˆå™¨éƒ½å‘é€åˆ°phpåå°ç³»ç»Ÿäº†ã€‚ç¬¬ä¸€ä¸ªæ˜¯åå°ç³»ç»Ÿï¼ˆadmin.test.test.comï¼‰å†™å…¥çš„ï¼Œæ˜¯æ­£ç¡®çš„session idï¼Œè€Œç¬¬äºŒä¸ªæ˜¯ç”±æœªçŸ¥ç³»ç»Ÿå†™å…¥çš„ã€‚æµ‹è¯•æ‰“å°**$_COOKIE[&amp;lsquo;PHPSESSID&amp;rsquo;]**å‘ç°è¾“å‡ºæ˜¯ï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code>token2
&lt;/code>&lt;/pre>&lt;p>å¾ˆæ˜æ˜¾phpè¯»å–åˆ°äº†é”™è¯¯çš„session idï¼Œæ‰€ä»¥å¯¼è‡´ç³»ç»Ÿè¯»å–ä¸åˆ°ä¿å­˜åœ¨sessionä¸­çš„ç™»å½•ä¿¡æ¯ï¼Œè€Œè¯¯åˆ¤ç”¨æˆ·ä¸ºæœªç™»å½•ï¼Œä¹‹åå†æŠŠç”¨æˆ·è·³è½¬å›SSOç™»å½•é¡µé¢ï¼Œè·³è½¬å›SSOç³»ç»Ÿåï¼ŒSSOç³»ç»ŸçŸ¥é“ç”¨æˆ·å·²ç™»å½•è¿‡ï¼Œå†è·³è½¬å›ç³»ç»Ÿã€‚ã€‚ã€‚è¿™æ ·å°±ä¸€ç›´å¾ªç¯ä¸‹å»äº†=ã€‚=&lt;/p>
&lt;p>ä¸ºä»€ä¹ˆPHPä¼šè¯»å–åˆ°é”™è¯¯çš„session idå‘¢ï¼Ÿæ‰“å°å…¨å±€å˜é‡**$_SERVER[&amp;lsquo;HTTP_COOKIES&amp;rsquo;]**å‡ºæ¥æŸ¥çœ‹ï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code>PHPSESSID=token2;PHPSESSID=token1
&lt;/code>&lt;/pre>&lt;p>å‘ç°PHPæ˜¯èƒ½æ¥æ”¶åˆ°ä¸¤ä¸ªåŒåCOOKIEçš„ï¼Œä½†åªå–äº†ç¬¬ä¸€ä¸ªå½“çœŸæ­£çš„session idï¼ï¼&lt;br>
æŸ¥çœ‹phpæºç ï¼Œåœ¨æ–‡ä»¶php_variables.cçš„220è¡Œï¼Œæœ‰æ³¨é‡Šå‡ºphpå¯¹åŒåcookieçš„å¤„ç†è§„åˆ™ï¼š&lt;/p>
&lt;blockquote>
&lt;p>&lt;a class="link" href="https://github.com/php/php-src/blob/e10e151e9b92313a7085272c85bebf6c82017fce/main/php_variables.c" target="_blank" rel="noopener"
>https://github.com/php/php-src/blob/e10e151e9b92313a7085272c85bebf6c82017fce/main/php_variables.c&lt;/a> #220&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-c" data-lang="c">&lt;span class="line">&lt;span class="cl"> &lt;span class="cm">/*
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * According to rfc2965, more specific paths are listed above the less specific ones.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * If we encounter a duplicate cookie name, we should skip it, since it is not possible
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * to have the same (plain text) cookie name for the same path and we should not overwrite
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * more specific cookies with the less specific ones.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nf">Z_TYPE&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nf">PG&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">http_globals&lt;/span>&lt;span class="p">)[&lt;/span>&lt;span class="n">TRACK_VARS_COOKIE&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="n">IS_UNDEF&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">symtable1&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="nf">Z_ARRVAL&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nf">PG&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">http_globals&lt;/span>&lt;span class="p">)[&lt;/span>&lt;span class="n">TRACK_VARS_COOKIE&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">zend_symtable_str_exists&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">symtable1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">index&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">index_len&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">zval_ptr_dtor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">gpc_element&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">gpc_element_p&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nf">zend_symtable_str_update_ind&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">symtable1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">index&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">index_len&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">gpc_element&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ„æ€æ˜¯å½“phpé‡åˆ°ç›¸åŒåç§°çš„cookieæ—¶ï¼Œåªä¼šä¿ç•™**$_SERVER[&amp;lsquo;HTTP_COOKIES&amp;rsquo;]**ä¸­çš„ç¬¬ä¸€ä¸ªcookieï¼Œè€Œä½™ä¸‹åŒåçš„ä¼šå¿½ç•¥è·³è¿‡ã€‚&lt;/p>
&lt;p>å¾ˆæ˜æ˜¾ï¼Œåªè¦æµè§ˆå™¨ä¼ cookieç»™phpæ—¶ï¼ŒæŠŠtoken1çš„session idæ”¾åœ¨æœ€å‰é¢ï¼Œè¿™æ ·å°±èƒ½æ­£ç¡®åˆ¤æ–­ç™»å½•æˆåŠŸäº†ï¼
é‚£ä¹ˆæµè§ˆå™¨ä¼ é€’cookieé¡ºåºæ˜¯å¦‚ä½•çš„å‘¢ï¼Ÿå‚è€ƒ&lt;a class="link" href="http://www.rfc-editor.org/rfc/rfc6265.txt" target="_blank" rel="noopener"
>RFC6265 HTTP State Management Mechanism&lt;/a>ï¼Œå¯ä»¥å‘ç°ï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code>4.2.2
In particular,if the Cookie header contains two cookies with the same name (e.g.,
that were set with different Path or Domain attributes), servers
SHOULD NOT rely upon the order in which these cookies appear in the
header.
5.3. Storage Model
2. The user agent SHOULD sort the cookie-list in the following
order:
* Cookies with longer paths are listed before cookies with
shorter paths.
* Among cookies that have equal-length path fields, cookies with
earlier creation-times are listed before cookies with later
creation-times.
NOTE: Not all user agents sort the cookie-list in this order, but
this order reflects common practice when this document was
written, and, historically, there have been servers that
(erroneously) depended on this order.
&lt;/code>&lt;/pre>&lt;p>å¤§æ¦‚æ„æ€å°±æ˜¯ï¼š&lt;/p>
&lt;ol>
&lt;li>pathè¶Šé•¿çš„è¯´æ˜åŒ¹é…è¶Šç²¾ç¡®ï¼Œé¡ºåºè¶Šé å‰&lt;/li>
&lt;li>å‡å¦‚pathç›¸åŒï¼Œcookieåˆ›å»ºæ—¶é—´è¶Šæ—©çš„ï¼Œé¡ºåºè¶Šé å‰&lt;/li>
&lt;li>é¡ºåºä¸domainæ²¡å…³ç³»&lt;br>
RFCåŒæ—¶ä¹Ÿè¯´æ˜å¹¶ä¸æ˜¯æ‰€æœ‰çš„æµè§ˆå™¨éƒ½éµå®ˆè¿™ä¸ªï¼Œå¹¶ä¸”æœåŠ¡å™¨ä¹Ÿä¸åº”è¯¥ä¾èµ–äºcookieå‡ºç°çš„é¡ºåºã€‚&lt;/li>
&lt;/ol>
&lt;p>æœ€åé€šè¿‡æ›´æ”¹ä¿å­˜çš„session idåç§°æ¥é¿å…å†²çªè§£å†³é—®é¢˜ï¼Œä¸è¿‡å€’è®©æˆ‘åŠ æ·±äº†cookieçš„äº†è§£ã€‚&lt;/p></description></item><item><title>2013å¹´æ€»ç»“</title><link>https://blog.xenori.com/2014/01/the-summary-of-2013/</link><pubDate>Wed, 01 Jan 2014 21:14:00 +0800</pubDate><guid>https://blog.xenori.com/2014/01/the-summary-of-2013/</guid><description>&lt;p>2013å¹´å·²è¿‡ï¼Œè¿‡å»ä¸€å¹´ç”Ÿæ´»å’Œå·¥ä½œä¸Šæ²¡æœ‰å¤§çš„å˜åŒ–ã€‚å¹´å‰çš„è®¡åˆ’å¦‚è‹±è¯­å­¦ä¹ ï¼Œå­¦è½¦å’Œæ¸¸æˆç­‰éƒ½æ²¡å®ç°åˆ°ï¼Œåœ¨å¹¿å·ç°åœ¨æ²¡ä»€ä¹ˆæœ‹å‹å’ŒåŒå­¦åœ¨ï¼Œä¸€ä¸ªäººæ‰§è¡ŒåŠ›å¤ªå·®äº†ï¼Œå‘¨å…­æ—¥éšä¾¿æ‰¾ä¸ªå·æ‡’çš„ç†ç”±å°±æ··è¿‡äº†ã€‚ã€‚ã€‚&lt;/p>
&lt;p>ä»Šå¹´åœ¨å·¥ä½œä¸Šæ˜¯å¿™ç¢çš„ä¸€å¹´ï¼Œä¸ŠåŠå¹´å¿™äºæŠŠCMSç³»ç»Ÿæ•°æ®å±‚åˆ‡æ¢åˆ°æ•°æ®ä¸­å¿ƒï¼Œä¸‹åŠå¹´å› å…¬å¸ä¸Šå¸‚ï¼Œå¿™äºæŠŠæœåŠ¡å™¨ä»windowsåˆ‡æ¢åˆ°linuxï¼Œå¼€å‘è¯­è¨€ä¹Ÿä»æœ€ç†Ÿæ‚‰çš„.NETè½¬ä¸ºä½¿ç”¨PHPã€‚è¿™ä¸€å¹´å¿™ç€å·¥ä½œï¼Œå¿™ç€åŠ ç­ï¼Œè®¡åˆ’çš„æ—…æ¸¸æ²¡å»åˆ°ï¼Œç”Ÿæ´»çŠ¶æ€ä¹Ÿæ˜¯è¶Šè¿‡è¶Šå·®ï¼Œè€Œå…¬å¸ä¸Šå¸‚ä¹Ÿæ²¡ä¸ºæ”¶å…¥å¸¦æ¥ä»€ä¹ˆæ”¶ç›Šï¼Œå¯¹å…¬å¸æœ‰ç‚¹å¤±æœ›é€äº†ã€‚2014å¹´å·¥ä½œå‡†å¤‡æŠŠé‡å¿ƒæ”¾å›åˆ°ç”Ÿæ´»ä¸­ï¼Œä¸èƒ½è¢«å·¥ä½œç»‘æ¶äº†ï¼Œå¤ªç´¯äº†ã€‚&lt;/p>
&lt;p>å¹´å‰å› å…¬å¸ç­–ç•¥è°ƒæ•´ï¼Œå¼€å‘è¯­è¨€å˜æ›´ï¼Œå¾ˆå¤šæ—§åŒäº‹éƒ½åœ¨ä¸ŠåŠå¹´ç¦»èŒï¼Œåªå‰©ä¸‹ä¸€ä¸¤ä¸ªäººç»´æŠ¤é¢‘é“ï¼Œä¸‹åŠå¹´æ–°åŒäº‹é™†é™†ç»­ç»­å…¥èŒï¼ŒæŒ£äº†åŠå¹´ï¼Œæ˜¥èŠ‚ååº”è¯¥å°±èƒ½å›å¤åˆ°æ­£è½¨äº†ã€‚ä¸è¿‡ç°åœ¨å‘ç°æ€æ ·ä¹Ÿèä¸è¿›æ–°å›¢é˜Ÿï¼Œä¹Ÿä¸å–œæ¬¢æ–°å›¢é˜Ÿæ°”æ°›ï¼Œåªå¸Œæœ›å¹´åèƒ½æ‰¾åˆ°ä¸é”™çš„å·¥ä½œï¼Œæ¢ä¸‹ç¯å¢ƒã€‚&lt;/p>
&lt;p>2014å¹´å°±è®¡åˆ’ä¸“ä¸šæ–¹é¢å­¦ä¸‹è‹±è¯­ï¼Œgolangå’Œçœ‹å¤šäº›å¼€æºä»£ç ï¼Œä¸šä½™æ–¹é¢å­¦ä¸‹æ¸¸æ³³å’Œæ‘„å½±ã€‚ç”Ÿæ´»ä¸Šå¸Œæœ›èƒ½å˜å¾—è‡ªä¿¡è±è¾¾äº›ï¼Œè®©è¿‡å»éƒ½è¿‡å»å§ã€‚å¯¹äºå®¶äººï¼Œå› ä¸ºä»ä¸­å­¦åå°±ä¸€ä¸ªäººå‡ºæ¥ä½å’Œç”Ÿæ´»ï¼Œçš„ç¡®æ²¡èŠ±å¤ªå¤šç²¾åŠ›å…³æ³¨å®¶äººï¼Œå¸Œæœ›ä»Šå¹´èƒ½åšå¾—æ›´å¥½ã€‚&lt;/p>
&lt;p>2013å¹´å¹´åº¦é€‰æ‹©å¦‚ä¸‹ï¼š&lt;/p>
&lt;p>å¹´åº¦æ¸¸æˆï¼š&lt;/p>
&lt;ul>
&lt;li>æ—…è¡ŒTravel&lt;/li>
&lt;li>ç¬¬äºŒæ¬¡è¶…çº§æœºå™¨äººå¤§æˆ˜OG&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>ä»Šå¹´å·¥ä½œå¤ªå¿™ï¼Œå¯¹æ¸¸æˆçš„çƒ­æƒ…ä¹Ÿä¸‹é™äº†ï¼Œå°±é€šäº†PSNæ¸¸æˆã€Šæ—…è¡Œã€‹ï¼Œå°æ—¶æœ€å–œæ¬¢çš„æœºå™¨æ‰“äº†20è¯å·¦å³å°±ä¸ç»§ç»­äº†ã€‚ã€‚ã€‚è™½ç„¶ä¸æƒ³æ‰¿è®¤ï¼Œçœ‹æ¥æ˜¯è¿‡äº†å–œæ¬¢æ¸¸æˆçš„å¹´é¾„äº†ã€‚ã€‚ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>å¹´åº¦åŠ¨ç”»ï¼š&lt;/p>
&lt;ul>
&lt;li>çŸ³å¤´é—¨&lt;/li>
&lt;li>è¿›å‡»çš„å·¨äºº&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>ã€ŠçŸ³å¤´é—¨ã€‹æ¯”è¾ƒæƒŠå–œï¼Œçœ‹ç”»é£æ˜¯æˆ‘ä¸€èˆ¬ä¸ä¼šäº‘çœ‹çš„åŠ¨ç”»ï¼Œä½†åœ¨bilibiliä¸Šå¾ˆå¤šäººæ¨èï¼ŒèŠ±äº†ä¸€æ™šé€šå®µçœ‹å®Œï¼Œå¾ˆå–œæ¬¢ã€‚æåã€Škill la killã€‹&lt;/p>
&lt;/blockquote>
&lt;p>å¹´åº¦éŸ³ä¹ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="http://bilibili.kankanews.com/video/av585938/" target="_blank" rel="noopener"
>Rain piano ver.&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="http://www.xiami.com/song/1772423161?spm=a1z1s.6626001.229054121.68.nqdO8V" target="_blank" rel="noopener"
>Feels Like Coming Home&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="http://www.xiami.com/song/1769932238?spm=a1z1s.6626001.229054121.108.UBaSfY" target="_blank" rel="noopener"
>Everybody Hurts&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="http://www.xiami.com/song/1771186238?spm=a1z1s.6626001.229054121.80.UBaSfY" target="_blank" rel="noopener"
>The Beginning&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="http://www.xiami.com/song/3552953?spm=a1z1s.6626001.229054121.150.569zvj" target="_blank" rel="noopener"
>ã‚ã®æ—¥ã‚¿ã‚¤ãƒ ãƒã‚·ãƒ³&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="http://www.xiami.com/song/1770831056?spm=a1z1s.6626001.229054121.157.569zvj" target="_blank" rel="noopener"
>Let Her Go&lt;/a>&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>éŸ³ä¹éƒ½æ˜¯åŠ¨ç”»å’Œè§†é¢‘çš„éŸ³ä¹ï¼Œå¾ˆå¤šæ­Œéƒ½æ˜¯çœ‹bilibiliè§†é¢‘æ‰¾åˆ°çš„ï¼šï¼‰&lt;/p>
&lt;/blockquote>
&lt;p>å¹´åº¦ç”µå½±ï¼š&lt;/p>
&lt;ul>
&lt;li>ç–¯ç‹‚åŸå§‹äºº&lt;/li>
&lt;li>ç›—é’¥åŒ™çš„æ–¹æ³• / éµæ³¥æ£’ã®ãƒ¡ã‚½ãƒƒãƒ‰&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>æ—¥æœ¬ç”µå½±ã€Šç›—é’¥åŒ™çš„æ–¹æ³•ã€‹æ˜¯ä¸ªå°æƒŠå–œï¼Œå®åœ¨æ²¡çŒœåˆ°ç»“å±€ï¼šï¼‰&lt;/p>
&lt;/blockquote>
&lt;p>å¹´åº¦å›¾ä¹¦ï¼š
æ— &lt;/p>
&lt;blockquote>
&lt;p>ä»Šå¹´çœ‹ä¹¦éƒ½è½¬åˆ°å¤šçœ‹äº†ï¼ŒåŸºæœ¬ä¸å†ä¹°çº¸ä¹¦ï¼Œéƒ½æ˜¯ä¹°ç”µå­ç‰ˆï¼Œä¸è¿‡æ²¡çœ‹åˆ°æœ€ç‰¹åˆ«å°è±¡æ·±åˆ»çš„ã€‚ä»Šå¹´æ„Ÿè§‰åœ¨ä¸Šç­è·¯ä¸Šçœ‹äº†ä¸å°‘ä¹¦ï¼Œä»¥æŠ€æœ¯ä¹¦ä¸ºä¸»ï¼Œä½†åœ¨è±†ç“£ä¸Šçœ‹ä¸‹æ¥ï¼Œä¹Ÿæ²¡å¤šå°‘==ï¼&lt;/p>
&lt;/blockquote>
&lt;p>å¹´åº¦APPï¼š&lt;/p>
&lt;ul>
&lt;li>pocket&lt;/li>
&lt;li>çŸ¥ä¹&lt;/li>
&lt;li>å¤šçœ‹&lt;/li>
&lt;/ul>
&lt;p>å¹´åº¦ç½‘ç«™ï¼š&lt;/p>
&lt;ul>
&lt;li>bilibili&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>ä»Šå¹´çœ‹ç”µå½±ï¼Œçœ‹æ–°ç•ªåŸºæœ¬éƒ½åœ¨bilibiliçœ‹ï¼Œå¼€å§‹å–œæ¬¢ä¸Šbilibiåº”è¯¥æ˜¯å»å¹´ä¸€èµ·çœ‹ã€ŠèˆŒå°–ä¸Šçš„ä¸­å›½ã€‹ï¼Œå¾ˆçƒ­é—¹ï¼Œå“ˆå“ˆã€‚ä¹‹åçœ‹ã€Šçˆ±æƒ…å…¬å¯“3ã€‹ï¼Œä»Šå¹´æœ«çš„ã€Šçˆ¸çˆ¸å»å“ªå„¿ã€‹ä¹Ÿæ˜¯ä¸å°çš„é«˜æ½®ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>å¹´åº¦æ•°ç ï¼š&lt;/p>
&lt;ul>
&lt;li>Macbook Air&lt;/li>
&lt;li>RX100&lt;/li>
&lt;li>MX2&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>airæ˜¯ä¸ºäº†å·¥ä½œä¸Šè½¬linuxå‡†å¤‡çš„ï¼Œä½†ä¸€å¹´ä¸‹æ¥ç”¨å¾—ä¸å¤šã€‚ã€‚ã€‚MX2å¾ˆå–œæ¬¢ï¼Œåœ¨å›½äº§æ‰‹æœºä¸­ï¼Œé­…æ—çš„UIå’Œæ‰‹æœºå¤–å½¢æ˜¯æœ€å–œæ¬¢çš„äº†ï¼Œæ¯”è¾ƒiphone5å¥½çœ‹ï¼Œå°±æ˜¯ä¿¡å·çš„ç¡®ä¸å¥½ã€‚&lt;/p>
&lt;/blockquote></description></item><item><title>åœ¨ubuntuä¸­ç¼–è¯‘å®‰è£…php</title><link>https://blog.xenori.com/2013/11/install-php-from-source-in-ubuntu/</link><pubDate>Tue, 12 Nov 2013 01:07:00 +0800</pubDate><guid>https://blog.xenori.com/2013/11/install-php-from-source-in-ubuntu/</guid><description>&lt;h3 id="é¢„è£…ç¼–è¯‘ç¯å¢ƒ">é¢„è£…ç¼–è¯‘ç¯å¢ƒ&lt;/h3>
&lt;p>åœ¨ubuntuä¸­æ‰§è¡Œä¸‹é¢å‘½ä»¤å®‰è£…ç¼–è¯‘ä¾èµ–è½¯ä»¶&lt;/p>
&lt;pre tabindex="0">&lt;code>&amp;gt; sudo apt-get install \
libxml2-dev \
libcurl4-openssl-dev \
libjpeg-dev \
libpng-dev \
libxpm-dev \
libmysqlclient-dev \
libpq-dev \
libicu-dev \
libfreetype6-dev \
libldap2-dev \
libxslt-dev
&lt;/code>&lt;/pre>&lt;h3 id="ä¸‹è½½phpæºä»£ç ">ä¸‹è½½phpæºä»£ç &lt;/h3>
&lt;pre tabindex="0">&lt;code>wget http://us3.php.net/get/php-5.5.5.tar.gz/from/cn2.php.net/mirror
&lt;/code>&lt;/pre>&lt;h3 id="å¼€å§‹ç¼–è¯‘å®‰è£…">å¼€å§‹ç¼–è¯‘å®‰è£…&lt;/h3>
&lt;pre tabindex="0">&lt;code>&amp;gt; tar zxf php-5.5.5.tar.gz
&amp;gt; cd php-5.5.5
&amp;gt; sudo ./configurate ...
&lt;/code>&lt;/pre>&lt;h3 id="å®‰è£…apcå’Œmemcacheæ‰©å±•">å®‰è£…apcå’Œmemcacheæ‰©å±•&lt;/h3></description></item><item><title>æ•æ‰phpä¸­çš„fatal erroré”™è¯¯</title><link>https://blog.xenori.com/2013/11/handle-fatal-error-in-php/</link><pubDate>Mon, 04 Nov 2013 00:48:00 +0800</pubDate><guid>https://blog.xenori.com/2013/11/handle-fatal-error-in-php/</guid><description>&lt;p>phpä¸­æœ‰ä¸‰ä¸ªå‡½æ•°ä¸æ•æ‰è¿è¡Œé”™è¯¯æœ‰å…³ï¼Œåˆ†åˆ«æ˜¯ï¼š&lt;/p>
&lt;blockquote>
&lt;p>&lt;a class="link" href="http://cn2.php.net/set_error_handler" target="_blank" rel="noopener"
>set_error_handler&lt;/a>ï¼šè¿è¡Œé”™è¯¯å¤„ç†å‡½æ•°ï¼Œphpå†…æ ¸æ‰§è¡Œä»£ç å‡ºé”™æ—¶ä¸€èˆ¬æ˜¯è§¦å‘errorï¼Œè€Œä¸æ˜¯æŠ›å¼‚å¸¸ï¼ŒæŠ›å¼‚å¸¸æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­ç”¨çš„&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>&lt;a class="link" href="http://cn2.php.net/set_exception_handler" target="_blank" rel="noopener"
>set_exception_handler&lt;/a>ï¼šè¿è¡Œå¼‚å¸¸ä¿¡æ¯å¤„ç†å‡½æ•°ï¼Œå½“ä»£ç ä¸­throwçš„å¼‚å¸¸æ²¡æœ‰è¢«try-catchæ•è·æ—¶ï¼Œå°±ä¼šè°ƒç”¨è¯¥å‡½æ•°ã€‚phpä¸­errorå’Œexceptionçš„åŒºåˆ«å¯ä»¥çœ‹è¿™ç¯‡å›ç­”ï¼š&lt;a class="link" href="http://stackoverflow.com/questions/841500/php-exceptions-vs-errors" target="_blank" rel="noopener"
>php-exceptions-vs-errors&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>&lt;a class="link" href="http://cn2.php.net/register_shutdown_function" target="_blank" rel="noopener"
>register_shutdown_function&lt;/a>ï¼šè„šæœ¬å…³é—­æ‰§è¡Œå‡½æ•°ï¼Œä¼šåœ¨phpè„šæœ¬æ¯æ¬¡æ‰§è¡Œå®Œæˆé€€å‡ºå‰è¿è¡Œã€‚&lt;/p>
&lt;/blockquote>
&lt;p>ä¸ºäº†ä¿è¯è¿è¡Œé”™è¯¯èƒ½è¢«é¡ºåˆ©æ•æ‰åˆ°ï¼Œå¿…é¡»ä¿è¯åœ¨æœ‰é”™çš„ç¨‹åºæ‰§è¡Œå‰å…ˆæ³¨å†Œäº†é”™è¯¯å¤„ç†å‡½æ•°ã€‚
ä¸€èˆ¬é”™è¯¯å¤„ç†ä»£ç ç»“æ„å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-php" data-lang="php">&lt;span class="line">&lt;span class="cl">&lt;span class="k">function&lt;/span> &lt;span class="nf">handle_normal_error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nv">$errno&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nv">$errstr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nv">$errfile&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nv">$errline&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æŠŠerrorå°è£…ä¸ºå¼‚å¸¸ï¼Œç”±å¼‚å¸¸å¤„ç†å‡½æ•°ç»Ÿä¸€å¤„ç†
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">throw&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">ErrorException&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nv">$errstr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nv">$errno&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nv">$errfile&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nv">$errline&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// don&amp;#39;t execute php default exception action
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="k">true&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">set_error_handler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;handle_normal_error&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">E_ALL&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="nx">E_STRICT&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">function&lt;/span> &lt;span class="nf">user_exception_handler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nv">$ex&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">switch&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">$errno&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">case&lt;/span> &lt;span class="nx">E_USER_ERROR&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">send_error_to_log_server&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nv">$msg&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">break&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">case&lt;/span> &lt;span class="nx">E_USER_WARNING&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// do something
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">break&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">default&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// do something
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">break&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">set_exception_handler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;user_exception_handler&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">function&lt;/span> &lt;span class="nf">handle_fatal_error&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">$error&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">error_get_last&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">isset&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nv">$error&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;type&amp;#39;&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="k">E_ERROR&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="nv">$error&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;type&amp;#39;&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">send_error_to_log_server&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nv">$msg&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">register_shutdown_function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;handle_fatal_error&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>åœ¨thinkphp 3.13ä¸­ï¼Œå·²ç»åšäº†å…¨å±€å¯¼å¸¸å¤„ç†ï¼Œä»£ç å¦‚ä¸‹ï¼š
{% codeblock Think.class.php %}&lt;/p>
&lt;p>/**
* åº”ç”¨ç¨‹åºåˆå§‹åŒ–
* @access public
* @return void
*/
static public function start() {
// è®¾å®šé”™è¯¯å’Œå¼‚å¸¸å¤„ç†
register_shutdown_function(array(&amp;lsquo;Think&amp;rsquo;,&amp;lsquo;fatalError&amp;rsquo;));
set_error_handler(array(&amp;lsquo;Think&amp;rsquo;,&amp;lsquo;appError&amp;rsquo;));
set_exception_handler(array(&amp;lsquo;Think&amp;rsquo;,&amp;lsquo;appException&amp;rsquo;));&lt;/p>
&lt;pre>&lt;code> ...
}
&lt;/code>&lt;/pre>
&lt;p>/**
* è‡ªå®šä¹‰å¼‚å¸¸å¤„ç†
* @access public
* @param mixed $e å¼‚å¸¸å¯¹è±¡
*/
static public function appException($e) {
$error = array();
$error[&amp;lsquo;message&amp;rsquo;] = $e-&amp;gt;getMessage();
$trace = $e-&amp;gt;getTrace();
if(&amp;rsquo;throw_exception&amp;rsquo;==$trace[0][&amp;lsquo;function&amp;rsquo;]) {
$error[&amp;lsquo;file&amp;rsquo;] = $trace[0][&amp;lsquo;file&amp;rsquo;];
$error[&amp;rsquo;line&amp;rsquo;] = $trace[0][&amp;rsquo;line&amp;rsquo;];
}else{
$error[&amp;lsquo;file&amp;rsquo;] = $e-&amp;gt;getFile();
$error[&amp;rsquo;line&amp;rsquo;] = $e-&amp;gt;getLine();
}
Log::record($error[&amp;lsquo;message&amp;rsquo;],Log::ERR);
halt($error);
}&lt;/p>
&lt;pre>&lt;code>/**
* è‡ªå®šä¹‰é”™è¯¯å¤„ç†
* @access public
* @param int $errno é”™è¯¯ç±»å‹
* @param string $errstr é”™è¯¯ä¿¡æ¯
* @param string $errfile é”™è¯¯æ–‡ä»¶
* @param int $errline é”™è¯¯è¡Œæ•°
* @return void
*/
static public function appError($errno, $errstr, $errfile, $errline) {
switch ($errno) {
case E_ERROR:
case E_PARSE:
case E_CORE_ERROR:
case E_COMPILE_ERROR:
case E_USER_ERROR:
ob_end_clean();
// é¡µé¢å‹ç¼©è¾“å‡ºæ”¯æŒ
if(C('OUTPUT_ENCODE')){
$zlib = ini_get('zlib.output_compression');
if(empty($zlib)) ob_start('ob_gzhandler');
}
$errorStr = &amp;quot;$errstr &amp;quot;.$errfile.&amp;quot; ç¬¬ $errline è¡Œ.&amp;quot;;
if(C('LOG_RECORD')) Log::write(&amp;quot;[$errno] &amp;quot;.$errorStr,Log::ERR);
function_exists('halt')?halt($errorStr):exit('ERROR:'.$errorStr);
break;
case E_STRICT:
case E_USER_WARNING:
case E_USER_NOTICE:
default:
$errorStr = &amp;quot;[$errno] $errstr &amp;quot;.$errfile.&amp;quot; ç¬¬ $errline è¡Œ.&amp;quot;;
trace($errorStr,'','NOTIC');
break;
}
}
// è‡´å‘½é”™è¯¯æ•è·
static public function fatalError() {
// ä¿å­˜æ—¥å¿—è®°å½•
if(C('LOG_RECORD')) Log::save();
if ($e = error_get_last()) {
switch($e['type']){
case E_ERROR:
case E_PARSE:
case E_CORE_ERROR:
case E_COMPILE_ERROR:
case E_USER_ERROR:
ob_end_clean();
function_exists('halt')?halt($e):exit('ERROR:'.$e['message']. ' in &amp;lt;b&amp;gt;'.$e['file'].'&amp;lt;/b&amp;gt; on line &amp;lt;b&amp;gt;'.$e['line'].'&amp;lt;/b&amp;gt;');
break;
}
}
}
&lt;/code>&lt;/pre>
&lt;p>{% endcodeblock %}&lt;/p>
&lt;p>{% codeblock functions.php %}&lt;/p>
&lt;p>/**&lt;/p>
&lt;ul>
&lt;li>é”™è¯¯è¾“å‡º&lt;/li>
&lt;li>@param mixed $error é”™è¯¯&lt;/li>
&lt;li>@return void
*/
function halt($error) {
$e = array();
if (APP_DEBUG) {
//è°ƒè¯•æ¨¡å¼ä¸‹è¾“å‡ºé”™è¯¯ä¿¡æ¯
if (!is_array($error)) {
$trace = debug_backtrace();
$e[&amp;lsquo;message&amp;rsquo;] = $error;
$e[&amp;lsquo;file&amp;rsquo;] = $trace[0][&amp;lsquo;file&amp;rsquo;];
$e[&amp;rsquo;line&amp;rsquo;] = $trace[0][&amp;rsquo;line&amp;rsquo;];
ob_start();
debug_print_backtrace();
$e[&amp;rsquo;trace&amp;rsquo;] = ob_get_clean();
} else {
$e = $error;
}
} else {
//å¦åˆ™å®šå‘åˆ°é”™è¯¯é¡µé¢
$error_page = C(&amp;lsquo;ERROR_PAGE&amp;rsquo;);
if (!empty($error_page)) {
redirect($error_page);
} else {
if (C(&amp;lsquo;SHOW_ERROR_MSG&amp;rsquo;))
$e[&amp;lsquo;message&amp;rsquo;] = is_array($error) ? $error[&amp;lsquo;message&amp;rsquo;] : $error;
else
$e[&amp;lsquo;message&amp;rsquo;] = C(&amp;lsquo;ERROR_MESSAGE&amp;rsquo;);
}
}
// åŒ…å«å¼‚å¸¸é¡µé¢æ¨¡æ¿
include C(&amp;lsquo;TMPL_EXCEPTION_FILE&amp;rsquo;);
exit;
}&lt;/li>
&lt;/ul>
&lt;p>{% endcodeblock %}&lt;/p></description></item><item><title>æ›´æ”¹rubygemsé•œåƒæº</title><link>https://blog.xenori.com/2013/07/change-rubygem-source/</link><pubDate>Mon, 15 Jul 2013 00:15:00 +0800</pubDate><guid>https://blog.xenori.com/2013/07/change-rubygem-source/</guid><description>&lt;p>ç”±äºå›½å†…ç½‘ç»œçš„åŸå› ï¼Œåœ¨å®‰è£…rubyç›¸å…³è½¯ä»¶æ—¶ï¼Œç»å¸¸ä¼šåœ¨è¯·æ±‚&lt;strong>rubygems.org&lt;/strong>ä¸‹è½½æ—¶ä¸€ç›´å¡ç€ä¸åŠ¨ï¼Œè¿™æ—¶å¯ä»¥åˆ‡æ¢åˆ°æ·˜å®çš„é•œåƒæºï¼Œé€Ÿåº¦å—–å—–çš„ã€‚&lt;/p>
&lt;blockquote>
&lt;p>&lt;a class="link" href="http://ruby.taobao.org/" target="_blank" rel="noopener"
>http://ruby.taobao.org/&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;p>è¯¦ç»†çš„æ›´æ”¹æ–¹æ³•å¯ä»¥è®¿é—®ä¸Šé¢çš„ç½‘å€ï¼Œå‡å¦‚é¡¹ç›®ä¸‹æœ‰GemFileæ–‡ä»¶ï¼Œè¿˜éœ€è¦æ›´æ”¹GemFileæ–‡ä»¶çš„é…ç½®æºåœ°å€ã€‚&lt;/p>
&lt;h2 id="linuxæ“ä½œç³»ç»ŸåŒ…ç®¡ç†é•œåƒç«™">linuxæ“ä½œç³»ç»ŸåŒ…ç®¡ç†é•œåƒç«™ï¼š&lt;/h2>
&lt;p>centosã€ubuntuç­‰linuxå‘è¡Œç‰ˆçš„yumå’ŒaptåŒ…ç®¡ç†å·¥å…·é•œåƒç«™ï¼š&lt;/p>
&lt;blockquote>
&lt;p>&lt;a class="link" href="http://mirrors.aliyun.com/" target="_blank" rel="noopener"
>http://mirrors.aliyun.com/&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>&lt;a class="link" href="http://mirrors.163.com/" target="_blank" rel="noopener"
>http://mirrors.163.com/&lt;/a>&lt;/p>
&lt;/blockquote></description></item><item><title>ä½¿ç”¨scala+scaloid+IntelliJ IDEA 12å¼€å‘androidåº”ç”¨</title><link>https://blog.xenori.com/2013/06/develop-android-with-intellij-idea-12-and-scaloid/</link><pubDate>Sun, 30 Jun 2013 15:41:00 +0800</pubDate><guid>https://blog.xenori.com/2013/06/develop-android-with-intellij-idea-12-and-scaloid/</guid><description>&lt;h3 id="è½¯ä»¶ç¯å¢ƒ">è½¯ä»¶ç¯å¢ƒ&lt;/h3>
&lt;p>ç»§ç»­ä¸‹é¢çš„ç¤ºä¾‹å‰ï¼Œéœ€è¦ä¿è¯å®‰è£…äº†ä¸‹é¢çš„è½¯ä»¶ï¼š&lt;/p>
&lt;ul>
&lt;li>JDK 1.6&lt;/li>
&lt;li>Android SDK&lt;/li>
&lt;li>IntelliJ IDEA 12&lt;/li>
&lt;li>Scala 2.10.2&lt;/li>
&lt;li>Maven 3&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>IntelliJ IDEA 12æ­£å¸¸ä¹Ÿå¯ä»¥æ¢ä¸ºAndroid Studioï¼Œä¸è¿‡å› ä¸ºAndroid Studioæ˜¯åŸºäºIntelliJ IDEA 13 EAPå¼€å‘çš„ï¼Œå½“å‰scala pluginè¿˜ä¸æ”¯æŒ13 EAPï¼Œæ‰€ä»¥è¿˜æ˜¯å»ºè®®ä½¿ç”¨IntelliJ IDEA 12ï¼Œç­‰scala pluginæ”¯æŒæœ€æ–°ç‰ˆåï¼Œå†æ¢ä¸ºAndroid Studioè¿›è¡Œå¼€å‘ã€‚&lt;/p>
&lt;/blockquote>
&lt;h3 id="ç¤ºä¾‹é¡¹ç›®">ç¤ºä¾‹é¡¹ç›®&lt;/h3>
&lt;p>&lt;a class="link" href="https://github.com/pocorall/hello-scaloid-maven" target="_blank" rel="noopener"
>hello-scaloid-maven&lt;/a>æ˜¯ä¸€ä¸ªå®Œå…¨ä½¿ç”¨mavenç¼–è¯‘çš„ç¤ºä¾‹é¡¹ç›®,å€ŸåŠ©&lt;a class="link" href="http://code.google.com/p/maven-android-plugin/" target="_blank" rel="noopener"
>android maven plugin&lt;/a>æ’ä»¶å¯ä»¥æŠŠä»£ç ç¼–è¯‘ä¸ºandroidçš„apkæ–‡ä»¶ã€‚&lt;/p>
&lt;p>1ã€ä¸‹è½½hello scaloid mavené¡¹ç›®åˆ°æœ¬åœ°
{% codeblock lang:ruby %}
git clone &lt;a class="link" href="https://github.com/pocorall/hello-scaloid-maven.git" target="_blank" rel="noopener"
>https://github.com/pocorall/hello-scaloid-maven.git&lt;/a> hello-scaloid-maven
{% endcodeblock %}&lt;/p>
&lt;p>2ã€æ‰“å¼€POM.xmlæ–‡ä»¶ï¼Œåœ¨&lt;!-- raw HTML omitted -->ä¸­åŠ ä¸ŠAndroid SDKçš„æœ¬åœ°è·¯å¾„
{% codeblock lang:xml %}
&lt;!-- raw HTML omitted -->
&amp;lt;scala.version&amp;gt;2.10.2&amp;lt;/scala.version&amp;gt;
&amp;lt;android.sdk.path&amp;gt;/Applications/android sdk/&amp;lt;/android.sdk.path&amp;gt;
&lt;!-- raw HTML omitted -->
{% endcodeblock %}&lt;/p>
&lt;p>3ã€æ‰§è¡Œmavenå‘½ä»¤ä¸‹è½½ä¾èµ–è½¯ä»¶
{% codeblock lang:ruby %}
mvn clean package
{% endcodeblock %}&lt;/p>
&lt;p>4ã€å½“æç¤ºbuild successåï¼Œç”¨IntelliJ IDEAçš„â€œFile-&amp;gt;Open Projectâ€æ‰“å¼€POM.xmlæ–‡ä»¶ã€‚&lt;strong>è¿™é‡Œä¸å»ºè®®ç›´æ¥ä½¿ç”¨mvn idea:ideaå‘½ä»¤ç”Ÿæˆçš„IntelliJé¡¹ç›®æ–‡ä»¶ï¼Œå› ä¸ºIntelliJä¸€ç›´åœ¨æ›´æ–°ï¼Œè€Œmvnç”Ÿæˆçš„é¡¹ç›®æ–‡ä»¶å¯èƒ½æ ¼å¼æ¯”è¾ƒæ—§äº†ã€‚&lt;/strong>&lt;/p>
&lt;p>5ã€å› ä¸ºandroidä¸åŒ…æ‹¬scalaç±»åº“ï¼Œæ‰€ä»¥ç¼–è¯‘æ—¶éœ€è¦æŠŠscalaå’Œscaloidç±»åº“ä¹Ÿç¼–è¯‘åˆ°apkä¸­ï¼Œä½†ä¸€ä¸ªapkæ˜¯æœ‰æ–¹æ³•æ•°é‡é™åˆ¶çš„ï¼Œå½“ä¸ä½¿ç”¨Proguardè¿›è¡Œè£å‡ä¼˜åŒ–æ—¶ï¼Œä½¿ç”¨IntelliJ IDEAç¼–è¯‘é¡¹ç›®ç»å¸¸ä¼šæç¤ºé”™è¯¯ï¼š
{% codeblock lang:ruby %}
Android Dex: [hello-scaloid-maven] trouble writing output: Too many methods: 112662; max is 65536. By package:
Android Dex: [hello-scaloid-maven] 2 android.annotation
Android Dex: [hello-scaloid-maven] 32 android.gesture
Android Dex: [hello-scaloid-maven] 48101 org.scaloid.common
&amp;hellip;
{% endcodeblock %}&lt;/p>
&lt;p>6ã€IntelliJ IDEAé»˜è®¤ä¸æ‰“å¼€Proguardï¼Œä¸‹é¢æˆ‘ä»¬ä¿®æ”¹é…ç½®æ‰“å¼€Proguardã€‚æ‰“å¼€â€œFile-&amp;gt;Prject Structure-&amp;gt;Facets-&amp;gt;android-&amp;gt;compilerâ€ï¼Œå‹¾é€‰ä¸Š&lt;strong>Enable ProGuard&lt;/strong>é¡¹ã€‚å¹¶æŠŠ&lt;strong>Config file&lt;/strong>æŒ‡å‘é¡¹ç›®æ ¹ç›®å½•çš„&lt;strong>proguard.cfg&lt;/strong>æ–‡ä»¶ã€‚&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;blockquote>
&lt;p>æ³¨æ„ï¼šMACä¸‹android sdkç›®å½•å‡å¦‚æœ‰ç©ºæ ¼çš„è¯ï¼Œç¼–è¯‘æ—¶ä¼šæç¤ºé”™è¯¯ï¼š&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;/blockquote>
&lt;p>Unable to access jarfile /Applications/Android
&lt;!-- raw HTML omitted -->&lt;/p>
&lt;blockquote>
&lt;p>è¿™æ—¶éœ€è¦æ”¹ä¸‹Proguardè„šæœ¬ã€‚æ‰“å¼€â€œ$(android sdk path)/tools/proguard/bin/proguard.shâ€æ–‡ä»¶ï¼ŒæŠŠâ€œ$PROGUARD_HOME/lib/proguard.jarâ€è·¯å¾„ç”¨åŒå¼•å·æ‹¬èµ·æ¥ã€‚è¯¦ç»†å¯å‚è€ƒï¼š&lt;a class="link" href="http://fiahfy.blogspot.com/2013/06/unable-to-access-jarfile.html" target="_blank" rel="noopener"
>http://fiahfy.blogspot.com/2013/06/unable-to-access-jarfile.html&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;p>7ã€è®¾ç½®å¥½Proguardåï¼Œå†ä½¿ç”¨IntelliJ IDEAç¼–è¯‘åº”è¯¥å°±èƒ½æˆåŠŸäº†ã€‚Have funï¼ï¼&lt;/p>
&lt;blockquote>
&lt;p>Tipï¼šå‡å¦‚ä½ è§‰å¾—androidæ¨¡æ‹Ÿå™¨å¤ªæ…¢ï¼Œå¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« åšä¼˜åŒ–ï¼Œé€Ÿåº¦æé«˜10å€ï¼ï¼&lt;a class="link" href="https://www.virag.si/2012/10/speeding-up-android-emulator/" target="_blank" rel="noopener"
>https://www.virag.si/2012/10/speeding-up-android-emulator/&lt;/a>&lt;/p>
&lt;/blockquote></description></item><item><title>ubuntuæ—¥å¸¸æ“ä½œ</title><link>https://blog.xenori.com/2012/10/ubuntu-daily/</link><pubDate>Tue, 30 Oct 2012 15:14:22 +0000</pubDate><guid>https://blog.xenori.com/2012/10/ubuntu-daily/</guid><description>&lt;p>å·¥ä½œç”¨ç”µè„‘å°†ä¼šåˆ‡æ¢åˆ°ubuntuä¸Šäº†ï¼Œè®°å½•ä¸‹ubuntuå¸¸ç”¨æ“ä½œã€‚&lt;/p>
&lt;h3 id="å‡çº§åˆ°php54">===å‡çº§åˆ°php5.4===&lt;/h3>
&lt;pre>&lt;code>For Ubuntu 11.10/12.04:
sudo add-apt-repository ppa:ondrej/php5
sudo apt-get update
sudo apt-get install php5
For Ubuntu 10.04 LTS, run the following commands (Thanks to Ivan Castellanos for the extra tip):
sudo echo &amp;quot;deb http://ppa.launchpad.net/ondrej/php5/ubuntu lucid main&amp;quot; &amp;gt;&amp;gt; /etc/apt/sources.list
sudo echo &amp;quot;deb-src http://ppa.launchpad.net/ondrej/php5/ubuntu lucid main&amp;quot; &amp;gt;&amp;gt; /etc/apt/sources.list
sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys E5267A6C
sudo apt-get update
sudo apt-get install php5
You can check if PHP 5.4.x is successfully installed with this command:
php5 -v
&lt;/code>&lt;/pre>
&lt;p>&lt;a class="link" href="http://www.zimbio.com/Ubuntu&amp;#43;Linux/articles/D_AsJR2qAL6/How&amp;#43;Upgrade&amp;#43;PHP&amp;#43;5&amp;#43;4&amp;#43;Ubuntu" target="_blank" rel="noopener"
>http://www.zimbio.com/Ubuntu+Linux/articles/D_AsJR2qAL6/How+Upgrade+PHP+5+4+Ubuntu&lt;/a>&lt;/p>
&lt;h3 id="å¼€å¯ubuntuçš„rootå¸å·">===å¼€å¯ubuntuçš„rootå¸å·===&lt;/h3>
&lt;pre>&lt;code>$ sudo passwd root
[sudo] password for ramesh:
Enter new UNIX password:
Retype new UNIX password:
passwd: password updated successfully
&lt;/code>&lt;/pre>
&lt;p>&lt;a class="link" href="http://www.thegeekstuff.com/2009/09/ubuntu-tips-how-to-login-using-su-command-su-gives-authentication-failure-error-message/" target="_blank" rel="noopener"
>http://www.thegeekstuff.com/2009/09/ubuntu-tips-how-to-login-using-su-command-su-gives-authentication-failure-error-message/&lt;/a>&lt;/p>
&lt;h3 id="å®‰è£…sshè¿æ¥æœåŠ¡">===å®‰è£…SSHè¿æ¥æœåŠ¡===&lt;/h3>
&lt;pre>&lt;code>sudo apt-get install openssh-server
&lt;/code>&lt;/pre>
&lt;p>&lt;a class="link" href="https://help.ubuntu.com/10.04/serverguide/openssh-server.html" target="_blank" rel="noopener"
>https://help.ubuntu.com/10.04/serverguide/openssh-server.html&lt;/a>&lt;/p>
&lt;h3 id="apacheå¸è½½nginxå’Œphpå®‰è£…">===apacheå¸è½½ã€nginxå’Œphpå®‰è£…===&lt;/h3>
&lt;p>&lt;a class="link" href="http://cc.ecjtu.net/posts/php-5-4-Nginx-ubuntu-make-install" target="_blank" rel="noopener"
>http://cc.ecjtu.net/posts/php-5-4-Nginx-ubuntu-make-install&lt;/a>&lt;/p>
&lt;p>phpäº¤äº’å‘½ä»¤è¡Œï¼šhttp://phpsh.org/&lt;/p></description></item><item><title>åˆ©ç”¨IDA Proåæ±‡ç¼–ç¨‹åº</title><link>https://blog.xenori.com/2012/05/disassembly-with-ida-pro/</link><pubDate>Wed, 16 May 2012 16:30:16 +0000</pubDate><guid>https://blog.xenori.com/2012/05/disassembly-with-ida-pro/</guid><description>&lt;p>&lt;a class="link" href="http://www.hex-rays.com/products/ida/index.shtml" target="_blank" rel="noopener"
>IDA Pro&lt;/a>æ˜¯ä¸€æ¬¾å¼ºå¤§çš„åæ±‡ç¼–è½¯ä»¶ï¼Œç‰¹æœ‰çš„IDAè§†å›¾å’Œäº¤å‰å¼•ç”¨ï¼Œå¯ä»¥æ–¹ä¾¿ç†è§£ç¨‹åºé€»è¾‘å’Œå¿«é€Ÿå®šä½ä»£ç ç‰‡æ–­ï¼Œä»¥æ–¹ä¾¿ä¿®æ”¹ã€‚&lt;/p>
&lt;p>&lt;img src="http://ww3.sinaimg.cn/large/7ce4a9f6gw1e5q1vme0mij20ly0ihdil.jpg"
loading="lazy"
alt="IDAè§†å›¾"
>&lt;/p>
&lt;h3 id="ç¤ºä¾‹ç¨‹åº">ç¤ºä¾‹ç¨‹åº&lt;/h3>
&lt;p>ä¸‹é¢ä¼šé€šè¿‡ä¿®æ”¹ç¤ºä¾‹ç¨‹åºçš„è¾“å‡ºå­—ç¬¦ä¸²ï¼Œæ¥è®²è§£å¦‚ä½•ä½¿ç”¨IDA Proã€‚&lt;/p>
&lt;pre>&lt;code>#include
main()
{
int n;
scanf (&amp;quot;%d&amp;quot;,&amp;amp;n);
if (n &amp;gt; 0)
printf(&amp;quot;a &amp;gt; 0&amp;quot;); //åé¢ä¼šç”¨IDA ProæŠŠ'a'æ”¹æˆ'n'
else
printf(&amp;quot;n &amp;lt; 0&amp;quot;);
}
&lt;/code>&lt;/pre>
&lt;p>ç¼–è¯‘åçš„ç¨‹åºä¸‹è½½ï¼š&lt;a class="link" href="http://bitxeno.me/wp-content/uploads/2012/05/test.zip" target="_blank" rel="noopener"
>demo&lt;/a>&lt;/p>
&lt;h3 id="è¿è¡Œida-pro">è¿è¡ŒIDA Pro&lt;/h3>
&lt;p>è¿è¡ŒIDA Proï¼Œå¹¶ä½¿ç”¨PEæ–‡ä»¶çš„æ–¹å¼æ‰“å¼€ç¤ºä¾‹çš„test.exeæ–‡ä»¶ã€‚IDA Proä¼šæ–°å»ºä¸€ä¸ªå·¥ç¨‹ï¼Œå¹¶å¼€å§‹åæ±‡ç¼–ç¨‹åºã€‚åæ±‡ç¼–å®Œæˆåï¼Œåœ¨[IDA-View]çª—å£ä¸­ï¼Œå¯ä»¥çœ‹åˆ°ç¨‹åºé€»è¾‘çš„æ ‘å½¢å›¾ï¼Œå¦‚ä¸‹ï¼š&lt;/p>
&lt;p>&lt;img src="http://ww1.sinaimg.cn/large/7ce4a9f6gw1e5q1xayieqj20jp0iztb6.jpg"
loading="lazy"
alt="æ ‘å½¢å›¾"
>
&lt;img src="http://ww1.sinaimg.cn/large/7ce4a9f6gw1e5q1xrz40tj208v08574h.jpg"
loading="lazy"
alt="æ ‘å½¢å›¾"
>&lt;/p>
&lt;p>æ ‘å½¢å›¾æŠŠæ¡ä»¶åˆ†æ”¯æ¸…æ™°åœ°æ˜¾ç¤ºå‡ºæ¥äº†ï¼Œ&lt;strong>ç»¿è‰²çº¿&lt;/strong>è¿ç€çš„è¡¨ç¤ºæ¡ä»¶ä¸ºtrueæ—¶æ‰§è¡Œçš„é€»è¾‘ï¼Œè€Œ&lt;strong>çº¢è‰²çº¿&lt;/strong>è¡¨ç¤ºæ¡ä»¶ä¸ºfalseæ—¶æ‰§è¡Œçš„é€»è¾‘ã€‚&lt;strong>å³ä¸‹è§’&lt;/strong>æœ‰IDAè§†å›¾çš„ç¼©ç•¥å›¾ï¼Œåœ¨ä¸Šé¢ç‚¹å‡»å¯ä»¥å¿«é€Ÿå®šä½åˆ°è§†å›¾çš„æŒ‡å®šä½ç½®ã€‚&lt;/p>
&lt;p>IDAçš„å·¥å…·æ æœ‰å‡ ä¸ªæŒ‰é’®å¯¹å®šä½ä»£ç å¾ˆé‡è¦ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p>
&lt;p>&lt;img src="http://ww3.sinaimg.cn/large/7ce4a9f6gw1e5q1y4cfa7j203r00tt8i.jpg"
loading="lazy"
alt="å®šä½ç›¸å…³åŠŸèƒ½æŒ‰é’®"
>&lt;/p>
&lt;p>ä»å·¦åˆ°å³åˆ†åˆ«æ˜¯ï¼š
&lt;strong>Open exports window&lt;/strong>:æ‰“å¼€å¯¼å‡ºçª—å£
&lt;strong>Open import window&lt;/strong>:æ‰“å¼€å¯¼å…¥çª—å£
*&lt;strong>Open names window&lt;/strong>:å‡½æ•°å’Œå‚æ•°çš„å‘½ååˆ—è¡¨
*&lt;strong>Open functions window&lt;/strong>:ç¨‹åºè°ƒç”¨çš„æ‰€æœ‰å‡½æ•°çª—å£
*&lt;strong>Open strings window&lt;/strong>: æ‰“å¼€å­—ç¬¦ä¸²æ˜¾ç¤ºçª—å£ï¼Œä¼šåˆ—å‡ºç¨‹åºä¸­çš„æ‰€æœ‰å­—ç¬¦ä¸²ï¼Œè¯¥çª—å£æœ‰åŠ©äºä½ é€šè¿‡ç¨‹åºçš„è¿è¡Œè¾“å‡ºé€†å‘æ‰¾å‡ºå¯¹åº”çš„ä»£ç ç‰‡æ–­ã€‚&lt;/p>
&lt;h3 id="å®šä½ä»£ç ç‰‡æ–­">å®šä½ä»£ç ç‰‡æ–­&lt;/h3>
&lt;p>å‡è®¾æˆ‘ä»¬ç°åœ¨æ¥åˆ°ä¸ªä»»åŠ¡ï¼Œéœ€ä¿®æ­£ç¨‹åºï¼ŒæŠŠè¾“å‡ºâ€œa &amp;gt; 0â€ä¿®æ­£ä¸ºâ€œn &amp;gt; 0â€ã€‚ç¤ºä¾‹ç¨‹åºæ¯”è¾ƒç®€å•ï¼Œç›´æ¥çœ‹IDAè§†å›¾æˆ‘ä»¬å°±èƒ½æ‰¾åˆ°éœ€ä¿®æ”¹çš„ä»£ç ç‰‡æ–­ï¼Œä½†å®é™…å¤„ç†æ—¶ï¼Œå¯èƒ½ç¨‹åºæœ‰å‡ må¤§ï¼Œé€šè¿‡ä¸€ä¸ªä¸ªçœ‹IDAè§†å›¾å·²æ²¡æ³•æœ‰æ•ˆæ‰¾åˆ°ç›¸å…³çš„æ‰§è¡Œä»£ç ç‰‡æ–­ï¼Œè¿™æ—¶æ€ä¹ˆåŠï¼Ÿ
ä½¿ç”¨å­—ç¬¦ä¸²çª—å£å’ŒIDAå¼ºå¤§çš„äº¤å‰å¼•ç”¨ï¼
ç‚¹å‡»å·¥å…·æ çš„[Open strings windows]æŒ‰é’®ï¼Œå¯ä»¥çœ‹åˆ°å¦‚ä¸‹çš„ç¨‹åºå­—ç¬¦ä¸²ï¼š&lt;/p>
&lt;p>&lt;img src="http://ww2.sinaimg.cn/large/7ce4a9f6gw1e5q1yut1etj20db03pmxq.jpg"
loading="lazy"
alt="ç¨‹åºå­—ç¬¦ä¸²"
>&lt;/p>
&lt;p>ç¨‹åºçš„å­—ç¬¦ä¸²è¾ƒå°‘ï¼Œå¯ä»¥å¾ˆå¿«åœ°çœ‹åˆ°æˆ‘ä»¬éœ€è¦çš„å­—ç¬¦ä¸²â€œa &amp;gt; 0â€åœ¨æ•°æ®æ®µ&lt;strong>00403003&lt;/strong>ä½ç½®ã€‚å‡å¦‚å­—ç¬¦ä¸²å¤šåˆ°å·²ä¸èƒ½è‚‰çœ¼å®šä½æŸ¥æ‰¾ï¼Œå› ä¸ºå­—ç¬¦ä¸²çª—å£æ˜¯æ²¡æœ‰æŸ¥æ‰¾åŠŸèƒ½çš„ï¼Œè¿™æ—¶éœ€è¦å€ŸåŠ©å…¶ä»–çš„æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œå¦‚notepadï¼Œeditplusç­‰ã€‚åœ¨å­—ç¬¦ä¸²çª—å£å†…å³é”®ï¼Œé€‰æ‹©èœå•[copy]å‘½ä»¤ï¼Œä¼šæŠŠå­—ç¬¦ä¸²çª—å£çš„æ‰€æœ‰å†…å®¹å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼Œå†ç²˜è´´åˆ°è®°äº‹æœ¬ä¸­æŸ¥æ‰¾å°±å¯ä»¥äº†ã€‚&lt;/p>
&lt;p>&lt;strong>åŒå‡»&lt;/strong>å­—ç¬¦ä¸²çª—å£çš„è¯¥è¡Œå­—ç¬¦ä¸²ï¼Œä¼šè·³è½¬åˆ°IDAè§†å›¾çš„&lt;strong>00403003ä½ç½®ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/strong>&lt;/p>
&lt;p>&lt;img src="http://ww4.sinaimg.cn/large/7ce4a9f6gw1e5q1zg56f5j20jx01vdg3.jpg"
loading="lazy"
alt="IDAè§†å›¾"
>&lt;/p>
&lt;p>è¯¥ä½ç½®çš„å­—ç¬¦ä¸²åé¢ä¼šæ³¨é‡Šæœ‰DATA XREFçš„å­—æ ·ï¼Œè¿™æ˜¯ç¨‹åºä¸­å¼•ç”¨åˆ°è¯¥å­—ç¬¦ä¸²çš„ä»£ç ç‰‡æ–­çš„åœ°å€ï¼åœ¨è¯¥è¡Œä¸Šå³é”®ï¼Œé€‰æ‹©[Jump to cross reference&amp;hellip;]é¡¹ï¼Œä¼šç«‹å³è·³è½¬åˆ°å¼•ç”¨è¯¥å­—ç¬¦ä¸²çš„ä»£ç ç‰‡æ–­ä½ç½®ï¼&lt;/p>
&lt;p>&lt;img src="http://ww2.sinaimg.cn/large/7ce4a9f6gw1e5q20cc1okj20eg04hgm8.jpg"
loading="lazy"
>&lt;/p>
&lt;p>&lt;img src="http://ww2.sinaimg.cn/large/7ce4a9f6gw1e5q20sej74j20b302yaa8.jpg"
loading="lazy"
>&lt;/p>
&lt;p>æœ€åå®šä½çš„ä»£ç ç‰‡æ–­
ä¸Šå›¾æ˜¾ç¤ºçš„æ±‡ç¼–æŒ‡ä»¤å³æ˜¯æˆ‘ä»¬è¦æ‰¾çš„ä»£ç ç‰‡æ–­ï¼Œè¿™æ—¶ç‚¹å‡»[Hex View-A]çª—å£ï¼Œä¼šåˆ‡æ¢åˆ°äºŒè¿›åˆ¶æµè§ˆæ¨¡å¼ï¼Œå¹¶é«˜äº®äº†æ±‡ç¼–ä»£ç çš„äºŒè¿›åˆ¶æ ¼å¼æŒ‡ä»¤ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p>
&lt;p>&lt;img src="http://ww1.sinaimg.cn/large/7ce4a9f6gw1e5q215hg0cj20e60203z5.jpg"
loading="lazy"
>&lt;/p>
&lt;p>å·²æ‰¾åˆ°éœ€ä¿®æ”¹çš„ä»£ç ç‰‡æ–­ï¼Œå‰©ä¸‹çš„åªéœ€æŠŠaæ”¹æˆnã€‚&lt;/p>
&lt;h3 id="ä¿®æ”¹ç¨‹åºæ–‡ä»¶">ä¿®æ”¹ç¨‹åºæ–‡ä»¶&lt;/h3>
&lt;p>åœ¨IDAä¸­ï¼Œå¯ä»¥åœ¨[Hex View-A]çª—å£å³é”®é€‰æ‹©[Edit]æ¥ä¿®æ”¹äºŒè¿›åˆ¶æŒ‡ä»¤ã€‚ä¿®æ”¹åé€šè¿‡å³é”®é€‰æ‹©[Commit Change]å¯ä»¥çœ‹åˆ°ä¿®æ”¹åçš„IDAè§†å›¾ã€‚ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ç§æ–¹å¼çš„ä¿®æ”¹å¹¶ä¸ä¼šæ›´æ–°åŸå§‹ç¨‹åºæ–‡ä»¶ï¼Œå®é™…åªæ˜¯ä¿®æ”¹äº†IDAçš„é¡¹ç›®æ–‡ä»¶ï¼IDAä¸­åªé€‚åˆåšä¸€äº›éªŒè¯æ€§çš„ä¿®æ”¹ï¼Œç¡®ä¿æ­£ç¡®åå†ä½¿ç”¨å…¶ä»–å·¥å…·ä¿®æ”¹åŸå§‹ç¨‹åºæ–‡ä»¶ã€‚
åœ¨IDAä¸­éªŒè¯ä¿®æ”¹æ­£ç¡®åï¼Œå¯ä»¥ä½¿ç”¨UltraEditæˆ–Hex Workshopæ¥ä¿®æ”¹åŸå§‹ç¨‹åºæ–‡ä»¶ã€‚ä¸‹é¢ä¼šä»¥UltraEditä¸ºä¾‹æ¥è¯´æ˜å¦‚ä½•ä¿®æ”¹ã€‚&lt;/p>
&lt;p>&lt;img src="http://ww3.sinaimg.cn/large/7ce4a9f6gw1e5q221zxgej20he084jtg.jpg"
loading="lazy"
>&lt;/p>
&lt;p>ç”¨UltraEditç›´æ¥æ‰“å¼€ç¨‹åºæ–‡ä»¶ï¼ŒUltraEditä¼šä»¥16è¿›åˆ¶æ¨¡å¼æ˜¾ç¤ºç¨‹åºæ–‡ä»¶ã€‚&lt;strong>UltraEditæ˜¾ç¤ºçš„åœ°å€å’ŒIDAæ˜¾ç¤ºçš„åœ°å€æ˜¯ä¸åŒçš„&lt;/strong>ï¼Œä¸ºäº†æ‰¾åˆ°å¯¹åº”ä»£ç ç‰‡æ–­åœ¨UltraEditä¸­çš„å®é™…åœ°å€ï¼Œéœ€è¦ä½¿ç”¨åˆ°UltraEditçš„æŸ¥æ‰¾åŠŸèƒ½ã€‚åœ¨IDAä¸­å¤åˆ¶éœ€ä¿®æ”¹çš„16è¿›åˆ¶æ¨¡å¼æ˜¾ç¤ºçš„æŒ‡ä»¤ï¼Œåœ¨UltraEditä¸­æ‰“å¼€æŸ¥æ‰¾ï¼Œç²˜è´´å¹¶æŸ¥æ‰¾è¯¥16è¿›åˆ¶å­—ç¬¦ä¸²ï¼ŒUltrEditä¼šå¾ˆå¿«å®šä½åˆ°è¯¥æŒ‡ä»¤å¤„ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p>
&lt;p>&lt;img src="http://ww2.sinaimg.cn/large/7ce4a9f6gw1e5q22llu5nj20et04z0u2.jpg"
loading="lazy"
>&lt;/p>
&lt;p>åœ¨IDAä¸­ä½¿å¾—å³é”®æ¥å¤åˆ¶&lt;/p>
&lt;p>&lt;img src="http://ww4.sinaimg.cn/large/7ce4a9f6gw1e5q233977pj20bp05gaao.jpg"
loading="lazy"
>&lt;/p>
&lt;p>åœ¨UltraEditæ‰“å¼€æŸ¥æ‰¾åŠŸèƒ½&lt;/p>
&lt;p>&lt;img src="http://ww4.sinaimg.cn/large/7ce4a9f6gw1e5q23e9of1j20hc02vjsc.jpg"
loading="lazy"
>&lt;/p>
&lt;p>æ‰¾åˆ°äº†UltraEditçš„å¯¹åº”ä½ç½®&lt;/p>
&lt;p>ç°åœ¨æˆ‘ä»¬è¦æŠŠâ€œa &amp;gt; 0â€æ”¹æˆâ€œn &amp;gt; 0â€ï¼Œaå¯¹åº”çš„ASCIIç æ˜¯61ï¼Œè€Œnå¯¹åº”çš„ASCIIç æ˜¯6Eï¼Œåªéœ€æŠŠ61æ”¹æˆ6Eå°±å¯ä»¥äº†ï¼Œä¿®æ”¹åä¿å­˜ã€‚&lt;/p>
&lt;p>&lt;img src="http://ww3.sinaimg.cn/large/7ce4a9f6gw1e5q23tgcxbj20h800oaa3.jpg"
loading="lazy"
>&lt;/p>
&lt;p>å†æ¬¡è¿è¡Œï¼Œå¯ä»¥çœ‹åˆ°ç»“æœå·²æ”¹å˜ï¼&lt;/p>
&lt;p>&lt;img src="http://ww1.sinaimg.cn/large/7ce4a9f6gw1e5q244d9g5j203y026dfn.jpg"
loading="lazy"
>&lt;/p>
&lt;p>ç¤ºä¾‹åªæ˜¯ä¿®æ”¹äº†å­—ç¬¦ä¸²ï¼Œåªéœ€æ›´æ”¹æ•°æ®æ®µå†…å®¹å°±å¯ä»¥äº†ï¼Œä¸ç”¨æ›´æ”¹æŒ‡ä»¤ã€‚å‡å¦‚éœ€è¦æ›´æ”¹æŒ‡ä»¤ï¼Œéœ€è¦å‚è€ƒ&lt;a class="link" href="http://courses.engr.illinois.edu/ece390/resources/opcodes.html#Main" target="_blank" rel="noopener"
>http://courses.engr.illinois.edu/ece390/resources/opcodes.html#Main&lt;/a> 8086æŒ‡ä»¤æ“ä½œè¡¨å†™å‡ºå¯¹åº”æŒ‡ä»Šçš„16è¿›åˆ¶å½¢å¼ï¼Œå†ä¿®æ”¹ã€‚&lt;/p>
&lt;h3 id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™ï¼š&lt;/h3>
&lt;p>&lt;a class="link" href="http://blog.csdn.net/liquanhai/article/details/5479141" target="_blank" rel="noopener"
>http://blog.csdn.net/liquanhai/article/details/5479141&lt;/a>
&lt;a class="link" href="http://www.youtube.com/watch?v=Gl2S0YPRb9s" target="_blank" rel="noopener"
>http://www.youtube.com/watch?v=Gl2S0YPRb9s&lt;/a>
&lt;a class="link" href="http://www.woodmann.com/crackz/Tutorials/Flores1.htm" target="_blank" rel="noopener"
>http://www.woodmann.com/crackz/Tutorials/Flores1.htm&lt;/a>
&lt;a class="link" href="http://courses.engr.illinois.edu/ece390/resources/opcodes.html#Main" target="_blank" rel="noopener"
>http://courses.engr.illinois.edu/ece390/resources/opcodes.html#Main&lt;/a>
&lt;a class="link" href="http://faydoc.tripod.com/cpu/conventions.htm" target="_blank" rel="noopener"
>http://faydoc.tripod.com/cpu/conventions.htm&lt;/a>&lt;/p></description></item><item><title>ä½¿ç”¨Mono.Cecilæ›´æ”¹ç¨‹åºé›†dllç‰¹æ€§</title><link>https://blog.xenori.com/2012/05/use-mono-cecil-to-change-dll-attribute/</link><pubDate>Sat, 12 May 2012 08:31:49 +0000</pubDate><guid>https://blog.xenori.com/2012/05/use-mono-cecil-to-change-dll-attribute/</guid><description>&lt;p>å·¥ä½œä¸­å‘ç°ä¸€ä¸ªå…¬å…±ç»„ä»¶å› ä¸ºæŸä¸ªç±»ä¸å¸¦æœ‰[Serializable]ç‰¹æ€§ï¼Œå¯¼è‡´ä¿å­˜åˆ°memcacheæ—¶å‡ºé”™ã€‚åˆšå¥½è´Ÿè´£çš„åŒäº‹è¯·å‡ä¸åœ¨ï¼Œå°è¯•äº†iLSpyåç¼–è¯‘æ–¹æ³•åï¼Œæœ€åå†³å®šä½¿ç”¨Mono.Cecilç›´æ¥ä¿®æ”¹ç°æˆçš„ç¨‹åºé›†dllè§£å†³ã€‚&lt;/p>
&lt;p>ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š&lt;/p>
&lt;pre>&lt;code>class Program
{
static void Main(string[] args)
{
var asmFile = &amp;quot;TestDll.dll&amp;quot;; // ç¨‹åºé›†å
Console.WriteLine(&amp;quot;add serializable attribute for '{0}'.&amp;quot;, asmFile);
var asmDef = AssemblyDefinition.ReadAssembly(asmFile, new ReaderParameters
{
ReadSymbols = true // æ ‡è¯†æ˜¯å¦è¯»å–ä¿®æ”¹pdbæ–‡ä»¶
});
// å–ç±»åä¸­åŒ…å«&amp;quot;Entity&amp;quot;å­—ç¬¦ä¸²çš„ç±»
var types = asmDef.Modules
.SelectMany(m =&amp;gt; m.Types)
.Where(t =&amp;gt; t.Name.Contains(&amp;quot;Entity&amp;quot;));
// è®¾ç½®ç±»ä¸ºå¯åºåˆ—åŒ–
foreach (var type in types)
{
type.IsSerializable = true;
}
// é‡æ–°ä¿å­˜dll
var newAsmFileName = &amp;quot;TestDll_new.dll&amp;quot;;
asmDef.Write(newAsmFileName, new WriterParameters
{
WriteSymbols = true
});
Console.WriteLine(&amp;quot;new dll has save as {0}.&amp;quot;, newAsmFileName);
}
}
&lt;/code>&lt;/pre>
&lt;p>Mono.Cecilé™¤äº†å¯ä»¥æ›´æ”¹ç‰¹æ€§ï¼Œè¿˜èƒ½æŠŠsealedç±»æ›´æ”¹ä¸ºpublicç±»ï¼ŒåŠŸèƒ½éå¸¸å¼ºå¤§ã€‚&lt;/p>
&lt;p>&lt;a class="link" href="http://bitxeno.me/wp-content/uploads/2012/05/MonoCecilTest.zip" target="_blank" rel="noopener"
>ä¸‹è½½demo&lt;/a>&lt;/p>
&lt;p>å‚è€ƒèµ„æ–™ï¼š
&lt;a class="link" href="http://blog.zhaojie.me/2011/09/aspnet-mvc-dynamic-model-mono-cecil.html" target="_blank" rel="noopener"
>ä½¿ç”¨Mono.Cecilè¾…åŠ©ASP.NET MVCä½¿ç”¨dynamicç±»å‹Model&lt;/a>&lt;/p></description></item><item><title>WinDbgå…¥é—¨</title><link>https://blog.xenori.com/2012/04/windbg-tutorial/</link><pubDate>Tue, 24 Apr 2012 15:52:37 +0000</pubDate><guid>https://blog.xenori.com/2012/04/windbg-tutorial/</guid><description>&lt;p>è¿™æ˜¯å‡†å¤‡åœ¨æ¯å‘¨æŠ€æœ¯åˆ†äº«ä¼šä¸­åˆ†äº«çš„å†…å®¹ï¼Œä½†å› ä¸ºå›¢é˜Ÿéƒ½å¿™äºå„ç§éœ€æ±‚å’ŒæœåŠ¡å™¨è¿ç§»ï¼Œåˆ†äº«å°±ä¸€ç›´æç½®äº†ã€‚&lt;/p>
&lt;p>è¿™ä¸ªpptè¿˜æ˜¯æœ‰ç”¨å¿ƒåšçš„ï¼Œå¦‚pptçš„èƒŒæ™¯ï¼Œå’Œdebugæµç¨‹çš„ç®­å¤´éƒ½æ˜¯ä½¿ç”¨photoshopå·ä¸‹æ¥çš„= =ï¼&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;p>ç¤ºä¾‹ç¨‹åºï¼š&lt;a class="link" href="http://bitxeno.me/wp-content/uploads/2012/04/WindbgTestExample.zip" target="_blank" rel="noopener"
>Download Example&lt;/a>&lt;/p></description></item><item><title>å¢åŠ Androidæ¨¡æ‹Ÿå™¨çš„"Internal Storage"å®¹é‡</title><link>https://blog.xenori.com/2012/04/android-internal-storage-space/</link><pubDate>Thu, 12 Apr 2012 16:06:07 +0000</pubDate><guid>https://blog.xenori.com/2012/04/android-internal-storage-space/</guid><description>&lt;p>androidæ¨¡æ‹Ÿå™¨é»˜è®¤çš„å†…éƒ¨å­˜å‚¨ç©ºé—´åªæœ‰å‡ åmï¼Œéšä¾¿å®‰è£…å‡ ä¸ªappå°±æ»¡äº†ï¼Œgoogleäº†ä¸‹ï¼Œå‘ç°AVDç®¡ç†å™¨æ˜¯æ²¡æœ‰å¢åŠ å†…éƒ¨å­˜å‚¨ç©ºé—´çš„è®¾ç½®çš„ï¼Œè¦å¢åŠ éœ€è¦ä½¿ç”¨å‘½ä»¤è¡Œæ¥å¯åŠ¨æ¨¡æ‹Ÿå™¨ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š&lt;/p>
&lt;pre>&lt;code>emulator -partition-size &amp;lt;size&amp;gt; -avd &amp;lt;virtual device name&amp;gt;
&lt;/code>&lt;/pre>
&lt;p>å¯ä»¥æŠŠå‘½ä»¤ä¿å­˜åˆ°æ‰¹å¤„ç†batæ–‡ä»¶ä¸­ï¼Œä»¥æ–¹ä¾¿ä»¥åç›´æ¥å¯åŠ¨ã€‚&lt;/p>
&lt;p>&lt;strong>ä½¿ç”¨å‘½ä»¤è¡Œå¯åŠ¨æ¨¡æ‹Ÿå™¨æ˜¯ä¸èƒ½ä½¿ç”¨snapshotåŠŸèƒ½çš„ï¼Œåˆ›å»ºçš„avdä¹‹å‰æœ‰å¯åŠ¨çš„è¯ï¼Œéœ€è¦å…ˆå…³é—­ã€‚&lt;/strong>
&lt;img src="http://ww2.sinaimg.cn/large/7ce4a9f6gw1e5q1sdhdhnj20as05w3yp.jpg"
loading="lazy"
alt="android avd"
>&lt;/p>
&lt;p>å‚è€ƒèµ„æ–™ï¼š
&lt;a class="link" href="https://groups.google.com/forum/?fromgroups#!topic/android-developers/wFO2HOcFiV4" target="_blank" rel="noopener"
>https://groups.google.com/forum/?fromgroups#!topic/android-developers/wFO2HOcFiV4&lt;/a>
&lt;a class="link" href="http://developer.android.com/guide/developing/tools/emulator.html#startup-options" target="_blank" rel="noopener"
>http://developer.android.com/guide/developing/tools/emulator.html#startup-options&lt;/a>&lt;/p></description></item><item><title>WSGIå¤„ç†æµç¨‹å›¾</title><link>https://blog.xenori.com/2012/03/a-diagram-to-explain-wsgi/</link><pubDate>Mon, 26 Mar 2012 15:41:54 +0000</pubDate><guid>https://blog.xenori.com/2012/03/a-diagram-to-explain-wsgi/</guid><description>&lt;p>StackOverflowä¸Šçœ‹åˆ°çš„è§£é‡ŠWSGIå¦‚ä½•å·¥ä½œçš„å›¾ï¼ˆä¸€å›¾èƒœåƒè¨€ï¼‰ï¼š
&lt;img src="http://ww4.sinaimg.cn/large/7ce4a9f6gw1e5q1rcz9d8j21kw0pzjwx.jpg"
loading="lazy"
>&lt;/p>
&lt;p>ç›¸å…³ï¼š
&lt;a class="link" href="http://stackoverflow.com/questions/1303118/looking-for-a-diagram-to-explain-wsgi" target="_blank" rel="noopener"
>http://stackoverflow.com/questions/1303118/looking-for-a-diagram-to-explain-wsgi&lt;/a>
&lt;a class="link" href="http://stackoverflow.com/questions/1303118/looking-for-a-diagram-to-explain-wsgi" target="_blank" rel="noopener"
>http://www.python.org/dev/peps/pep-0333/&lt;/a>&lt;/p></description></item><item><title>linuxå¸¸ç”¨å‘½ä»¤</title><link>https://blog.xenori.com/2012/03/linux-useful-commands/</link><pubDate>Sat, 17 Mar 2012 09:42:44 +0000</pubDate><guid>https://blog.xenori.com/2012/03/linux-useful-commands/</guid><description>&lt;p>åœ¨å¾®åšä¸Šå‘ç°å·²æœ‰åŒå­¦æ•´ç†äº†ä¸€ä¸ªä¸é”™çš„linuxå‘½ä»¤æ–‡æ¡£ï¼š&lt;a class="link" href="http://115.com/file/c2rzrvw3#Unix-Linux" target="_blank" rel="noopener"
>http://115.com/file/c2rzrvw3#Unix-Linux&lt;/a>
è¿™ç¯‡æ–‡ç« ç­‰é‡åˆ°å¥½çš„å‘½ä»¤å†ç»§ç»­æ›´æ–°ã€‚ã€‚ã€‚&lt;/p>
&lt;p>æ–‡ä»¶å‘½ä»¤ | ç¨‹åºå‘½ä»¤ | ç½‘ç»œå‘½ä»¤ | ç³»ç»Ÿå‘½ä»¤&lt;/p>
&lt;h3 id="æ–‡ä»¶">æ–‡ä»¶&lt;/h3>
&lt;p>åˆ›å»ºä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶&lt;/p>
&lt;pre>&lt;code>touch test.txt
&lt;/code>&lt;/pre>
&lt;p>åˆ é™¤æ–‡ä»¶&lt;/p>
&lt;pre>&lt;code>rm -f text.txt
&lt;/code>&lt;/pre>
&lt;p>åˆ›å»ºä¸€ä¸ªç›®å½•&lt;/p>
&lt;pre>&lt;code>mkdir newdir
&lt;/code>&lt;/pre>
&lt;p>åˆ é™¤ä¸€ä¸ªç›®å½•&lt;/p>
&lt;pre>&lt;code>rm -r dirname
&lt;/code>&lt;/pre>
&lt;p>æ˜¾ç¤ºç›®å½•ä¸­çš„æ–‡ä»¶ä¿¡æ¯&lt;/p>
&lt;pre>&lt;code>ls -lt
&lt;/code>&lt;/pre>
&lt;p>æ”¹å˜æ–‡ä»¶æˆ–ç›®å½•çš„æƒé™&lt;/p>
&lt;pre>&lt;code>chmod 666 test.txt
&lt;/code>&lt;/pre>
&lt;p>æŸ¥çœ‹æ–‡ä»¶å¤¹å¤§å°&lt;/p>
&lt;pre>&lt;code>du -h --max-depth=1 ./mp3
&lt;/code>&lt;/pre>
&lt;p>è§£å‹taræ–‡ä»¶&lt;/p>
&lt;pre>&lt;code>tar zxpf test.tar.gz
&lt;/code>&lt;/pre>
&lt;h3 id="ç¨‹åº">ç¨‹åº&lt;/h3>
&lt;p>å®‰è£…ç¨‹åº&lt;/p>
&lt;p>æ˜¾ç¤ºæ­£åœ¨è¿è¡Œçš„ç¨‹åº&lt;/p>
&lt;pre>&lt;code>ps -ef
&lt;/code>&lt;/pre>
&lt;p>å…³é—­ç¨‹åº&lt;/p>
&lt;pre>&lt;code>kill -QUIT [PID]
&lt;/code>&lt;/pre>
&lt;p>å¼ºåˆ¶å…³é—­ç¨‹åº&lt;/p>
&lt;pre>&lt;code>kill -9 [PID]
&lt;/code>&lt;/pre>
&lt;h3 id="ç½‘ç»œ">ç½‘ç»œ&lt;/h3>
&lt;p>æŸ¥çœ‹ç¨‹åºå ç”¨ç«¯å£æƒ…å†µ&lt;/p>
&lt;pre>&lt;code>netstat -anp
&lt;/code>&lt;/pre>
&lt;p>-aæ˜¾ç¤ºæ‰€æœ‰è¿æ¥ï¼Œ-næ˜¾ç¤ºç«¯å£æƒ…å†µï¼Œ-pæ˜¾ç¤ºç¨‹åºPID&lt;/p>
&lt;h3 id="ç³»ç»Ÿ">ç³»ç»Ÿ&lt;/h3>
&lt;p>é‡å¯&lt;/p>
&lt;pre>&lt;code>reboot
&lt;/code>&lt;/pre>
&lt;p>å…³æœº&lt;/p>
&lt;pre>&lt;code>poweroff
&lt;/code>&lt;/pre></description></item><item><title>å¦‚ä½•æŸ¥çœ‹å“ªäº›è¿›ç¨‹å’ŒæœåŠ¡å™¨æ­£åœ¨ä½¿ç”¨æ•°æ®åº“</title><link>https://blog.xenori.com/2012/03/find-who-connect-to-database/</link><pubDate>Sat, 17 Mar 2012 09:33:03 +0000</pubDate><guid>https://blog.xenori.com/2012/03/find-who-connect-to-database/</guid><description>&lt;p>å·¥ä½œä¸­æœ‰æ—¶ä¼šç¢°åˆ°éœ€è¦è¿ç§»æ•°æ®åº“çš„æ—¶å€™ï¼Œå¦‚æ›´æ¢æœºæˆ¿ï¼Œæ›´æ¢æ–°æœåŠ¡å™¨ç­‰ã€‚è¿ç§»æ•°æ®åº“æœ€é‡è¦æ˜¯è¦ç¡®ä¿æ­£åœ¨è¿è¡Œçš„ç¨‹åºä¸ä¼šå› ä¸ºæ¼æ›´æ”¹è¿æ¥å­—ç¬¦ä¸²è€Œå¯¼è‡´ç¨‹åºæŠ¥é”™ã€‚ä½†æœ‰æ—¶ç»´æŠ¤çš„é¡¹ç›®å¯èƒ½è€æ—§ï¼Œæ²¡æœ‰ç›¸å…³ç»´æŠ¤æ–‡æ¡£ï¼Œè¿˜æœ‰ä¸€äº›ä½¿ç”¨è¯¥æ•°æ®åº“çš„windowsæœåŠ¡ä¹Ÿå¯èƒ½éå¸ƒåœ¨å…¶ä»–æœåŠ¡å™¨ä¸Šï¼Œè¿™æ—¶æˆ‘ä»¬è¯¥å¦‚ä½•æ‰¾åˆ°æ‰€æœ‰æ­£åœ¨ä½¿ç”¨è¯¥æ•°æ®åº“çš„æœåŠ¡å‘¢ï¼Ÿ&lt;/p>
&lt;p>ä¸‹é¢ä»¥windowsæœåŠ¡å™¨å’ŒSql Serveræ•°æ®åº“ä¸ºä¾‹ï¼Œæ•°æ®åº“æœåŠ¡å™¨çš„ipæ˜¯192.168.6.189ï¼Œlinuxå¹³å°çš„æ€è·¯å·®ä¸å¤šï¼Œåªæ˜¯å‘½ä»¤æœ‰å˜åŒ–ã€‚&lt;/p>
&lt;h3 id="1æŸ¥çœ‹sql-serverè¿›ç¨‹id">1ã€æŸ¥çœ‹Sql Serverè¿›ç¨‹ID&lt;/h3>
&lt;p>æ‰“å¼€ä»»åŠ¡ç®¡ç†å™¨ï¼Œç‚¹å‡»â€œ&lt;strong>æŸ¥çœ‹&lt;/strong>-&amp;gt;&lt;strong>é€‰æ‹©åˆ—&lt;/strong>â€ï¼Œå‹¾é€‰â€œ&lt;strong>PID(è¿›ç¨‹æ ‡è¯†ç¬¦)&lt;/strong>â€
&lt;img src="http://ww1.sinaimg.cn/large/7ce4a9f6gw1e5q1p9zo5yj20b70bkabs.jpg"
loading="lazy"
alt="sql server"
>
&lt;img src="http://ww4.sinaimg.cn/large/7ce4a9f6gw1e5q1pyu9epj205k07ywf2.jpg"
loading="lazy"
alt="sql server"
>&lt;/p>
&lt;p>è¿›ç¨‹åç§°ä¸ºâ€œ&lt;strong>sqlservr.exe&lt;/strong>â€çš„PIDå°±æ˜¯Sql Serverçš„è¿›ç¨‹IDï¼Œå½“å‰æ˜¯&lt;strong>1800&lt;/strong>ã€‚&lt;/p>
&lt;h3 id="2æŸ¥çœ‹å½“å‰è¿æ¥sql-serverçš„æœåŠ¡å™¨åˆ—è¡¨">2ã€æŸ¥çœ‹å½“å‰è¿æ¥Sql Serverçš„æœåŠ¡å™¨åˆ—è¡¨&lt;/h3>
&lt;p>æ‰“å¼€å‘½ä»¤è¡Œï¼Œè¾“å…¥ä¸‹é¢çš„å‘½ä»¤ï¼š&lt;/p>
&lt;pre>&lt;code>netstat -ano|find &amp;quot;1800&amp;quot;
&lt;/code>&lt;/pre>
&lt;p>ç»“æœå¦‚ä¸‹ï¼š&lt;/p>
&lt;pre>&lt;code>C:\Documents and Settings&amp;gt;netstat -ano|find &amp;quot;1800&amp;quot;
TCP 0.0.0.0:3758 0.0.0.0:0 LISTENING 1800
TCP 0.0.0.0:5025 0.0.0.0:0 LISTENING 1800
TCP 127.0.0.1:1434 0.0.0.0:0 LISTENING 1800
TCP 192.168.6.189:3758 192.168.6.76:2685 ESTABLISHED 1800
TCP 192.168.6.189:3758 192.168.6.76:2725 ESTABLISHED 1800
&lt;/code>&lt;/pre>
&lt;p>è¯¥å‘½ä»¤ä¼šæ‰“å°å‡ºæ‰€æœ‰è¿æ¥åˆ°1800è¿›ç¨‹çš„æœåŠ¡å™¨åˆ—è¡¨ï¼Œå¯ä»¥çœ‹åˆ°&lt;strong>192.168.6.76&lt;/strong>è¿™å°æœåŠ¡å™¨æ­£åœ¨è¿æ¥åˆ°Sql Serverã€‚&lt;/p>
&lt;h3 id="3æŸ¥çœ‹è¿æ¥åˆ°æ•°æ®åº“æœåŠ¡å™¨çš„è¿›ç¨‹">3ã€æŸ¥çœ‹è¿æ¥åˆ°æ•°æ®åº“æœåŠ¡å™¨çš„è¿›ç¨‹&lt;/h3>
&lt;p>è¿›å…¥æœåŠ¡å™¨192.168.6.76ï¼Œæ‰“å¼€å‘½ä»¤è¡Œï¼Œè¾“å…¥ä¸‹é¢çš„å‘½ä»¤ï¼š&lt;/p>
&lt;pre>&lt;code>netstat -ano |find &amp;quot;6.189&amp;quot;
&lt;/code>&lt;/pre>
&lt;p>6.189æ˜¯æ•°æ®åº“æœåŠ¡å™¨çš„ipï¼Œfindå‘½ä»¤ç”¨æ¥æŸ¥æ‰¾å¸¦æœ‰&amp;quot;6.189&amp;quot;å­—ç¬¦ä¸²çš„è¡Œã€‚è¾“å‡ºå¦‚ä¸‹ï¼š&lt;/p>
&lt;pre>&lt;code>d:\webroot&amp;gt;netstat -ano |find &amp;quot;6.189&amp;quot;
TCP 192.168.6.76:2685 192.168.6.189:3758 ESTABLISHED 8520
TCP 192.168.6.76:2725 192.168.6.189:3758 ESTABLISHED 8520
&lt;/code>&lt;/pre>
&lt;p>ç»“æœæœ€å³è¾¹çš„å°±æ˜¯æ­£è¿æ¥åˆ°æ•°æ®åº“æœåŠ¡å™¨çš„è¿›ç¨‹IDï¼Œå½“å‰æ˜¯&lt;strong>8520&lt;/strong>.ç°åœ¨å·²ç»æ‰¾åˆ°è¿›ç¨‹äº†^0^ï¼Œä½ åªéœ€æ‰“å¼€ä»»åŠ¡ç®¡ç†å™¨ï¼Œçœ‹ä¸‹è¯¥è¿›ç¨‹IDå¯¹åº”æ˜¯è¿›ç¨‹æ˜¯ä»€ä¹ˆï¼Œå°±èƒ½å‡†ç¡®å®šä½äº†ã€‚&lt;/p>
&lt;h3 id="4æŸ¥çœ‹iisè¿›ç¨‹å¯¹åº”çš„ç«™ç‚¹">4ã€æŸ¥çœ‹IISè¿›ç¨‹å¯¹åº”çš„ç«™ç‚¹&lt;/h3>
&lt;p>æœ‰æ—¶æˆ‘ä»¬æ‰¾åˆ°ä½¿ç”¨æ•°æ®åº“çš„è¿›ç¨‹äº†ï¼Œä½†æ˜¯åƒIISè¿™ç§ç¨‹åºï¼Œå› ä¸ºæ‰€æœ‰ç«™ç‚¹çš„è¿›ç¨‹åéƒ½ç›¸åŒï¼Œæ‰€ä»¥æ— æ³•å‡†å¤‡å®šä½äº†ã€‚
&lt;img src="http://ww3.sinaimg.cn/large/7ce4a9f6gw1e5q1qewrroj206s08iaal.jpg"
loading="lazy"
alt="sql server"
>
æœ‰ä»€ä¹ˆæ–¹æ³•å¯ä»¥æ‰¾åˆ°w3wp.exeå¯¹åº”çš„ç«™ç‚¹åå‘¢ï¼Ÿå¯ä»¥ä½¿ç”¨iisappå‘½ä»¤ï¼š&lt;/p>
&lt;pre>&lt;code>d:\webroot&amp;gt;iisapp -a
W3WP.exe PID: 6584 AppPoolId: test1.com
W3WP.exe PID: 16304 AppPoolId: Special
W3WP.exe PID: 8520 AppPoolId: test2.com
W3WP.exe PID: 3164 AppPoolId: test3.com
&lt;/code>&lt;/pre>
&lt;p>iisappå‘½ä»¤ä¼šè¾“å‡ºW3WPè¿›ç¨‹å¯¹åº”çš„åº”ç”¨ç¨‹åºæ± åï¼Œé€šè¿‡åº”ç”¨ç¨‹åºæ± åæˆ‘ä»¬å°±èƒ½å‡†å¤‡å®šä½ç«™ç‚¹ï¼šï¼‰&lt;/p></description></item><item><title>äº†è§£IISçš„ä¸»æœºå(Host Headers)é…ç½®é¡¹</title><link>https://blog.xenori.com/2012/03/understanding-iis-host-headers/</link><pubDate>Sat, 03 Mar 2012 17:00:18 +0000</pubDate><guid>https://blog.xenori.com/2012/03/understanding-iis-host-headers/</guid><description>&lt;p>IISå¯ä»¥åœ¨ä¸€å°æœåŠ¡å™¨ä¸Šé…ç½®å¤šä¸ªwebç«™ç‚¹ï¼Œæ¯ä¸ªç«™ç‚¹é€šè¿‡ipåœ°å€ã€ç«¯å£(port)å’Œä¸»æœºå(host)ç»“åˆçš„æ ‡è¯†ç¬¦(ServerBindings Metabase)è¿›è¡ŒåŒºåˆ†ã€‚æ ‡è¯†å­—ç¬¦ä¸²çš„æ ¼å¼å¦‚ä¸‹ï¼š&lt;/p>
&lt;pre>&lt;code>IP:Port:Hostname
&lt;/code>&lt;/pre>
&lt;p>ä¸Šé¢çš„IPå’ŒHostnameæ˜¯å¯é€‰é¡¹ï¼Œå‡å¦‚è®¾å®šç«™ç‚¹æ—¶ä¸æŒ‡å®šï¼Œè¡¨ç¤ºåŒ¹é…æ‰€æœ‰ã€‚&lt;/p>
&lt;h3 id="ä¸»æœºåhost-headersæ˜¯httpæ¶ˆæ¯çš„ä¸€éƒ¨åˆ†">ä¸»æœºå(Host Headers)æ˜¯HTTPæ¶ˆæ¯çš„ä¸€éƒ¨åˆ†&lt;/h3>
&lt;p>æµè§ˆå™¨å’ŒwebæœåŠ¡å™¨ä¹‹é—´æ˜¯é€šè¿‡httpåè®®é€šä¿¡çš„ã€‚httpå‘é€çš„è¯·æ±‚å¤´éƒ¨(headers)éƒ¨åˆ†åŒ…å«æœ‰å¾ˆå¤šä¿¡æ¯ï¼Œå¦‚Content-Length, Referer, &lt;strong>Host&lt;/strong>ç­‰ç­‰ã€‚&lt;/p>
&lt;h3 id="æµè§ˆå™¨å¦‚ä½•å’ŒwebæœåŠ¡å™¨é€šä¿¡">æµè§ˆå™¨å¦‚ä½•å’ŒwebæœåŠ¡å™¨é€šä¿¡&lt;/h3>
&lt;p>äº’è”ç½‘ä¸Šçš„ä¸¤å°ä¸»æœºä¹‹é—´æ˜¯é€šè¿‡TCP/IPåè®®è¿›è¡Œé€šä¿¡çš„ï¼Œé€šä¿¡å»ºç«‹è¿æ¥æ—¶éœ€è¦æŒ‡å®šipå’Œç«¯å£å·(port)ã€‚å½“æˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ä¸€ä¸ªç½‘ç«™çš„åŸŸåï¼Œå¹¶æŒ‰å›è½¦åï¼Œæµè§ˆå™¨é»˜è®¤ä¼šä½¿ç”¨httpåè®®å’Œ80ç«¯å£å‘å‡ºè¯·æ±‚ã€‚&lt;/p>
&lt;p>&lt;img src="http://ww4.sinaimg.cn/large/7ce4a9f6gw1e5q1ogexavj20dw01i74b.jpg"
loading="lazy"
alt="client to server"
>&lt;/p>
&lt;p>æµè§ˆå™¨é¦–å…ˆéœ€è¦æŠŠåŸŸåè§£æä¸ºå¯¹åº”çš„ipåœ°å€ã€‚åŸŸåè§£æå¯ä»¥ä½¿ç”¨dnsæœåŠ¡å™¨æˆ–æœ¬åœ°çš„hostæ–‡ä»¶ã€‚&lt;/p>
&lt;p>å½“åŸŸåè§£æä¸ºipåœ°å€åï¼Œæµè§ˆå™¨ä¼šå’ŒwebæœåŠ¡å™¨å»ºç«‹è¿æ¥ï¼Œå¹¶å‘å‡ºç½‘é¡µè®¿é—®è¯·æ±‚ä¿¡æ¯ã€‚è¯·æ±‚ä¿¡æ¯çš„å¤´éƒ¨ä¸€èˆ¬åƒä¸‹é¢è¿™æ ·ï¼š&lt;/p>
&lt;pre>&lt;code>GET /index.htm HTTP/1.1
Host: www.ilopia.com
&lt;/code>&lt;/pre>
&lt;p>IISæ¥æ”¶åˆ°è¯·æ±‚åï¼Œä¼šæ£€æŸ¥è¯·æ±‚æ˜¯å¦å¸¦æœ‰hostä¿¡æ¯(è¯·æ±‚ä¸­ä¹Ÿå¯èƒ½ä¸å¸¦æœ‰hostä¿¡æ¯ï¼Œå¦‚ä½¿ç”¨ipç›´æ¥è®¿é—®)ã€‚IISå‘ç°æœ‰hoståï¼Œä¼šæŸ¥æ‰¾æ˜¯å¦æœ‰åŒ¹é…è¯¥hostçš„ç«™ç‚¹ï¼Œå¦‚æœæœ‰åŒ¹é…çš„ç«™ç‚¹ï¼Œå°±ä¼šæŠŠè¯·æ±‚è·¯ç”±ç»™å®ƒè¿›è¡Œå¤„ç†ã€‚&lt;/p>
&lt;p>æœ€åä¸€æ­¥æ˜¯IISå“åº”å¤„ç†è¯·æ±‚ã€‚&lt;/p>
&lt;h3 id="iiså¦‚ä½•åˆ†å‘è¯·æ±‚åˆ°æŒ‡å®šwebç«™ç‚¹">IISå¦‚ä½•åˆ†å‘è¯·æ±‚åˆ°æŒ‡å®šwebç«™ç‚¹&lt;/h3>
&lt;p>IISåˆ†å‘è¯·æ±‚åˆ°æŒ‡å®šç«™ç‚¹çš„è§„åˆ™å¦‚ä¸‹ï¼š&lt;/p>
&lt;ol>
&lt;li>
&lt;p>1ã€æ˜¯å¦å­˜åœ¨å‡†ç¡®åŒ¹é… IP:Port:Hostnameæ ‡è¯†å­—ç¬¦ä¸²çš„ç«™ç‚¹ï¼Œå­˜åœ¨å³åˆ†å‘è¯·æ±‚ï¼Œæ²¡æœ‰è¿›è¡Œä¸‹ä¸€æ­¥åŒ¹é…&lt;/p>
&lt;/li>
&lt;li>
&lt;p>2ã€æ˜¯å¦å­˜åœ¨ç›‘å¬æ‰€æœ‰IPåœ°å€(ç«™ç‚¹è®¾å®šæ—¶ä¸æŒ‡å®š)ï¼Œå¹¶ä¸”Portå’ŒHostnameéƒ½åŒ¹é…çš„ç«™ç‚¹ï¼Œå­˜åœ¨å³åˆ†å‘è¯·æ±‚ï¼Œæ²¡æœ‰è¿›è¡Œä¸‹ä¸€æ­¥åŒ¹é…&lt;/p>
&lt;/li>
&lt;li>
&lt;p>3ã€æ˜¯å¦å­˜åœ¨ç«¯å£PortåŒ¹é…ï¼Œè€ŒIPå’ŒHostnameéƒ½æœªæŒ‡å®šçš„ç«™ç‚¹ï¼Œå­˜åœ¨å³åˆ†å‘è¯·æ±‚ï¼Œæ²¡æœ‰æµè§ˆå™¨ä¼šæç¤ºæ²¡æ³•è¿æ¥åˆ°æœåŠ¡å™¨&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h3 id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™&lt;/h3>
&lt;p>&lt;a class="link" href="http://www.microsoft.com/technet/prodtechnol/WindowsServer2003/Library/IIS/0ed054d1-ca3a-495f-bad4-3a251e5a07a3.mspx?mfr=true" target="_blank" rel="noopener"
>ServerBindings Metabase Property (IIS 6.0)&lt;/a>
&lt;a class="link" href="http://www.it-notebook.org/iis/article/understanding_host_headers.htm" target="_blank" rel="noopener"
>Understanding Host Headers in IIS&lt;/a>
&lt;a class="link" href="http://www.it-notebook.org/iis/article/iis_multiple_websites.htm" target="_blank" rel="noopener"
>Using Host Headers to host multiple websites on IIS 6.0&lt;/a>&lt;/p></description></item><item><title>å¦‚ä½•åœ¨ubuntu server 10.04ä¸­å®‰è£…vmware tools</title><link>https://blog.xenori.com/2012/02/how-to-install-vmware-tools-in-ubuntu-server/</link><pubDate>Sun, 19 Feb 2012 08:07:01 +0000</pubDate><guid>https://blog.xenori.com/2012/02/how-to-install-vmware-tools-in-ubuntu-server/</guid><description>&lt;p>æœ¬äººçš„ubuntu serverç‰ˆæœ¬æ˜¯10.04.4ï¼Œå®‰è£…åœ¨å…è´¹çš„vmware player 4.0ä¸­ã€‚
å®‰è£…vmware-toolséœ€è¦gccå’Œå¯¹åº”çš„linux-headersè¿›è¡Œç¼–è¯‘ï¼Œéœ€å…ˆæ‰§è¡Œä¸‹é¢ä¸¤ä¸ªå‘½ä»¤è¿›è¡Œå®‰è£…ï¼š&lt;/p>
&lt;pre>&lt;code>sudo apt-get gcc
sudo apt-get install build-essential linux-headers-$(uname -r)
&lt;/code>&lt;/pre>
&lt;p>å®‰è£…åï¼Œç‚¹å‡»vmware playerèœå•â€œVirtual Machine-&amp;gt;Install VMware Toolsâ€ï¼Œç”»é¢ä¸‹æ–¹ä¼šå‡ºç°é»„è‰²çš„VMware Toolså®‰è£…æç¤ºæ¡†ã€‚
1ã€æŠŠå®‰è£…å…‰ç›˜ç»‘å®šåˆ°ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼š&lt;/p>
&lt;pre>&lt;code>mkdir /mnt/cdrom
sudo mount /dev/cdrom /mnt/cdrom
&lt;/code>&lt;/pre>
&lt;p>2ã€è§£å‹å®‰è£…æ–‡ä»¶åˆ°ä¸´æ—¶ç›®å½•/tmpï¼š&lt;/p>
&lt;pre>&lt;code>cd /tmp
tar zxpf /mnt/cdrom/VMwareTools-8.0.0-&amp;lt;xxxx&amp;gt;.tar.gz
&amp;lt;/xxxx&amp;gt;
&lt;/code>&lt;/pre>
&lt;p>3ã€æ‰§è¡Œå®‰è£…ï¼š&lt;/p>
&lt;pre>&lt;code>cd vmware-tools-distrib
sudo ./vmware-install.pl
&lt;/code>&lt;/pre>
&lt;p>4ã€ä¹‹åæŒ‰ç…§å®‰è£…æç¤ºï¼Œä¸€ç›´æŒ‰Enteré”®ç¡®è®¤å°±å¯ä»¥äº†ã€‚
5ã€å®‰è£…åæ‰§è¡Œrebooté‡å¯ï¼š&lt;/p>
&lt;pre>&lt;code>sudo reboot
&lt;/code>&lt;/pre>
&lt;p>å‚è€ƒèµ„æ–™ï¼š
&lt;a class="link" href="http://ubuntu-tutorials.com/2007/10/02/how-to-install-vmware-tools-on-ubuntu-guests/" target="_blank" rel="noopener"
>http://www.vmware.com/support/ws55/doc/ws_newguest_tools_linux.html#wp1127177&lt;/a>
&lt;a class="link" href="http://ubuntuforums.org/showthread.php?t=1561822" target="_blank" rel="noopener"
>http://ubuntuforums.org/showthread.php?t=1561822&lt;/a>
&lt;a class="link" href="http://ubuntu-tutorials.com/2007/10/02/how-to-install-vmware-tools-on-ubuntu-guests/" target="_blank" rel="noopener"
>http://ubuntu-tutorials.com/2007/10/02/how-to-install-vmware-tools-on-ubuntu-guests/&lt;/a>&lt;/p></description></item><item><title>Molasâ€”â€”.NETä¾èµ–åˆ†ç¦»æ¡†æ¶</title><link>https://blog.xenori.com/2012/02/molas-isolation-framework/</link><pubDate>Tue, 14 Feb 2012 17:29:51 +0000</pubDate><guid>https://blog.xenori.com/2012/02/molas-isolation-framework/</guid><description>&lt;p>&lt;img src="http://research.microsoft.com/en-us/projects/pex/pexweb.png"
loading="lazy"
>&lt;a class="link" href="http://research.microsoft.com/en-us/projects/moles/" target="_blank" rel="noopener"
>Moles&lt;/a>æ˜¯ç”±å¾®è½¯ç ”ç©¶é™¢(&lt;a class="link" href="http://research.microsoft.com" target="_blank" rel="noopener"
>Microsoft Research&lt;/a>)å¼€å‘çš„.NETä¾èµ–åˆ†ç¦»æ¡†æ¶ï¼Œå®ƒå®ç°äº†ä½¿ç”¨è‡ªå®šä¹‰çš„å§”æ‰˜(delegate)æ–¹æ³•æ¥æ›¿æ¢åŸæœ‰ç±»ä¸­çš„æ–¹æ³•ï¼Œä»¥è¾¾åˆ°åˆ†ç¦»ä¾èµ–ï¼Œæ–¹ä¾¿å•å…ƒæµ‹è¯•çš„ç›®çš„ã€‚Molesåœ¨åŠŸèƒ½å’Œç”¨æ³•ä¸Šä¸å¼€æºçš„IoCæ¡†æ¶Moqå¾ˆåƒï¼Œä½†Molesæœ‰ä¸€äº›Moqå®ç°ä¸äº†åŠŸèƒ½ï¼Œå¦‚æ›¿æ¢é™æ€æ–¹æ³•ï¼Œå»æ‰é™æ€æ„é€ å‡½æ•°ï¼Œçªç ´è®¿é—®é™åˆ¶ç­‰ã€‚Molaséå¸¸æœ‰åˆ©äºå¯¹ASP.NET WebFormæ„å»ºçš„ç½‘ç«™å’Œä¾èµ–ç¬¬ä¸‰æ–¹ç±»åº“çš„ç¨‹åºè¿›è¡Œå•å…ƒæµ‹è¯•ã€‚&lt;/p>
&lt;h2 id="ä¸‹è½½å’Œå®‰è£…">ä¸‹è½½å’Œå®‰è£…&lt;/h2>
&lt;p>&lt;a class="link" href="http://research.microsoft.com/en-us/projects/pex/downloads.aspx" target="_blank" rel="noopener"
>ä¸‹è½½Moles&lt;/a>åç›´æ¥å®‰è£…å°±å¯ä»¥äº†ï¼Œé‡Œé¢é›†æˆæœ‰VS2010çš„æ’ä»¶ï¼Œå®‰è£…æˆåŠŸåï¼ŒVS2010å³é”®èœå•ä¸­ä¼šé›†æˆMolesåŠŸèƒ½èœå•ã€‚&lt;/p>
&lt;h2 id="ä½¿ç”¨ç¤ºä¾‹">ä½¿ç”¨ç¤ºä¾‹&lt;/h2>
&lt;p>æˆ‘ä»¬è¯•ä¸‹æµ‹è¯•2000å¹´åƒå¹´è™«çš„bugã€‚åœ¨VS2010ä¸­åˆ›å»ºä¸€ä¸ªMoleDomainçš„ç±»é¡¹ç›®ï¼Œå¹¶åˆ›å»ºç±»Y2KCheckerï¼Œä»£ç å¦‚ä¸‹ï¼š&lt;/p>
&lt;pre>&lt;code>namespace MoleDomain
{
public static class Y2KChecker
{
public static void Check()
{
if (DateTime.Now == new DateTime(2000, 1, 1))
throw new ApplicationException(&amp;quot;y2kbug!&amp;quot;);
}
}
}
&lt;/code>&lt;/pre>
&lt;p>ç°åœ¨æˆ‘ä»¬è¦æµ‹è¯•è¿™æ®µä»£ç ï¼Œç¡®å®šå½“æ—¶é—´ä¸º2000/1/1æ—¶ï¼Œç¨‹åºèƒ½æ­£ç¡®æŠ›å‡ºå¼‚å¸¸ã€‚å¾ˆæ˜¾ç„¶è¿™æ®µä»£ç æ²¡æ³•åšå•å…ƒæµ‹è¯•ï¼Œå› ä¸ºä»£ç ä¸­çš„DateTime.Nowæ˜¯ä¾èµ–ç³»ç»Ÿæ—¶é’Ÿçš„ï¼Œåªè¿”å›å½“å‰æ—¶é—´ï¼Œæˆ‘ä»¬æ²¡æ³•æ”¹å˜å®ƒçš„å€¼ä½¿å®ƒåˆšå¥½ç­‰äº2000/1/1ã€‚æ€ä¹ˆåŠå¥½å‘¢ï¼Ÿ&lt;/p>
&lt;p>ä½¿ç”¨Molasè§£å†³è¿™ä¸ªé—®é¢˜å¾ˆç®€å•ã€‚åˆ›å»ºä¸€ä¸ªæµ‹è¯•é¡¹ç›®ï¼Œå¹¶å¼•ç”¨MoleDomainé¡¹ç›®ï¼Œå•å…ƒæµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š&lt;/p>
&lt;pre>&lt;code>[TestMethod]
[ExpectedException(typeof(ApplicationException))]
public void Test()
{
Y2KChecker.Check();
}
&lt;/code>&lt;/pre>
&lt;p>è¿è¡Œæµ‹è¯•ï¼Œä¼šæ˜¾ç¤ºé¢„æœŸçš„æœªé€šè¿‡ï¼Œå› ä¸ºDateTime.Nowç°åœ¨è¿”å›çš„è¿˜æ˜¯ç³»ç»Ÿæ—¶é—´ã€‚
&lt;img src="http://ww1.sinaimg.cn/large/7ce4a9f6gw1e5q1ld1fvzj20d203d74i.jpg"
loading="lazy"
alt="moles"
>&lt;/p>
&lt;p>æˆ‘ä»¬è¯•ä¸‹ä½¿ç”¨Molasæ›¿æ¢DateTime.Nowçš„è¿”å›å€¼ï¼Œåœ¨æµ‹è¯•é¡¹ç›®å¼•ç”¨åˆ—è¡¨ä¸­ï¼Œå³é”®MoleDomainï¼Œé€‰æ‹©â€œAdd Moles Assemblyâ€ï¼Œç¡®å®šåä¼šè‡ªåŠ¨åœ¨é¡¹ç›®ä¸­å¢åŠ ä¸€ä¸ªMoleDomain.molesæ–‡ä»¶ï¼Œmolesåç¼€çš„æ–‡ä»¶æ˜¯è®©Moleså¯¹è¯¥ç¨‹åºé›†è‡ªåŠ¨ç”Ÿæˆå¯¹åº”çš„Molasç±»å‹ç¨‹åºé›†ï¼Œä»¥ä¾¿æµ‹è¯•æ—¶ä½¿ç”¨ã€‚
&lt;img src="http://ww2.sinaimg.cn/large/7ce4a9f6gw1e5q1mey3gxj20c109eaas.jpg"
loading="lazy"
alt="moles"
>
å³é”®æµ‹è¯•é¡¹ç›®ï¼Œé€‰æ‹©â€œé‡æ–°ç”Ÿæˆâ€ï¼Œä¼šå‘ç°ç¨‹åºè‡ªåŠ¨å¼•ç”¨äº†å¾ˆå¤šMolesç›¸å…³çš„ç¨‹åºé›†ï¼Œå¦‚Microsoft.Moles.Frameworkï¼Œè¿˜æœ‰è‡ªåŠ¨ç”Ÿæˆçš„ MolaDomain.Molesç¨‹åºé›†ã€‚
&lt;img src="http://ww2.sinaimg.cn/large/7ce4a9f6gw1e5q1mvxks5j206i08rq3d.jpg"
loading="lazy"
alt="moles"
>
è¦ä½¿Molesæ­£å¸¸è¿è¡Œï¼Œéœ€è¦æ”¹ä¸‹åŸæ¥çš„å•å…ƒæµ‹è¯•ä»£ç ã€‚åœ¨æµ‹è¯•æ–¹æ³•ä¸Šæ–¹åŠ ä¸ŠHostTypeç‰¹æ€§ï¼Œå¹¶å†™ä¸‹æ›¿æ¢DateTime.Nowè¿”å›å€¼çš„ä»£ç ï¼š&lt;/p>
&lt;pre>&lt;code>[TestMethod]
[ExpectedException(typeof(ApplicationException))]
[HostType(&amp;quot;Moles&amp;quot;)]
public void Test()
{
//åˆ©ç”¨å§”æ‰˜æ›¿æ¢åŸæ¥çš„è¿”å›å€¼
MDateTime.NowGet = () =&amp;gt; new DateTime(2000, 1, 1);
Y2KChecker.Check();
}
&lt;/code>&lt;/pre>
&lt;p>å†æ¬¡è¿è¡Œæµ‹è¯•ï¼Œå‘ç°è¿˜æ˜¯å¤±è´¥ï¼Œæç¤ºé”™è¯¯ï¼š&lt;/p>
&lt;pre>&lt;code>æµ‹è¯•æ–¹æ³• MoleDomain.Test.Y2KCheckerTest.Test å¼•å‘äº†å¼‚å¸¸ Microsoft.Moles.Framework.Moles.MoleNotInstrumentedExceptionï¼Œä½†åº”ä¸ºå¼‚å¸¸ System.ApplicationExceptionã€‚å¼‚å¸¸æ¶ˆæ¯: Microsoft.Moles.Framework.Moles.MoleNotInstrumentedException: The System.DateTime System.DateTime.get_Now() was not instrumented
To resolve this issue, add the following attribute in the test project:
using Microsoft.Moles.Framework;
[assembly: MoledType(typeof(System.DateTime))]
&lt;/code>&lt;/pre>
&lt;p>æç¤ºç¼ºå°‘ä¸€äº›å¼•ç”¨é…ç½®ï¼Œåœ¨æµ‹è¯•å‘½åç©ºé—´ä¸Šæ–¹åŠ ä¸Šä»£ç ï¼š&lt;/p>
&lt;pre>&lt;code>using Microsoft.Moles.Framework;
[assembly: MoledType(typeof(System.DateTime))]
namespace MoleDomain.Test
{
.....
}
&lt;/code>&lt;/pre>
&lt;p>å†æ¬¡è¿è¡Œæµ‹è¯•ï¼Œç»ˆäºé€šè¿‡æµ‹è¯•äº†ï¼šï¼‰
&lt;img src="http://ww3.sinaimg.cn/large/7ce4a9f6gw1e5q1neh8mtj20ds027aa6.jpg"
loading="lazy"
alt="moles"
>&lt;/p>
&lt;h1 id="moleåŸºç¡€çŸ¥è¯†">MoleåŸºç¡€çŸ¥è¯†&lt;/h1>
&lt;p>åŸå§‹ç±»æˆå‘˜æ–¹æ³•å¯¹åº”çš„Moleç±»å‹å±æ€§å¦‚ä¸‹ï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>â—‡ é™æ€æ–¹æ³•è¡¨ç¤ºä¸ºmoleç±»å‹çš„é™æ€å±æ€§&lt;/p>
&lt;/li>
&lt;li>
&lt;p>â—‡ ç±»å®ä¾‹æ–¹æ³•è¡¨ç¤ºä¸ºåµŒå¥—çš„&lt;strong>AllInstances&lt;/strong>ç±»å‹çš„é™æ€å±æ€§&lt;/p>
&lt;/li>
&lt;li>
&lt;p>â—‡ ç±»æ„é€ å‡½æ•°è¡¨ç¤ºä¸ºmoleç±»å‹çš„å‘½åä¸º&lt;strong>Constructor&lt;/strong>çš„é™æ€å±æ€§&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>ä¸‹é¢éƒ¨åˆ†è¯´æ˜ä¸‹å¦‚ä½•ä½¿ç”¨.
&lt;strong>Static Methods&lt;/strong>
ä¸ºmoleç±»å‹çš„é™æ€å±æ€§é™„åŠ å§”æ‰˜æ–¹æ³•å¯ä»¥æ›¿æ¢ç±»é™æ€æ–¹æ³•çš„å†…å®¹ã€‚moleç±»å‹å±æ€§åªèƒ½é™„åŠ ä¸€ä¸ªå§”æ‰˜æ–¹æ³•ã€‚å¦‚&lt;strong>MyClass&lt;/strong>ç±»æœ‰ä¸€ä¸ªé™æ€æ–¹æ³•&lt;strong>MyMethod&lt;/strong>ï¼š&lt;/p>
&lt;pre>&lt;code>public static class MyClass {
public static int MyMethod() {
...
}
}
&lt;/code>&lt;/pre>
&lt;p>æˆ‘ä»¬é™„åŠ ä¸€ä¸ªmoleåˆ°MyMethodä¸­ï¼Œä½¿å®ƒä¸€ç›´è¿”å›5ï¼š&lt;/p>
&lt;pre>&lt;code>MMyClass.MyMethod = () =&amp;gt;5;
&lt;/code>&lt;/pre>
&lt;p>è‡ªåŠ¨ç”Ÿæˆçš„MMyClassç±»å‹çš„ä»£ç ç»“æ„å¦‚ä¸‹ï¼š&lt;/p>
&lt;pre>&lt;code>public class MMyClass {
public static Func MyMethod {
set {
...
}
}
}
&lt;/code>&lt;/pre>
&lt;p>å®‰è£…Molesæ¡†æ¶åï¼Œä½¿ç”¨å³é”®çš„â€œAdd Moles Assemblyâ€åŠŸèƒ½æ·»åŠ .moleåç¼€æ–‡ä»¶åï¼ŒMMyClasså°±èƒ½è‡ªåŠ¨ç”Ÿæˆã€‚&lt;/p>
&lt;p>&lt;strong>å®ä¾‹æ–¹æ³•(å¯¹æ‰€æœ‰å®ä¾‹ç”Ÿæ•ˆ)&lt;/strong>
å’Œé™æ€æ–¹æ³•ç›¸ä¼¼ï¼Œä¹Ÿå¯ä»¥å¯¹æ‰€æœ‰å®ä¾‹æ–¹æ³•è¿›è¡Œmoleã€‚å®ä¾‹æ–¹æ³•æ”¾ç½®åœ¨åµŒå¥—ç±»&lt;strong>AllInstances&lt;/strong>çš„é™æ€å±æ€§ä¸­ï¼Œä¾‹å¦‚ä¸‹é¢MyClasså®ä¾‹çš„MyMethodæ–¹æ³•ï¼š&lt;/p>
&lt;pre>&lt;code>public class MyClass {
public int MyMethod() {
...
}
}
&lt;/code>&lt;/pre>
&lt;p>moleä¸€ä¸ªæ–¹æ³•ä½¿æ‰€æœ‰å®ä¾‹å¯¹è±¡éƒ½è¿”å›5ï¼š&lt;/p>
&lt;pre>&lt;code>MMyClass.AllInstances.MyMethod = _ =&amp;gt; 5;
&lt;/code>&lt;/pre>
&lt;p>è‡ªåŠ¨ç”Ÿæˆçš„MMyClassç»“æ„å¦‚ä¸‹ï¼š&lt;/p>
&lt;pre>&lt;code>public class MMyClass : MoleBase {
public static class AllInstances {
public static FuncMyMethod {
set {
...
}
}
}
}
&lt;/code>&lt;/pre>
&lt;p>&lt;strong>å®ä¾‹æ–¹æ³•(å¯¹ä¸€ä¸ªå®ä¾‹ç”Ÿæ•ˆ)&lt;/strong>
å¯¹ä¸åŒçš„å®ä¾‹ï¼Œå®ä¾‹æ–¹æ³•å¯ä»¥moleä¸åŒçš„å§”æ‰˜æ–¹æ³•ã€‚moleçš„å±æ€§å®é™…æ˜¯moleç±»å‹å®ä¾‹è‡ªå·±çš„å±æ€§ï¼ˆä¸æ˜¯é™æ€æ–¹æ³•)ï¼Œæ¯ä¸ªmoleç±»å‹å®ä¾‹éƒ½ä¼šæœ‰ä¸€ä¸ªåŸå§‹ç±»å‹çš„å®ä¾‹å¯¹è±¡ã€‚å¦‚&lt;strong>MyClass&lt;/strong>çš„å®ä¾‹æ–¹æ³•&lt;strong>MyMethod&lt;/strong>ï¼š&lt;/p>
&lt;pre>&lt;code>public class MyClass {
public int MyMethod() {
...
}
}
&lt;/code>&lt;/pre>
&lt;p>æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸¤ä¸ªMMyClassçš„å®ä¾‹å¯¹è±¡ï¼Œä¸€ä¸ªä½¿å®ƒè¿”å›5ï¼Œå¦ä¸€ä¸ªä½¿å®ƒè¿”å›10ï¼š&lt;/p>
&lt;pre>&lt;code>var myClass1 = new MMyClass()
{
MyMethod = () =&amp;gt; 5
};
var myClass2 = new MMyClass() { MyMethod = () =&amp;gt; 10 };
&lt;/code>&lt;/pre>
&lt;p>è‡ªåŠ¨ç”Ÿæˆçš„moleç±»å‹ä»£ç ç»“æ„å¦‚ä¸‹ï¼š&lt;/p>
&lt;pre>&lt;code>public class MMyClass : MoleBase {
public Func MyMethod {
set {
...
}
}
public MyClass Instance {
get {
...
}
}
}
&lt;/code>&lt;/pre>
&lt;p>åŸå§‹ç±»å‹å¯¹è±¡å¯ä»¥é€šè¿‡moleå®ä¾‹å¯¹è±¡çš„&lt;strong>Instance&lt;/strong>å±æ€§è·å¾—ï¼š&lt;/p>
&lt;pre>&lt;code>var mole = new MMyClass();
var instance = mole.Instance;
&lt;/code>&lt;/pre>
&lt;p>moleå®ä¾‹å¯¹è±¡ä¹Ÿå¯ä»¥éšå¼è½¬æ¢ä¸ºåŸå§‹ç±»å‹å¯¹è±¡ï¼Œæ‰€ä»¥ä½ å¯ä»¥ç›´æ¥èµ‹å€¼å¯¹åŸå§‹ç±»å‹ï¼Œå¦‚ä¸‹ï¼š&lt;/p>
&lt;pre>&lt;code>var mole = new MMyClass();
MyClassinstance = mole;
&lt;/code>&lt;/pre>
&lt;p>&lt;strong>æ„é€ å‡½æ•°(Constructors)&lt;/strong>
ç±»æ„é€ å‡½æ•°ä¹Ÿå¯ä»¥moleæ¥è¿›è¡Œä¸€äº›èµ‹å€¼æ“ä½œã€‚ç±»æ„é€ å‡½æ•°è¡¨ç¤ºä¸ºmoleç±»å‹çš„é™æ€æ–¹æ³•&lt;strong>Constructor&lt;/strong>ï¼Œå¦‚ä¸‹é¢çš„MyClassç±»å¸¦æœ‰ä¸€ä¸ªintå‚æ•°çš„æ„é€ å‡½æ•°ï¼š&lt;/p>
&lt;pre>&lt;code>public class MyClass {
public MyClass(int value) {
this.Value = value;
}
...
}
&lt;/code>&lt;/pre>
&lt;p>é€šè¿‡é™„åŠ æ„é€ å‡½æ•°ä½¿ä»¥åçš„æ‰€æœ‰å®ä¾‹çš„Valueå±æ€§éƒ½è¿”å›-5ï¼š&lt;/p>
&lt;pre>&lt;code>MMyClass.ConstructorInt32 = (@this, value) =&amp;gt; {
var mole = new MMyClass(@this) {
ValueGet = () =&amp;gt; -5
};
};
&lt;/code>&lt;/pre>
&lt;p>å¦‚æœä½ åªæƒ³moleåé¢ä¸€ä¸ªå®ä¾‹ï¼Œæˆ‘ä»¬åªéœ€æŠŠConstructoré™æ€å±æ€§èµ‹nullå€¼ï¼Œå¦‚ï¼š&lt;/p>
&lt;pre>&lt;code>MMyClass.ConstructorInt32 = (@this, value) =&amp;gt; {
...
MMyClass.ConstructorInt32 = null;
};
&lt;/code>&lt;/pre>
&lt;p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ¯ä¸ªmoleç±»å‹éƒ½æœ‰ä¸¤ä¸ªæ„é€ å‡½æ•°ï¼Œå½“éœ€è¦ä¸€ä¸ªæ–°çš„moleå®ä¾‹å¯¹è±¡æ—¶ï¼Œä½¿ç”¨é»˜è®¤çš„æ„é€ å™¨ï¼›è€Œå¸¦æœ‰ä¸€ä¸ªåŸå§‹ç±»å‹å‚æ•°çš„æ„é€ å‡½æ•°ï¼Œåªåº”è¯¥åœ¨moleæ„é€ å‡½æ•°æ—¶ä½¿ç”¨ã€‚&lt;/p>
&lt;pre>&lt;code>public MMyClass() { }
public MMyClass(MyClass instance) : base(instance) { }
&lt;/code>&lt;/pre>
&lt;p>è‡ªåŠ¨ç”Ÿæˆçš„MMyClassä»£ç ç»“æ„å¦‚ä¸‹ï¼š&lt;/p>
&lt;pre>&lt;code>public class MMyClass : MoleBase
{
public static Action ConstructorInt32 {
set {
...
}
}
public MMyClass() { }
public MMyClass(MyClass instance) : base(instance) { }
...
}
&lt;/code>&lt;/pre>
&lt;p>&lt;strong>åŸºç±»æˆå‘˜(Base Members)&lt;/strong>
åªè¦æŠŠå­ç±»å®ä¾‹ä½œä¸ºåŸºç±»æ„é€ å‡½æ•°çš„å‚æ•°ä¼ å…¥ï¼Œå°±å¯ä»¥åˆ›å»ºä¸€ä¸ªåŸºç±»çš„moleå¯¹è±¡ï¼Œå¹¶è®¿é—®åˆ°åŸºç±»ä¸­çš„moleå±æ€§ã€‚ä¾‹å¦‚ï¼ŒåŸºç±»&lt;strong>Base&lt;/strong>æœ‰ä¸€ä¸ªMyMethodçš„æ–¹æ³•ï¼Œè€Œ&lt;strong>Child&lt;/strong>æ˜¯&lt;strong>Base&lt;/strong>çš„å­ç±»ï¼š&lt;/p>
&lt;pre>&lt;code>public abstract class Base {
public int MyMethod() {
...
}
}
public class Child : Base {
}
&lt;/code>&lt;/pre>
&lt;p>é€šè¿‡åˆ›å»ºä¸€ä¸ª&lt;strong>MBase&lt;/strong>å¯¹è±¡æˆ‘ä»¬èƒ½è®¾ç½®&lt;strong>Base&lt;/strong>çš„moleå±æ€§ï¼š&lt;/p>
&lt;pre>&lt;code>var child = new MChild();
new MBase(child) { MyMethod = () =&amp;gt; 5 };
&lt;/code>&lt;/pre>
&lt;p>æ³¨æ„è¿™é‡Œï¼Œå½“&lt;strong>MChild&lt;/strong>å®ä¾‹ä½œä¸ºä¼ å…¥&lt;strong>MBase&lt;/strong>æ„é€ å‡½æ•°æ—¶ï¼Œä¼šè¢«éšå¼è½¬æ¢ä¸º&lt;strong>Child&lt;/strong>å®ä¾‹ã€‚
MChildå’ŒMBaseçš„è‡ªåŠ¨ç”Ÿæˆä»£ç å¦‚ä¸‹ï¼š&lt;/p>
&lt;pre>&lt;code>public class MChild : MoleBase {
public MChild() { }
public MChild(Child child)
: base(child) { }
}
public class MBase : MoleBase {
public MBase(Base target) { }
public Func MyMethod
{ set { ... } }
}
&lt;/code>&lt;/pre>
&lt;p>&lt;strong>é™æ€æ„é€ å‡½æ•°&lt;/strong>
é™æ€æ„é€ å‡½æ•°åœ¨Molesä¸­è¢«ç‰¹æ®Šå¯¹å¾…ï¼ŒMolesåªèƒ½ç®€å•åœ°æŠ¹å»é™æ€æ„é€ å‡½æ•°ï¼Œè€Œä¸èƒ½é‡æ–°ä¸ºå®ƒé™„åŠ æ–°çš„å§”æ‰˜æ–¹æ³•ã€‚Molesé€šè¿‡æŒ‡å®š[MolesEraseStaticConstructor]ç‰¹æ€§æ¥æŠ¹å»ä¸€ä¸ªç±»çš„é™æ€æ„é€ å‡½æ•°ã€‚&lt;/p>
&lt;pre>&lt;code>[assembly: MolesEraseStaticConstructor(typeof(MyStatic))]
class MyStatic {
static MyStatic() {
throw new Exception(); // needs molingâ€¦
}
}
&lt;/code>&lt;/pre>
&lt;p>&lt;strong>ç»ˆç»“å™¨(Finalizers)&lt;/strong>
å¯¹äºç»ˆç»“å™¨ï¼ŒMolesä¹Ÿæ˜¯ç‰¹æ®Šå¯¹å¾…çš„ã€‚Molesä¹Ÿæ˜¯åªèƒ½ç®€å•æŠ¹å»ç»ˆç»“å™¨ï¼Œé€šè¿‡æŒ‡å®š[MolesEraseFinalizer]ç‰¹æ€§å®ç°ã€‚&lt;/p>
&lt;pre>&lt;code>[assembly: MolesEraseFinalizer(typeof(MyFinalizer))]
class MyFinalizer {
~MyFinalizer() {
throw new Exception(); // needs molingâ€¦
}
}
&lt;/code>&lt;/pre>
&lt;p>&lt;strong>ç§æœ‰æ–¹æ³•&lt;/strong>
å‡å¦‚ç§æœ‰æ–¹æ³•çš„ç­¾åç±»å‹æ˜¯å¯è§çš„ï¼ŒMolesä¼šä¸ºç§æœ‰æ–¹æ³•è‡ªåŠ¨ç”Ÿæˆmoleå±æ€§ã€‚ç­¾åç±»å‹å¯è§æ˜¯æŒ‡ï¼Œå‚æ•°ç±»å‹æˆ–è¿”å›å€¼ç±»å‹æ˜¯å¯è§çš„ï¼Œä¸æ˜¯ç§æœ‰ç±»å‹ã€‚&lt;/p>
&lt;p>&lt;strong>ç»‘å®šæ¥å£&lt;/strong>
å½“ç±»æœ‰å®ç°æ¥å£æ—¶ï¼ŒMolesè‡ªåŠ¨ç”Ÿæˆçš„moleç±»å‹ä¼šæä¾›ç«‹å³ç»‘å®šæ¥å£æˆå‘˜çš„æ–¹æ³•ã€‚ä¾‹å¦‚ï¼ŒMyClasså®ç°äº†s IEnumerableæ¥å£ï¼š&lt;/p>
&lt;pre>&lt;code>public class MyClass : IEnumerable {
public IEnumerator GetEnumerator() {
...
}
...
}
&lt;/code>&lt;/pre>
&lt;p>é€šè¿‡moleç±»å‹çš„&lt;strong>Bind&lt;/strong>æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥ç®€æ·åœ°moleæ¥å£å®ç°ï¼š&lt;/p>
&lt;pre>&lt;code>var myClass = new MMyClass();
myClass.Bind(new int[] { 1, 2, 3 });
&lt;/code>&lt;/pre>
&lt;p>è‡ªåŠ¨ç”Ÿæˆçš„&lt;strong>MMyClass&lt;/strong>ä»£ç ç»“æ„å¦‚ä¸‹ï¼š&lt;/p>
&lt;pre>&lt;code>public class MMyClass : MoleBase {
public MMyClass Bind(IEnumerable target) {
...
}
}
&lt;/code>&lt;/pre>
&lt;h2 id="molesç¼ºç‚¹">Molesç¼ºç‚¹&lt;/h2>
&lt;p>Molesç¼ºç‚¹æ˜¯ï¼Œæµ‹è¯•è¿è¡Œæ¯”è¾ƒæ…¢ï¼Œè¿˜æœ‰æµ‹è¯•ä»£ç åªèƒ½åœ¨æœ¬æœºä¸Šæ‰èƒ½æµ‹è¯•é€šè¿‡ï¼Œå‡å¦‚åŒä¼´è·å–ä»£ç åéœ€è¦è¿è¡Œå•å…ƒæµ‹è¯•ï¼Œå¿…é¡»ä¹Ÿå®‰è£…Molasç¯å¢ƒã€‚&lt;/p>
&lt;h2 id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™&lt;/h2>
&lt;p>&lt;a class="link" href="http://research.microsoft.com/en-us/projects/pex/molesmanual.pdf" target="_blank" rel="noopener"
>http://research.microsoft.com/en-us/projects/pex/molesmanual.pdf&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="http://research.microsoft.com/en-us/projects/pex/documentation.aspx" target="_blank" rel="noopener"
>http://research.microsoft.com/en-us/projects/pex/documentation.aspx&lt;/a>&lt;/p></description></item><item><title>WinDbgå¸¸ç”¨å‘½ä»¤</title><link>https://blog.xenori.com/2012/02/windbg-useful-commands/</link><pubDate>Thu, 02 Feb 2012 03:33:37 +0000</pubDate><guid>https://blog.xenori.com/2012/02/windbg-useful-commands/</guid><description>&lt;p>&lt;a class="link" href="2012/02/intro-to-windbg-for-dotnet-developers/" >å‰ä¸€ç¯‡æ–‡ç« &lt;/a>ä»‹ç»äº†WinDbgå…¥é—¨ï¼Œæœ¬ç¯‡ä¸»è¦ä»‹ç»WinDbgå¸¸ç”¨å‘½ä»¤å’Œç”¨æ³•ã€‚&lt;/p>
&lt;p>è°ƒè¯•ç¨‹åºçš„CPUæ»¡è½½é—®é¢˜ï¼Œå…³é”®æ˜¯è¦çŸ¥é“ç¨‹åºå½“å‰æ­£åœ¨è¿›è¡Œä»€ä¹ˆæ“ä½œã€‚å‡å¦‚æˆ‘ä»¬åœ¨cpuæ»¡è½½æ—¶åˆ›å»ºäº†ä¸€ä¸ªdumpæ–‡ä»¶ï¼Œä½¿ç”¨ä¸‹é¢å‡ ä¸ªå‘½ä»¤å¯ä»¥æŸ¥çœ‹å½“å‰ç¨‹åºæ­£åœ¨è¿›è¡Œä»€ä¹ˆå¤„ç†ï¼š
&lt;strong>.time&lt;/strong>
è¿è¡Œ.timeå‘½ä»¤ä¼šæ˜¾ç¤ºæ—¶é—´ç›¸å…³çš„ä¿¡æ¯ï¼Œå¦‚ç³»ç»Ÿè¿è¡Œæ—¶é—´ï¼Œè¿›ç¨‹è¿è¡Œæ—¶é—´å’ŒCPUèŠ±è´¹åœ¨å†…æ ¸æ€å’Œç”¨æˆ·æ€çš„æ—¶é—´ã€‚&lt;/p>
&lt;pre>&lt;code>0:000&amp;gt; .time
Debug session time: Tue Oct 23 08:38:35.000 2007 (GMT+1)
System Uptime: 4 days 17:48:01.906
Process Uptime: 0 days 0:24:37.000
Kernel time: 0 days 0:04:23.000
User time: 0 days 0:03:28.000
&lt;/code>&lt;/pre>
&lt;p>ä½ å¯ä»¥çœ‹åˆ°ç³»ç»Ÿå·²æ­£å¸¸è¿è¡Œè¶…è¿‡4å¤©ï¼Œè¿›ç¨‹è¿è¡Œäº†24åˆ†é’Ÿï¼ŒCPUåœ¨å†…æ ¸æ€å’Œç”¨æˆ·æ€ç´¯ç§¯ä½¿ç”¨äº†8åˆ†é’Ÿã€‚æ ¹æ®è¿›ç¨‹æ—¶é—´å’ŒCPUæ—¶é—´èƒ½å¤§æ¦‚ä¼°ç®—å‡ºCPUä½¿ç”¨ç‡å¹³å‡å€¼æ˜¯32.5%ã€‚&lt;/p>
&lt;p>&lt;strong>!threadpool&lt;/strong>&lt;/p>
&lt;p>****é€šè¿‡!threadpoolå‘½ä»¤æˆ‘ä»¬èƒ½å‡†ç¡®çŸ¥é“åˆ›å»ºdumpæ—¶cpuçš„ä½¿ç”¨ç‡ã€‚ä¹Ÿèƒ½çŸ¥é“åœ¨é˜Ÿåˆ—ä¸­çš„å¾…å¤„ç†è¯·æ±‚æ•°ï¼ŒCompletion Port(IOCP)çº¿ç¨‹æ•°å’Œå®šæ—¶å™¨timeæ•°ã€‚&lt;/p>
&lt;pre>&lt;code>0:000&amp;gt; !threadpool
CPU utilization 100%
Worker Thread: Total: 5 Running: 4 Idle: 1 MaxLimit: 200 MinLimit: 2
Work Request in Queue: 16
Unknown Function: 6a2d945d Context: 023ede30
Unknown Function: 6a2d945d Context: 023ee1e8
AsyncTimerCallbackCompletion TimerInfo@11b53760
Unknown Function: 6a2d945d Context: 023ee3a8
Unknown Function: 6a2d945d Context: 023e3040
Unknown Function: 6a2d945d Context: 023ee178
Unknown Function: 6a2d945d Context: 023edfb0
AsyncTimerCallbackCompletion TimerInfo@11b36428
AsyncTimerCallbackCompletion TimerInfo@11b53868
Unknown Function: 6a2d945d Context: 023ee060
Unknown Function: 6a2d945d Context: 023ee290
Unknown Function: 6a2d945d Context: 023eded0
Unknown Function: 6a2d945d Context: 023edd88
Unknown Function: 6a2d945d Context: 023ede98
Unknown Function: 6a2d945d Context: 023ee258
Unknown Function: 6a2d945d Context: 023edfe8
--------------------------------------
Number of Timers: 9
--------------------------------------
Completion Port Thread:Total: 3 Free: 3 MaxFree: 4 CurrentLimit: 2 MaxLimit: 200 MinLimit: 2
&lt;/code>&lt;/pre>
&lt;p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å½“å‰CPUå·²100%ä½¿ç”¨ç‡ï¼Œæˆ‘ä»¬è¿›å…¥ä¸‹ä¸€å‘½ä»¤ã€‚&lt;/p>
&lt;p>&lt;strong>!runaway&lt;/strong>&lt;/p>
&lt;p>è¿™ä¸ªå‘½ä»¤ç”¨äºæ˜¾ç¤ºæ‰€æœ‰æ­£åœ¨è¿è¡Œçš„çº¿ç¨‹å’Œå®ƒä»¬çš„CPUä½¿ç”¨ç‡ã€‚è¿™ä¸ªå‘½ä»¤å¯¹äºæŸ¥æ‰¾é«˜CPUä½¿ç”¨ç‡é—®é¢˜å¾ˆæœ‰å¸®åŠ©ï¼&lt;/p>
&lt;pre>&lt;code>0:000&amp;gt; !runaway
User Mode Time
Thread Time
25:1a94 0 days 0:00:39.937
16:1bc0 0 days 0:00:38.390
50:1e8c 0 days 0:00:08.859
52:1e40 0 days 0:00:08.687
20:1c2c 0 days 0:00:08.234
51:1340 0 days 0:00:08.171
21:1bcc 0 days 0:00:06.953
26:13ec 0 days 0:00:06.671
44:131c 0 days 0:00:03.906
22:d8c 0 days 0:00:03.375
33:78c 0 days 0:00:02.656
34:1a8c 0 days 0:00:00.906
29:1f5c 0 days 0:00:00.828
6:e28 0 days 0:00:00.625
5:1c78 0 days 0:00:00.546
23:14a4 0 days 0:00:00.484
4:5ac 0 days 0:00:00.437
45:5dc 0 days 0:00:00.421
3:13b4 0 days 0:00:00.421
47:19c8 0 days 0:00:00.375
28:1b6c 0 days 0:00:00.250
46:1dac 0 days 0:00:00.156
7:1dd8 0 days 0:00:00.109
48:cdc 0 days 0:00:00.093
49:1eac 0 days 0:00:00.062
15:1a64 0 days 0:00:00.062
0:1804 0 days 0:00:00.046
36:4a4 0 days 0:00:00.031
11:1eb4 0 days 0:00:00.031
1:10b4 0 days 0:00:00.031
31:16ac 0 days 0:00:00.015
14:4ac 0 days 0:00:00.015
2:186c 0 days 0:00:00.015
59:590 0 days 0:00:00.000
58:294 0 days 0:00:00.000
57:16d0 0 days 0:00:00.000
56:1578 0 days 0:00:00.000
55:1428 0 days 0:00:00.000
54:16d8 0 days 0:00:00.000
53:fd8 0 days 0:00:00.000
43:1b8c 0 days 0:00:00.000
42:1c24 0 days 0:00:00.000
41:1e2c 0 days 0:00:00.000
40:11b0 0 days 0:00:00.000
39:edc 0 days 0:00:00.000
38:1a08 0 days 0:00:00.000
37:171c 0 days 0:00:00.000
35:1254 0 days 0:00:00.000
32:1f9c 0 days 0:00:00.000
30:1ae8 0 days 0:00:00.000
27:190c 0 days 0:00:00.000
24:1d2c 0 days 0:00:00.000
19:1e38 0 days 0:00:00.000
18:ee4 0 days 0:00:00.000
17:fb8 0 days 0:00:00.000
13:1b54 0 days 0:00:00.000
12:1a48 0 days 0:00:00.000
10:f64 0 days 0:00:00.000
9:1024 0 days 0:00:00.000
8:1b78 0 days 0:00:00.000
&lt;/code>&lt;/pre>
&lt;p>ä½ å¯ä»¥çœ‹åˆ°è¿è¡Œçº¿ç¨‹çš„æ€»æ—¶é—´å’Œä½¿ç”¨.timeå‘½ä»¤çœ‹åˆ°çš„æ€»cpuä½¿ç”¨æ—¶é—´å¹¶ä¸ç›¸ç­‰ã€‚åŸå› å¾ˆç®€å•ï¼Œå› ä¸ºçº¿ç¨‹è¢«é‡å¤ä½¿ç”¨æˆ–å›æ”¶äº†ã€‚è¿™ä¹Ÿæ„å‘³ç€ä¸€ä¸ªçº¿ç¨‹çš„CPUä½¿ç”¨æ—¶é—´å¯èƒ½æ˜¯å¤„ç†å¤šä¸ªè¯·æ±‚çš„ç»“æœã€‚&lt;/p>
&lt;p>&lt;strong>!threads&lt;/strong>&lt;/p>
&lt;p>!threadsæ˜¾ç¤ºå½“å‰æ‰€æœ‰çš„æ‰˜ç®¡çº¿ç¨‹ä¿¡æ¯ã€‚è¾“å‡ºå¦‚ä¸‹ï¼š&lt;/p>
&lt;pre>&lt;code>0:000&amp;gt; !threads
ThreadCount: 48
UnstartedThread: 0
BackgroundThread: 29
PendingThread: 0
DeadThread: 19
Hosted Runtime: no
PreEmptive GC Alloc Lock
ID OSID ThreadOBJ State GC Context Domain Count APT Exception
16 1 1bc0 001fccd0 1808220 Enabled 00000000:00000000 0019daf0 0 Ukn (Threadpool Worker)
22 2 d8c 002016f0 b220 Enabled 00000000:00000000 0019daf0 0 MTA (Finalizer)
14 4 4ac 00242e58 880a220 Enabled 00000000:00000000 0019daf0 0 MTA (Threadpool Completion Port)
23 5 14a4 11b39f18 80a220 Enabled 00000000:00000000 0019daf0 0 MTA (Threadpool Completion Port)
24 6 1d2c 11b41ad8 1220 Enabled 00000000:00000000 0019daf0 0 Ukn
25 7 1a94 11b46c70 180b220 Enabled 27240c98:27241fd8 11b42540 1 MTA (Threadpool Worker)
26 9 13ec 12ce2888 200b220 Enabled 2a9f1434:2a9f33c0 11b42540 0 MTA
27 a 190c 12d85eb8 200b220 Enabled 00000000:00000000 11b42540 0 MTA
29 b 1f5c 13df6a50 200b220 Enabled 2ab1da6c:2ab1f1c0 11b42540 0 MTA
30 c 1ae8 12d44a58 b220 Enabled 00000000:00000000 11b42540 0 MTA
31 d 16ac 12e2e008 200b220 Enabled 2a81348c:2a8153c0 11b42540 1 MTA
5 e 1c78 12da2160 220 Enabled 00000000:00000000 0019daf0 0 Ukn
33 8 78c 11b674c8 200b220 Enabled 2707b818:2707c1d8 11b42540 0 MTA
34 12 1a8c 13f163c8 220 Enabled 00000000:00000000 0019daf0 0 Ukn
36 13 4a4 13eef718 200b220 Enabled 2a7db4a4:2a7dd3c0 11b42540 0 MTA
4 14 5ac 13ef2008 220 Enabled 00000000:00000000 0019daf0 0 Ukn
42 10 1c24 13f0e950 880b220 Enabled 00000000:00000000 0019daf0 0 MTA (Threadpool Completion Port)
6 11 e28 13f16008 220 Enabled 00000000:00000000 0019daf0 0 Ukn
3 f 13b4 13eba008 220 Enabled 00000000:00000000 0019daf0 0 Ukn
43 15 1b8c 140db008 880b220 Enabled 00000000:00000000 0019daf0 0 MTA (Threadpool Completion Port)
44 17 131c 140ceb28 200b220 Enabled 272288c8:27229fd8 11b42540 0 MTA
45 1d 5dc 140cd0a0 220 Enabled 00000000:00000000 0019daf0 0 Ukn
47 20 19c8 1651a008 220 Enabled 00000000:00000000 0019daf0 0 Ukn
XXXX 24 0 16468880 1801820 Enabled 00000000:00000000 0019daf0 0 Ukn (Threadpool Worker)
46 1f 1dac 1650ab48 220 Enabled 00000000:00000000 0019daf0 0 Ukn
XXXX 1a 0 140d5008 1801820 Enabled 00000000:00000000 0019daf0 0 Ukn (Threadpool Worker)
XXXX 16 0 140c5008 1801820 Enabled 00000000:00000000 0019daf0 0 Ukn (Threadpool Worker)
50 3 1e8c 14064420 180b220 Enabled 27246f54:27247fd8 11b42540 1 MTA (Threadpool Worker)
XXXX 35 0 1406e800 1801820 Enabled 00000000:00000000 0019daf0 0 Ukn (Threadpool Worker)
51 36 1340 140df008 180b220 Enabled 2adec9cc:2aded1c0 11b42540 1 MTA (Threadpool Worker)
XXXX 37 0 16566868 1801820 Enabled 00000000:00000000 0019daf0 0 Ukn (Threadpool Worker)
48 38 cdc 16578840 220 Enabled 00000000:00000000 0019daf0 0 Ukn
XXXX 39 0 16566c28 1801820 Enabled 00000000:00000000 0019daf0 0 Ukn (Threadpool Worker)
XXXX 3b 0 1646b8b0 1801820 Enabled 00000000:00000000 0019daf0 0 Ukn (Threadpool Worker)
XXXX 3c 0 16674008 1801820 Enabled 00000000:00000000 0019daf0 0 Ukn (Threadpool Worker)
XXXX 3d 0 16676418 1801820 Enabled 00000000:00000000 0019daf0 0 Ukn (Threadpool Worker)
XXXX 3e 0 16676fb8 1801820 Enabled 00000000:00000000 0019daf0 0 Ukn (Threadpool Worker)
XXXX 3f 0 16674d48 1801820 Enabled 00000000:00000000 0019daf0 0 Ukn (Threadpool Worker)
XXXX 40 0 1667de10 1801820 Enabled 00000000:00000000 0019daf0 0 Ukn (Threadpool Worker)
XXXX 41 0 16680050 1801820 Enabled 00000000:00000000 0019daf0 0 Ukn (Threadpool Worker)
XXXX 42 0 166812e8 1801820 Enabled 00000000:00000000 0019daf0 0 Ukn (Threadpool Worker)
XXXX 43 0 16683e60 1801820 Enabled 00000000:00000000 0019daf0 0 Ukn (Threadpool Worker)
52 44 1e40 165259e8 180b220 Enabled 2adf126c:2adf31c0 11b42540 1 MTA (Threadpool Worker)
XXXX 45 0 165b7c08 1801820 Enabled 00000000:00000000 0019daf0 0 Ukn (Threadpool Worker)
XXXX 46 0 165aa3d8 1801820 Enabled 00000000:00000000 0019daf0 0 Ukn (Threadpool Worker)
XXXX 47 0 165242c8 1801820 Enabled 00000000:00000000 0019daf0 0 Ukn (Threadpool Worker)
XXXX 48 0 165e9500 1801820 Enabled 00000000:00000000 0019daf0 0 Ukn (Threadpool Worker)
49 3a 1eac 165676f0 220 Enabled 00000000:00000000 0019daf0 0 Ukn
&lt;/code>&lt;/pre>
&lt;p>çº¿ç¨‹IDä¸ºXXXXè¡¨ç¤ºè¯¥çº¿ç¨‹å·²ç»“æŸï¼Œå¹¶åœ¨ç­‰å¾…å›æ”¶ã€‚æˆ‘ä»¬ä¹Ÿèƒ½çœ‹åˆ°çº¿ç¨‹IDä¸º22çš„çº¿ç¨‹æ­£åœ¨ç»ˆç»“(finalizer)ã€‚å‡å¦‚æˆ‘ä»¬ä½¿ç”¨!runawayå‘½ä»¤æ—¶çœ‹åˆ°22çº¿ç¨‹æœ‰å¤§é‡çš„cpuæ´»åŠ¨ï¼Œå¯èƒ½æˆ‘ä»¬çš„ç¨‹åºæœ‰ç»ˆç»“(finalizer)é—®é¢˜ã€‚&lt;/p>
&lt;p>&lt;strong>åˆ‡æ¢åˆ°æŒ‡å®šçº¿ç¨‹&lt;/strong>&lt;/p>
&lt;p>è¦åˆ‡æ¢åˆ°æŒ‡å®šçš„çº¿ç¨‹ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„æ ¼å¼å‘½ä»¤ï¼š~[thread id]sï¼Œå‡å¦‚æˆ‘ä»¬è¦åˆ‡æ¢åˆ°50çº¿ç¨‹ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š&lt;/p>
&lt;pre>&lt;code>0:000&amp;gt; ~50s
&lt;/code>&lt;/pre>
&lt;p>ç°åœ¨æˆ‘ä»¬å·²åˆ‡æ¢åˆ°çº¿ç¨‹50ï¼Œå¯ä»¥ä½¿ç”¨å¾ˆå¤šå…¶ä»–æœ‰ç”¨çš„å‘½ä»¤ã€‚&lt;/p>
&lt;p>&lt;strong>!clrstack&lt;/strong>
!clrstackæ˜¾ç¤ºå½“å‰çº¿ç¨‹çš„å †æ ˆä¿¡æ¯ï¼Œé€šè¿‡æŒ‡å®šâ€œ-pâ€å‚æ•°ï¼Œè¿˜èƒ½çœ‹åˆ°æ–¹æ³•è°ƒç”¨çš„å‚æ•°å’Œå±€éƒ¨å˜é‡ä¿¡æ¯ã€‚
ä¸‹é¢æ˜¯çº¿ç¨‹50çš„å †æ ˆä¿¡æ¯ï¼š&lt;/p>
&lt;pre>&lt;code>0:050&amp;gt; !clrstack
OS Thread Id: 0x1e8c (50)
ESP EIP
17a9e750 7d61c828 [NDirectMethodFrameSlim: 17a9e750] System.DirectoryServices.Protocols.Wldap32.ldap_bind_s(IntPtr, System.String, System.DirectoryServices.Protocols.SEC_WINNT_AUTH_IDENTITY_EX, System.DirectoryServices.Protocols.BindMethod)
17a9e768 14df70f9 System.DirectoryServices.Protocols.LdapConnection.BindHelper(System.Net.NetworkCredential, Boolean)
17a9e794 14df6de0 System.DirectoryServices.Protocols.LdapConnection.Bind()
17a9e79c 14df59e9 System.DirectoryServices.Protocols.LdapConnection.SendRequestHelper(System.DirectoryServices.Protocols.DirectoryRequest, Int32 ByRef)
17a9e8b8 14df56e8 System.DirectoryServices.Protocols.LdapConnection.SendRequest(System.DirectoryServices.Protocols.DirectoryRequest, System.TimeSpan)
17a9e8bc 14df5657 [InlinedCallFrame: 17a9e8bc]
&lt;/code>&lt;/pre>
&lt;p>ä»ä¸‹å‘ä¸Šçœ‹ï¼Œæˆ‘ä»¬èƒ½çŸ¥é“LdapConnectionè°ƒç”¨äº†SendRequestæ–¹æ³•ï¼Œè€ŒSendRequeståˆè°ƒç”¨äº†SendRequestHelperæ–¹æ³•ç­‰ç­‰ã€‚
å¦‚æœæˆ‘ä»¬æ‰§è¡Œâ€œ!clrstack -pâ€å‘½ä»¤ï¼Œæˆ‘ä»¬å¾—åˆ°ä¿¡æ¯ï¼š&lt;/p>
&lt;pre>&lt;code>0:050&amp;gt; !clrstack -p
OS Thread Id: 0x1e8c (50)
ESP EIP
17a9e750 7d61c828 [NDirectMethodFrameSlim: 17a9e750] System.DirectoryServices.Protocols.Wldap32.ldap_bind_s(IntPtr, System.String, System.DirectoryServices.Protocols.SEC_WINNT_AUTH_IDENTITY_EX, System.DirectoryServices.Protocols.BindMethod)
17a9e768 14df70f9 System.DirectoryServices.Protocols.LdapConnection.BindHelper(System.Net.NetworkCredential, Boolean)
PARAMETERS:
this = 0x271fdfe0
newCredential =
needSetCredential =
17a9e794 14df6de0 System.DirectoryServices.Protocols.LdapConnection.Bind()
PARAMETERS:
this =
17a9e79c 14df59e9 System.DirectoryServices.Protocols.LdapConnection.SendRequestHelper(System.DirectoryServices.Protocols.DirectoryRequest, Int32 ByRef)
PARAMETERS:
this = 0x271fdfe0
request = 0x27246e38
messageID = 0x17a9e8ec
17a9e8b8 14df56e8 System.DirectoryServices.Protocols.LdapConnection.SendRequest(System.DirectoryServices.Protocols.DirectoryRequest, System.TimeSpan)
PARAMETERS:
this = 0x271fdfe0
request = 0x27246e38
requestTimeout =
17a9e8bc 14df5657 [InlinedCallFrame: 17a9e8bc]
&lt;/code>&lt;/pre>
&lt;p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°DirectoryRequestå‚æ•°ä¼ é€’ç»™äº†SendRequestå’ŒSendRequestHelperï¼Œè¦æŸ¥çœ‹DirectoryRequestçš„ç›¸å…³ä¿¡æ¯ï¼Œæˆ‘ä»¬åªéœ€å¤åˆ¶å®ƒçš„åœ°å€ï¼ˆ0x27246e38ï¼‰ï¼Œå¹¶åœ¨ä¸‹ä¸ªå‘½ä»¤ä¸­ä½¿ç”¨ã€‚&lt;/p>
&lt;p>&lt;strong>!dumpobject (!do)&lt;/strong>
è¿™æ˜¯å¦å¤–ä¸€ä¸ªé‡è¦çš„å‘½ä»¤ã€‚Dumpobjectä¼šæ‰“å°å‡ºæŒ‡å®šåœ°å€çš„å¯¹è±¡çš„ç›¸å…³ä¿¡æ¯ã€‚æˆ‘ä»¬ä½¿ç”¨åˆšæ‰çš„åœ°å€è¯•ä¸‹:&lt;/p>
&lt;pre>&lt;code>0:050&amp;gt; !do 0x27246e38
Name: System.DirectoryServices.Protocols.SearchRequest
MethodTable: 14b394c4
EEClass: 14d97ce0
Size: 52(0x34) bytes
GC Generation: 0
(C:\WINDOWS\assembly\GAC_MSIL\System.DirectoryServices.Protocols\2.0.0.0__b03f5f7f11d50a3a\System.DirectoryServices.Protocols.dll)
Fields:
MT Field Offset Type VT Attr Value Name
02c39310 4000102 4 System.String 0 instance 00000000 directoryRequestID
14b398bc 4000103 8 ...ControlCollection 0 instance 27246e90 directoryControlCollection
02c39310 4000111 c System.String 0 instance 27246d00 dn
12579f5c 4000112 10 ....StringCollection 0 instance 27246eb4 directoryAttributes
02c36ca0 4000113 14 System.Object 0 instance 27246ddc directoryFilter
14b39344 4000114 18 System.Int32 1 instance 1 directoryScope
14b393fc 4000115 1c System.Int32 1 instance 0 directoryRefAlias
0fd3da00 4000116 20 System.Int32 1 instance 0 directorySizeLimit
1202af88 4000117 28 System.TimeSpan 1 instance 27246e60 directoryTimeLimit
120261c8 4000118 24 System.Boolean 1 instance 0 directoryTypesOnly
&lt;/code>&lt;/pre>
&lt;p>é€šè¿‡æ‰“å°çš„ä¿¡æ¯ï¼Œå¯ä»¥çŸ¥é“å®ƒæ˜¯System.DirectoryServices.Protocols.SearchRequestçš„ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œæ˜¾ç¤ºçš„éƒ½æ˜¯ System.DirectoryServices.Protocols.SearchRequestçš„å±æ€§å€¼ã€‚è¦çŸ¥é“SearchRequestç±»çš„ç›¸å…³å±æ€§ä¿¡æ¯ï¼Œå¯ä»¥&lt;a class="link" href="http://msdn2.microsoft.com/en-us/library/system.directoryservices.protocols.searchrequest_properties.aspx" target="_blank" rel="noopener"
>æŸ¥çœ‹MSDN&lt;/a>ã€‚å½“å‰æˆ‘ä»¬å·²æœ‰RequestId, Scopeå’ŒDistinguishedNameç­‰ç­‰ã€‚
æ‰€ä»¥ï¼Œå‡å¦‚æˆ‘ä»¬æƒ³çŸ¥é“SearchRequestå¯¹è±¡çš„DistinguishedNameå±æ€§å€¼ï¼Œå³æ˜¯ä¸Šé¢åˆ—è¡¨ä¸­çš„dnï¼Œæˆ‘ä»¬åªéœ€å†å¤åˆ¶å®ƒçš„åœ°å€ï¼ˆ27246d00ï¼‰ï¼Œå¹¶å†æ¬¡ä½¿ç”¨!dumpobjectå‘½ä»¤ã€‚å› ä¸ºDistinguishedNameæ˜¯System.Stringç±»å‹ï¼Œæ‰€ä»¥è¾“å‡ºç»“æœå¾ˆæ˜æ˜¾ï¼š&lt;/p>
&lt;pre>&lt;code>0:050&amp;gt; !do 27246d00
Name: System.String
MethodTable: 02c39310
EEClass: 0fb610ac
Size: 112(0x70) bytes
GC Generation: 0
(C:\WINDOWS\assembly\GAC_32\mscorlib\2.0.0.0__b77a5c561934e089\mscorlib.dll)
String: CN=Dummy,CN=Accounts,CN=useradm,DC=dummy,DC=net
Fields:
MT Field Offset Type VT Attr Value Name
0fd3da00 4000096 4 System.Int32 1 instance 48 m_arrayLength
0fd3da00 4000097 8 System.Int32 1 instance 47 m_stringLength
0fb80010 4000098 c System.Char 1 instance 43 m_firstChar
02c39310 4000099 10 System.String 0 shared static Empty
&amp;gt;&amp;gt; Domain:Value 0019daf0:03380310 11b42540:03380310 &amp;lt;&amp;lt; 0fb86d44 400009a 14 System.Char[] 0 shared static WhitespaceChars &amp;gt;&amp;gt; Domain:Value 0019daf0:03380324 11b42540:033855bc &amp;lt;&amp;lt;
&lt;/code>&lt;/pre>
&lt;p>é€šè¿‡è¾“å‡ºçš„ä¿¡æ¯æˆ‘ä»¬å¾ˆå®¹æ˜“çŸ¥é“DistinguishedNameå±æ€§çš„å€¼æ˜¯â€œCN=Dummy,CN=Accounts,CN=useradm,DC=dummy,DC=netâ€ã€‚å¦‚æœæˆ‘ä»¬æƒ³æŸ¥çœ‹æ›´å¤šå†…å®¹ï¼Œåªéœ€ç»§ç»­ä½¿ç”¨!dumpobjectå‘½ä»¤å³å¯ã€‚&lt;/p>
&lt;p>&lt;strong>!dumpstackobjects (!dso)&lt;/strong>
ä½¿ç”¨è¯¥å‘½ä»¤æˆ‘ä»¬å¯ä»¥æŸ¥çœ‹åˆ°å½“å‰çº¿ç¨‹çš„å †æ ˆå¼•ç”¨çš„æ‰€æœ‰æ‰˜ç®¡å¯¹è±¡ã€‚æ‰“å°ä¿¡æ¯å¦‚ä¸‹ï¼š&lt;/p>
&lt;pre>&lt;code>0:050&amp;gt; !dso
OS Thread Id: 0x1e8c (50)
ESP/REG Object Name
17a9e534 0741f860 System.RuntimeType
17a9e6b8 271fdfe0 System.DirectoryServices.Protocols.LdapConnection
17a9e6bc 27246f20 System.DirectoryServices.Protocols.SEC_WINNT_AUTH_IDENTITY_EX
17a9e740 271fdfe0 System.DirectoryServices.Protocols.LdapConnection
17a9e744 27246f20 System.DirectoryServices.Protocols.SEC_WINNT_AUTH_IDENTITY_EX
17a9e764 27246f20 System.DirectoryServices.Protocols.SEC_WINNT_AUTH_IDENTITY_EX
17a9e768 271fdfe0 System.DirectoryServices.Protocols.LdapConnection
17a9e780 271fdfe0 System.DirectoryServices.Protocols.LdapConnection
17a9e784 27246e38 System.DirectoryServices.Protocols.SearchRequest
17a9e794 271fdf14 System.DirectoryServices.Protocols.LdapDirectoryIdentifier
17a9e7a8 27246ef8 System.Collections.ArrayList
17a9e7bc 27246ef8 System.Collections.ArrayList
17a9e7c8 271fdfe0 System.DirectoryServices.Protocols.LdapConnection
17a9e8a4 27246e38 System.DirectoryServices.Protocols.SearchRequest
17a9e8d0 27246ed8 System.Object[] (System.Object[])
17a9e8e0 073ff6b8 System.String cn
17a9e8e4 271fdfe0 System.DirectoryServices.Protocols.LdapConnection
17a9e8f4 27246d00 System.String CN=Dummy,CN=Accounts,CN=useradm,DC=Dummy,DC=net
17a9e8f8 271fdfe0 System.DirectoryServices.Protocols.LdapConnection
17a9e8fc 27246e38 System.DirectoryServices.Protocols.SearchRequest
17a9e910 03380310 System.String
17a9e914 27246e24 System.Object[] (System.String[])
17a9e918 272399a8 System.String CN=OID-Dummy-ABC123,CN=Dummy,CN=Accounts,CN=useradm,DC=Dummy,DC=net
17a9e91c 27246ddc System.String (CN=OID-Dummy-ABC123)
...etc...
&lt;/code>&lt;/pre>
&lt;p>è¿™ä¸ªå‘½ä»¤å¯¹äºæŸ¥æ‰¾å½“å‰çº¿ç¨‹å¼•ç”¨äº†é‚£äº›å¯¹è±¡å¾ˆæœ‰ç”¨ã€‚å‡å¦‚ä½ æƒ³æŸ¥çœ‹æŸä¸€å¯¹è±¡ï¼Œåªéœ€å¤åˆ¶[Object]å­—æ®µçš„åœ°å€ï¼Œå¹¶ä½¿ç”¨ !dumpobjectå‘½ä»¤ï¼š&lt;/p>
&lt;pre>&lt;code>0:050&amp;gt; !do 271fdfe0
Name: System.DirectoryServices.Protocols.LdapConnection
MethodTable: 14a2040c
EEClass: 149daf08
Size: 56(0x38) bytes
(C:\WINDOWS\assembly\GAC_MSIL\System.DirectoryServices.Protocols\2.0.0.0__b03f5f7f11d50a3a\System.DirectoryServices.Protocols.dll)
Fields:
MT Field Offset Type VT Attr Value Name
14a2078c 40000c3 4 ...NetworkCredential 0 instance 00000000 directoryCredential
14a2144c 40000c4 8 ...ificateCollection 0 instance 271fe018 certificatesCollection
1202af88 40000c5 10 System.TimeSpan 1 instance 271fdff0 connectionTimeOut
1466fe50 40000c6 c ...rectoryIdentifier 0 instance 271fdf14 directoryIdentifier
14a2034c 4000236 24 System.Int32 0 instance 2 connectionAuthType
14a223a4 4000237 18 ...dapSessionOptions 0 instance 271fe2d8 options
0fb896d8 4000238 28 System.IntPtr 0 instance 564180944 ldapHandle
120261c8 4000239 2c System.Boolean 0 instance 0 disposed
120261c8 400023a 2d System.Boolean 0 instance 0 bounded
120261c8 400023b 2e System.Boolean 0 instance 0 needRebind
14a22084 400023e 1c ...pResponseCallback 0 instance 271fe03c fd
120261c8 4000243 2f System.Boolean 0 instance 0 setFQDNDone
120261c8 4000244 30 System.Boolean 0 instance 1 automaticBind
120261c8 4000245 31 System.Boolean 0 instance 1 needDispose
120261c8 4000246 32 System.Boolean 0 instance 1 connected
14a2267c 4000247 20 ...s.QUERYCLIENTCERT 0 instance 271fe394 clientCertificateRoutine
0fd314bc 400023c 20 ...ections.Hashtable 0 shared static handleTable
&amp;gt;&amp;gt; Domain:Value 0019daf0:NotInit 11b42540:073fe504 &amp;lt; &amp;lt;
02c36ca0 400023d 24 System.Object 0 shared static objectLock
&amp;gt;&amp;gt; Domain:Value 0019daf0:NotInit 11b42540:073fe53c &amp;lt; &amp;lt;
0fd314bc 400023f 28 ...ections.Hashtable 0 shared static asyncResultTable
&amp;gt;&amp;gt; Domain:Value 0019daf0:NotInit 11b42540:073fe610 &amp;lt; &amp;lt;
14a21864 4000240 2c ...lResultsProcessor 0 shared static partialResultsProcessor
&amp;gt;&amp;gt; Domain:Value 0019daf0:NotInit 11b42540:073fe678 &amp;lt; &amp;lt;
12305e94 4000241 30 ....ManualResetEvent 0 shared static waitHandle
&amp;gt;&amp;gt; Domain:Value 0019daf0:NotInit 11b42540:073fe64c &amp;lt; &amp;lt;
14a21954 4000242 34 ...lResultsRetriever 0 shared static retriever
&amp;gt;&amp;gt; Domain:Value 0019daf0:NotInit 11b42540:073fe6a8 &amp;lt; &amp;lt;
&lt;/code>&lt;/pre>
&lt;p>&lt;strong>!dumparray (!da)&lt;/strong>
ä½ å¯èƒ½å·²ç»æ³¨æ„åˆ°æœ‰å¾ˆå¤šå¯¹è±¡æ•°ç»„åœ¨å †æ ˆä¸­ï¼Œåœ¨ä¸Šé¢çš„åˆ—è¡¨ä¸­æŸ¥æ‰¾System.Object[]ç±»å‹å°±èƒ½æ‰¾åˆ°ã€‚å¦‚æœä½ å¯¹å¯¹è±¡æ•°ç»„ä½¿ç”¨ !dumpobjectå‘½ä»¤ï¼Œä½ åªèƒ½çœ‹åˆ°æ•°ç»„ä¿¡æ¯ï¼Œè€Œä¸èƒ½çœ‹åˆ°æ•°ç»„çš„å†…å®¹ä¿¡æ¯ï¼Œè¦çœ‹åˆ°æ•°ç»„å†…å®¹ä¿¡æ¯ï¼Œå°±éœ€è¦ä½¿ç”¨!dumparrayå‘½ä»¤ï¼Œæˆ–ç®€ç§°!da:&lt;/p>
&lt;pre>&lt;code>0:050&amp;gt; !do 27239b98
Name: System.Object[]
MethodTable: 02c3896c
EEClass: 02c388ec
Size: 24(0x18) bytes
Array: Rank 1, Number of elements 2, Type CLASS
Element Type: System.String
Fields:
None
0:050&amp;gt; !da 27239b98
Name: System.String[]
MethodTable: 02c3896c
EEClass: 02c388ec
Size: 24(0x18) bytes
Array: Rank 1, Number of elements 2, Type CLASS
Element Methodtable: 02c39310
[0] 272399a8
[1] 27239a44
&lt;/code>&lt;/pre>
&lt;p>é€šè¿‡!dumparrayå‘½ä»¤æˆ‘ä»¬èƒ½çŸ¥é“è¯¥æ•°ç»„å¯¹è±¡æ˜¯å­—ç¬¦ä¸²æ•°ç»„ï¼Œå¹¶ç»™å‡ºäº†æ•°ç»„é¡¹çš„åœ°å€ã€‚å†ä½¿ç”¨!dumpobjectå‘½ä»¤æˆ‘ä»¬å°±èƒ½çœ‹åˆ°æ•°ç»„é¡¹çš„å…·ä½“å†…å®¹ã€‚&lt;/p>
&lt;p>&lt;strong>!objsize&lt;/strong>
å¦‚æœä½ æŸ¥çœ‹ä¸Šé¢æ‰“å°çš„ä¿¡æ¯ï¼Œå¯ä»¥çœ‹åˆ°å¯¹è±¡çš„å¤§å°æ˜¯24å­—èŠ‚ã€‚ä»æŸæ–¹é¢æ¥è¯´ï¼Œè¿™æ˜¯å¯¹çš„ï¼Œ24å­—èŠ‚æ˜¯System.Object[]æ•°ç»„å¯¹è±¡æœ¬èº«å¤§å°ï¼Œä½†å¹¶ä¸åŒ…æ‹¬æ•°ç»„å†…å®¹çš„å¤§å°!è¦è·å¾—æ•´ä¸ªå¯¹è±¡çš„å¤§å°ï¼Œå°±è¦ä½¿ç”¨åˆ° !objsizeå‘½ä»¤:&lt;/p>
&lt;pre>&lt;code>0:050&amp;gt; !objsize 27239b98
sizeof(27239b98) =Â Â Â Â Â Â Â Â Â  348 (Â Â Â Â Â Â  0x15c) bytes (System.Object[])
&lt;/code>&lt;/pre>
&lt;p>!objsizeä¼šéå†å¯¹è±¡å¼•ç”¨çš„æ‰€æœ‰å­å¯¹è±¡ï¼Œå¹¶è®¡ç®—å‡ºæ€»çš„å¤§å°ã€‚å¦‚ä¸Šé¢æ•°ç»„å¯¹è±¡å’Œå®ƒçš„å†…å®¹çš„æ€»å¤§å°æ˜¯348å­—èŠ‚ã€‚
å¦‚æœå¯¹è±¡æœ‰å¼•ç”¨å¾ˆå¤šå­å¯¹è±¡ï¼Œé‚£ä¹ˆ!objsizeä¼šèŠ±è´¹è¾ƒå¤šçš„æ—¶é—´è®¡ç®—å‡ºæ€»å¤§å°ã€‚&lt;/p>
&lt;p>&lt;strong>!dumpheap&lt;/strong>
è¿™æ˜¯å¦ä¸€ä¸ªè¾ƒé¢‘ç¹ä½¿ç”¨çš„å‘½ä»¤ã€‚!dumpheapä¼šæ‰“å°å‡ºæ‰€æœ‰åœ¨æ‰˜ç®¡å †ä¸­çš„å¯¹è±¡ä¿¡æ¯ã€‚ç›´æ¥æ‰§è¡Œè¯¥å‘½ä»¤ä¼šæ‰“å°å‡ºå¤§é‡çš„ä¿¡æ¯ï¼Œæ‰€ä»¥ä¸€èˆ¬ä½¿ç”¨æ—¶éƒ½è‡³å°‘å¸¦ä¸Šä¸€ä¸ªå‚æ•°ã€‚åŠ ä¸Š-statå‚æ•°åä¼šè¾“å‡ºæ€»ç»“åçš„ä¿¡æ¯ï¼Œå¦‚ä¸‹é¢æ˜¯æˆªå–çš„æ˜¯!dumpheap -statå‘½ä»¤è¾“å‡ºçš„ä¸€éƒ¨åˆ†:&lt;/p>
&lt;pre>&lt;code>0:050&amp;gt; !dumpheap -stat
------------------------------
Heap 0
total 2754508 objects
------------------------------
Heap 1
total 2761329 objects
------------------------------
total 5515837 objects
Statistics:
Â Â Â Â Â  MTÂ Â Â  CountÂ Â Â  TotalSize Class Name
16e0a6d8Â Â Â Â Â Â Â  1Â Â Â Â Â Â Â Â Â Â  12 System.Collections.Generic.ObjectEqualityComparer`1[[System.Data.ProviderBase.DbConnectionInternal, System.Data]]
16d9cd9cÂ Â Â Â Â Â Â  1Â Â Â Â Â Â Â Â Â Â  12 System.Xml.Serialization.Configuration.DateTimeSerializationSection+DateTimeSerializationMode
16d9bf30Â Â Â Â Â Â Â  1Â Â Â Â Â Â Â Â Â Â  12 System.Diagnostics.OrdinalCaseInsensitiveComparer
16d9112cÂ Â Â Â Â Â Â  1Â Â Â Â Â Â Â Â Â Â  12 System.Xml.Serialization.NameTable
16d7f664Â Â Â Â Â Â Â  1Â Â Â Â Â Â Â Â Â Â  12 System.Xml.Serialization.TempAssemblyCache
163ea85cÂ Â Â Â Â Â Â  1Â Â Â Â Â Â Â Â Â Â  12 System.Data.Res
1501e4c4Â Â Â Â Â Â Â  1Â Â Â Â Â Â Â Â Â Â  12 System.Collections.Generic.ObjectEqualityComparer`1[[System.Web.UI.Control, System.Web]]
14efb138Â Â Â Â Â Â Â  1Â Â Â Â Â Â Â Â Â Â  12 System.Net.TimeoutValidator
14ef9964Â Â Â Â Â Â Â  1Â Â Â Â Â Â Â Â Â Â  12 System.Net.Cache.HttpRequestCacheLevel
14ef77a8Â Â Â Â Â Â Â  1Â Â Â Â Â Â Â Â Â Â  12 Microsoft.Win32.WinInetCache
14ef68e4Â Â Â Â Â Â Â  1Â Â Â Â Â Â Â Â Â Â  12 System.Net.WebRequest+WebProxyWrapper
14ef658cÂ Â Â Â Â Â Â  1Â Â Â Â Â Â Â Â Â Â  12 System.Net.Configuration.ProxyElement+BypassOnLocalValues
14ef63d8Â Â Â Â Â Â Â  1Â Â Â Â Â Â Â Â Â Â  12 System.Net.Configuration.ProxyElement+AutoDetectValues
14ef5b68Â Â Â Â Â Â Â  1Â Â Â Â Â Â Â Â Â Â  12 System.Net.CaseInsensitiveAscii
14ef5610Â Â Â Â Â Â Â  1Â Â Â Â Â Â Â Â Â Â  12 System.Net.HeaderInfoTable
14ef4718Â Â Â Â Â Â Â  1Â Â Â Â Â Â Â Â Â Â  12 System.Net.HttpRequestCreator
14db6710Â Â Â Â Â Â Â  1Â Â Â Â Â Â Â Â Â Â  12 System.Web.Configuration.MachineKeyValidationConverter
14db3140Â Â Â Â Â Â Â  1Â Â Â Â Â Â Â Â Â Â  12 System.Collections.Generic.ObjectEqualityComparer`1[[System.Runtime.Serialization.MemberHolder, mscorlib]]
14b3f4d8Â Â Â Â Â Â Â  1Â Â Â Â Â Â Â Â Â Â  12 System.Web.UI.SupportsEventValidationAttribute
...etc...
14a276a8Â Â Â  19578Â Â Â Â Â Â  704808 System.DirectoryServices.Interop.AdsValueHelper
14a2ea24Â Â Â Â  9196Â Â Â Â Â Â  735680 System.Web.UI.WebControls.Label
14a2e51cÂ Â Â  16862Â Â Â Â Â Â  741928 System.Web.UI.WebControls.Style
125778ecÂ Â Â  48015Â Â Â Â Â Â  768240 System.Collections.Specialized.NameObjectCollectionBase+NameObjectEntry
120261c8Â Â Â  65842Â Â Â Â Â Â  790104 System.Boolean
14a2ee7cÂ Â Â Â  9198Â Â Â Â Â Â  809424 System.Web.UI.WebControls.Table
14b311c4Â Â Â Â  9647Â Â Â Â Â Â  810348 System.Web.UI.WebControls.Image
13a2b7dcÂ Â Â  34913Â Â Â Â Â Â  837912 System.Web.HttpServerVarsCollectionEntry
14b303a4Â Â Â  10605Â Â Â Â Â Â  848400 System.Web.UI.WebControls.HyperLink
14d8e3d4Â Â Â  77748Â Â Â Â Â Â  932976 Microsoft.Web.UI.WebControls.BaseChildNodeCollection+ActionType
14db90acÂ Â Â  81372Â Â Â Â Â Â  976464 System.Web.UI.WebControls.FontInfo
14b30694Â Â Â  28648Â Â Â Â Â  1031328 System.Web.UI.WebControls.TableRow+CellControlCollection
14d8fdbcÂ Â Â  38912Â Â Â Â Â  1089536 Microsoft.Web.UI.WebControls.TreeNodeCollection
14b3d0bcÂ Â Â  86592Â Â Â Â Â  1385472 System.Web.UI.Pair
1466c5c4Â Â Â  39305Â Â Â Â Â  1414980 System.Web.UI.ControlCollection
14d8e48cÂ Â Â  77748Â Â Â Â Â  1865952 Microsoft.Web.UI.WebControls.BaseChildNodeCollection+Action
1545061cÂ Â Â  38874Â Â Â Â Â  2176944 Microsoft.Web.UI.WebControls.TreeNode
14b30eecÂ Â Â  52668Â Â Â Â Â  2317392 System.Web.UI.WebControls.TableItemStyle
14a2f804Â Â Â  28515Â Â Â Â Â  2395260 System.Web.UI.WebControls.TableRow
14a2be6cÂ Â Â  40894Â Â Â Â Â  2453640 System.Web.UI.LiteralControl
0fd3da00Â Â  228792Â Â Â Â Â  2745504 System.Int32
14b3e3acÂ Â  244793Â Â Â Â Â  2937516 System.Web.UI.IndexedString
14a2de94Â Â  198580Â Â Â Â Â  3177280 System.Web.UI.StateBag
1466c454Â Â Â  80512Â Â Â Â Â  3542528 System.Web.UI.Control+OccasionalFields
12302c2cÂ Â  205849Â Â Â Â Â  4116980 System.Collections.Specialized.HybridDictionary
14b30024Â Â Â  52934Â Â Â Â Â  4446456 System.Web.UI.WebControls.TableCell
12302f2cÂ Â  178294Â Â Â Â Â  4992232 System.Collections.Specialized.ListDictionary
14a2e284Â Â  412762Â Â Â Â Â  6604192 System.Web.UI.StateItem
14d8ce64Â Â  117078Â Â Â Â Â  7024680 Microsoft.Web.UI.WebControls.CssCollection
0fd314bcÂ Â  132065Â Â Â Â Â  7395640 System.Collections.Hashtable
1230319cÂ Â  422580Â Â Â Â Â  8451600 System.Collections.Specialized.ListDictionary+DictionaryNode
1202a58cÂ Â  380438Â Â Â Â Â  9130512 System.Collections.ArrayList
0fd32050Â Â  133000Â Â Â Â  22582944 System.Collections.Hashtable+bucket[]
02c3896cÂ Â  649842Â Â Â Â  23275900 System.Object[]
0fd3c12cÂ Â Â Â  3471Â Â Â Â  36385536 System.Byte[]
001fee20Â Â Â Â Â  338Â Â Â Â  65409920Â Â Â Â Â  Free
02c39310Â Â  683083Â Â Â  161821000 System.String
Total 5515837 objects
Fragmented blocks larger than 0.5 MB:
Â Â Â  AddrÂ Â Â Â  SizeÂ Â Â Â Â  Followed by
2adf31ccÂ Â Â  2.0MBÂ Â Â Â Â Â Â Â  2aff85d8 System.String
2b006a2cÂ Â  20.3MBÂ Â Â Â Â Â Â Â  2c4530d8 System.Net.SocketAddress
&lt;/code>&lt;/pre>
&lt;p>è¾“å‡ºä¿¡æ¯æŒ‰å¯¹è±¡ç±»å‹çš„æ€»å¤§å°å‡åºæ’åºï¼Œä½ ä¸€èˆ¬å¯ä»¥åœ¨åˆ—è¡¨çš„æœ€ä¸‹é¢æ‰¾åˆ°stringå¯¹è±¡çš„å¤§å°ï¼Œå› ä¸ºå­—ç¬¦ä¸²åœ¨ç¨‹åºä¸­ä¸€èˆ¬æ˜¯æœ€å¸¸ç”¨çš„ã€‚
å…¶ä»–æ¯”è¾ƒæœ‰ç”¨çš„å‚æ•°æ˜¯-typeå’Œ-mtï¼ˆMethodTableçš„æ„æ€ï¼‰ã€‚ä½¿ç”¨å®ƒä»¬ä½ å¯ä»¥æŸ¥çœ‹æŒ‡å®šå¯¹è±¡ç±»å‹çš„è¯¦ç»†ä¿¡æ¯ï¼Œä¾‹å¦‚å‡å¦‚æˆ‘ä»¬æƒ³æŸ¥çœ‹System.Net.HttpRequestCreatorç±»å‹çš„å…·ä½“ä¿¡æ¯ï¼Œå¯ä»¥å¤åˆ¶ä¸Šé¢åˆ—è¡¨ä¸­å®ƒçš„MTå­—æ®µåœ°å€ï¼ˆ14ef4718ï¼‰ï¼Œç„¶åä½¿ç”¨ !dumpheap -mtå‘½ä»¤ï¼š&lt;/p>
&lt;pre>&lt;code>0:050&amp;gt; !dumpheap -mt 14ef4718
------------------------------
Heap 0
Address MT Size
0342ccf8 14ef4718 12
total 1 objects
------------------------------
Heap 1
Address MT Size
total 0 objects
------------------------------
total 1 objects
Statistics:
MT Count TotalSize Class Name
14ef4718 1 12 System.Net.HttpRequestCreator
&lt;/code>&lt;/pre>
&lt;p>ä¸Šé¢åˆ—å‡ºäº†æ‰€æœ‰System.Net.HttpRequestCreatorç±»å‹çš„å¯¹è±¡çš„åœ°å€ï¼Œå‡å¦‚æˆ‘ä»¬æƒ³æŸ¥çœ‹æŒ‡å®šå¯¹è±¡çš„ä¿¡æ¯ï¼Œå†ä½¿ç”¨!dumpobjectå‘½ä»¤å°±å¯ä»¥äº†ã€‚
!dumpheap -typeå¯ä»¥æ ¹æ®å­—ç¬¦ä¸²æ¥åŒ¹é…å¯¹åº”çš„å¯¹è±¡ç±»å‹ã€‚å¦‚æˆ‘ä»¬è¾“å…¥å‘½ä»¤â€œ!dumpheap -type System.Webâ€ï¼Œæ˜¯æŒ‡æ˜¾ç¤ºæ‰€æœ‰ç±»ååŒ…å«æœ‰â€œSystem.Webâ€å­—ç¬¦ä¸²çš„å¯¹è±¡ä¿¡æ¯ã€‚
å…¶ä»–å‚æ•°-minå’Œ-maxæ˜¯æ¥å—è¡¨ç¤ºå¯¹è±¡å¤§å°çš„æœ€å¤§å€¼å’Œæœ€å°å€¼ï¼ˆå•ä½å­—èŠ‚ï¼‰ï¼Œå‘½ä»¤ä¼šåªåˆ—å‡ºå¤§äºæŒ‡å®šå€¼æˆ–å°äºæŒ‡å®šå€¼çš„å¯¹è±¡ä¿¡æ¯ã€‚è¿™ä¸¤ä¸ªå‚æ•°å¯¹äºæŸ¥æ‰¾æ»¥ç”¨å­—ç¬¦ä¸²é—®é¢˜å¾ˆæœ‰å¸®åŠ©ã€‚&lt;/p>
&lt;p>&lt;strong>å®æˆ˜è®­ç»ƒ&lt;/strong>
&lt;strong>æŸ¥æ˜ç¼“å­˜ä½¿ç”¨çš„å¤§å°&lt;/strong>
ä¸ºäº†çŸ¥é“åœ¨System.Web.Caching.Cacheç±»å‹ä¸­æœ‰å¤šå°‘æ•°æ®ï¼Œæˆ‘æ‰§è¡Œäº†â€œ !dumpheap -stat -type System.Web.Caching.Cacheâ€å‘½ä»¤ã€‚æ³¨æ„ï¼Œæˆ‘ç”¨äº†-statå‚æ•°ï¼Œå¦åˆ™æˆ‘ä¼šå¾—åˆ°ä¸€ä¸ªåŒ…å«æœ‰System.Web.Caching.CacheKeyså’ŒSystem.Web.Caching.CacheEntryså¯¹è±¡çš„å¾ˆé•¿çš„åˆ—è¡¨ã€‚ä¸‹é¢çš„æ‰§è¡Œç»“æœï¼š&lt;/p>
&lt;pre>&lt;code>0:050&amp;gt; !dumpheap -type System.Web.Caching.Cache -stat
------------------------------
Heap 0
total 665 objects
------------------------------
Heap 1
total 1084 objects
------------------------------
total 1749 objects
Statistics:
MT Count TotalSize Class Name
123056f8 1 12 System.Web.Caching.CacheKeyComparer
1230494c 1 12 System.Web.Caching.Cache
1230500c 1 24 System.Web.Caching.CacheMultiple
1230514c 1 32 System.Web.Caching.CacheMemoryStats
123053b4 1 36 System.Web.Caching.CacheMemoryTotalMemoryPressure
123059bc 2 40 System.Web.Caching.CacheUsage
12304bdc 1 48 System.Web.Caching.CacheCommon
123054f4 1 52 System.Web.Caching.CacheMemoryPrivateBytesPressure
12305874 2 64 System.Web.Caching.CacheExpires
12304e64 2 200 System.Web.Caching.CacheSingle
1255b594 85 1360 System.Web.Caching.CacheDependency+DepFileInfo
123046c4 40 1440 System.Web.Caching.CacheDependency
123042ec 47 1504 System.Web.Caching.CacheItemRemovedCallback
123063fc 832 16640 System.Web.Caching.CacheKey
12306820 732 52704 System.Web.Caching.CacheEntry
Total 1749 objects
&lt;/code>&lt;/pre>
&lt;p>å¾ˆæ˜æ˜¾System.Web.Caching.Cacheçš„æ–¹æ³•åˆ—è¡¨åœ°å€ï¼ˆMethodTableï¼‰æ˜¯1230494cï¼Œå†ä½¿ç”¨!dumpheapå‘½ä»¤æˆ‘å°±èƒ½çœ‹åˆ°å®ƒçš„æ‰€æœ‰å¯¹è±¡ä¿¡æ¯ï¼Œå¦‚ä¸‹ï¼š&lt;/p>
&lt;pre>&lt;code>0:050&amp;gt; !dumpheap -mt 1230494c
------------------------------
Heap 0
Address MT Size
03392d20 1230494c 12
total 1 objects
------------------------------
Heap 1
Address MT Size
total 0 objects
------------------------------
total 1 objects
Statistics:
MT Count TotalSize Class Name
1230494c 1 12 System.Web.Caching.Cache
Total 1 objects
&lt;/code>&lt;/pre>
&lt;p>å¯ä»¥çœ‹åˆ°System.Web.Caching.Cacheç±»å‹åªæœ‰ä¸€ä¸ªå¯¹è±¡ï¼Œåœ°å€æ˜¯03392d20ï¼Œå†é€šè¿‡!objsizeå‘½ä»¤å°±èƒ½è®¡ç®—å‡ºå®ƒçš„å¤§å°ã€‚å› ä¸ºç¼“å­˜å¯¹è±¡å¾ˆå¤æ‚ï¼Œå¹¶åŒ…å«æœ‰å¤§é‡çš„å­å¯¹è±¡ï¼Œè¦è®¡ç®—å‡ºæ€»å¤§å°éœ€è¦èŠ±äº›æ—¶é—´ï¼š&lt;/p>
&lt;pre>&lt;code>0:050&amp;gt; !objsize 03392d20
sizeof(03392d20) = 266640828 ( 0xfe49dbc) bytes (System.Web.Caching.Cache)
&lt;/code>&lt;/pre>
&lt;p>æ‰€ä»¥ç¼“å­˜çš„æ€»å¤§å°æ˜¯ 266 MBã€‚&lt;/p>
&lt;p>&lt;strong>ç¼“å­˜äº†ä»€ä¹ˆä¸œè¥¿ï¼Ÿ&lt;/strong>
ä¸ºäº†å¼„æ¸…ç¼“å­˜ä¸­ä¿å­˜äº†ä»€ä¹ˆå†…å®¹ï¼Œæˆ‘æŸ¥çœ‹äº†System.Web.Caching.CacheEntryçš„å¯¹è±¡ä¿¡æ¯ã€‚é€šè¿‡ä¹‹å‰çš„ä¿¡æ¯å¯ä»¥çŸ¥é“System.Web.Caching.CacheEntryç±»å‹çš„æ–¹æ³•åˆ—è¡¨(MethodTable)æ˜¯12306820ã€‚æ‰§è¡Œ!dumpheapå‘½ä»¤å–CacheEntryçš„æ‰€æœ‰å¯¹è±¡ä¿¡æ¯ï¼š&lt;/p>
&lt;pre>&lt;code>0:050&amp;gt; !dumpheap -mt 12306820
------------------------------
Heap 0
Address MT Size
033950bc 12306820 72
033a20d8 12306820 72
033ac79c 12306820 72
033da21c 12306820 72
033f04c4 12306820 72
03428ec8 12306820 72
0344dab4 12306820 72
03815d00 12306820 72
038265d8 12306820 72
....etc...
03af7010 12306820 72
03b291bc 12306820 72
03b2c674 12306820 72
03b6dca0 12306820 72
03b797dc 12306820 72
03b85318 12306820 72
03ba9150 12306820 72
03c258cc 12306820 72
03de43c8 12306820 72
03e160f8 12306820 72
total 382 objects
------------------------------
total 732 objects
&lt;/code>&lt;/pre>
&lt;p>è¦æ˜¾ç¤ºä¸Šé¢çš„ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨â€œ!dumpheap -type System.Web.Caching.CacheEntryâ€å‘½ä»¤ã€‚
æœ‰äº†æ‰€æœ‰CacheEntryå¯¹è±¡çš„åœ°å€ä¿¡æ¯ï¼Œæˆ‘éšæœºæ‹¿äº†ä¸€ä¸ªåœ°å€æŸ¥çœ‹å®ƒçš„å†…å®¹ï¼š&lt;/p>
&lt;pre>&lt;code>0:050&amp;gt; !do 03b2c674
Name: System.Web.Caching.CacheEntry
MethodTable: 12306820
EEClass: 122f6470
Size: 72(0x48) bytes
(C:\WINDOWS\assembly\GAC_32\System.Web\2.0.0.0__b03f5f7f11d50a3a\System.Web.dll)
Fields:
MT Field Offset Type VT Attr Value Name
02c39310 4001327 4 System.String 0 instance 03b2c600 _key
0fb8f1f8 4001328 c System.Byte 0 instance 2 _bits
0fd3da00 4001329 8 System.Int32 0 instance -1314181915 _hashCode
02c36ca0 4001330 10 System.Object 0 instance 03b2c644 _value
120219d0 4001331 1c System.DateTime 1 instance 03b2c690 _utcCreated
120219d0 4001332 24 System.DateTime 1 instance 03b2c698 _utcExpires
1202af88 4001333 2c System.TimeSpan 1 instance 03b2c6a0 _slidingExpiration
0fb8f1f8 4001334 d System.Byte 0 instance 7 _expiresBucket
123062d8 4001335 34 ...g.ExpiresEntryRef 1 instance 03b2c6a8 _expiresEntryRef
0fb8f1f8 4001336 e System.Byte 0 instance 4294967295 _usageBucket
12306738 4001337 38 ...ing.UsageEntryRef 1 instance 03b2c6ac _usageEntryRef
120219d0 4001338 3c System.DateTime 1 instance 03b2c6b0 _utcLastUpdate
123046c4 4001339 14 ...g.CacheDependency 0 instance 00000000 _dependency
02c36ca0 400133a 18 System.Object 0 instance 033d8344 _onRemovedTargets
120219d0 400132d 1bc System.DateTime 1 shared static NoAbsoluteExpiration
&amp;gt;&amp;gt; Domain:Value 0019daf0:NotInit 11b42540:03395104 &amp;lt; &amp;lt;
1202af88 400132e 1c0 System.TimeSpan 1 shared static NoSlidingExpiration
&amp;gt;&amp;gt; Domain:Value 0019daf0:NotInit 11b42540:03395114 &amp;lt; &amp;lt;
1202af88 400132f 1c4 System.TimeSpan 1 shared static OneYear
&amp;gt;&amp;gt; Domain:Value 0019daf0:NotInit 11b42540:03395124 &amp;lt; &amp;lt;
&lt;/code>&lt;/pre>
&lt;p>è¾“å‡ºçš„æ˜¯CacheEntryçš„å±æ€§ä¿¡æ¯ï¼Œé‡Œé¢æœ€é‡è¦çš„æ˜¯_valueå±æ€§ã€‚æˆ‘å¤åˆ¶å®ƒçš„åœ°å€ï¼ˆ03b2c644ï¼‰ï¼Œå†ç”¨!dumpobjectå‘½ä»¤æŸ¥çœ‹ï¼š&lt;/p>
&lt;pre>&lt;code>0:000&amp;gt; !do 03e160c8
Name: System.Web.SessionState.InProcSessionState
MethodTable: 14dbad5c
EEClass: 14e43af8
Size: 48(0x30) bytes
(C:\WINDOWS\assembly\GAC_32\System.Web\2.0.0.0__b03f5f7f11d50a3a\System.Web.dll)
Fields:
MT Field Offset Type VT Attr Value Name
1466c9d8 4001d89 4 ...ateItemCollection 0 instance 1a7f5438 _sessionItems
1292672c 4001d8a 8 ...ObjectsCollection 0 instance 00000000 _staticObjects
0fd3da00 4001d8b c System.Int32 0 instance 20 _timeout
120261c8 4001d8c 18 System.Boolean 0 instance 0 _locked
120219d0 4001d8d 1c System.DateTime 1 instance 03e160e4 _utcLockDate
0fd3da00 4001d8e 10 System.Int32 0 instance 1 _lockCookie
1202bf60 4001d8f 24 ...ReadWriteSpinLock 1 instance 03e160ec _spinLock
0fd3da00 4001d90 14 System.Int32 0 instance 0 _flags
&lt;/code>&lt;/pre>
&lt;p>å¯ä»¥çœ‹åˆ°ç¼“å­˜çš„æ˜¯ä¸€ä¸ªInProcSessionStateå¯¹è±¡ã€‚&lt;/p>
&lt;p>&lt;strong>å‚è€ƒæ–‡ç« ï¼š&lt;/strong>
&lt;a class="link" href="http://blogs.msdn.com/b/johan/archive/2007/11/26/getting-started-with-windbg-part-ii.aspx" target="_blank" rel="noopener"
>Getting started with windbg - part I&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="http://blogs.msdn.com/b/johan/archive/2007/11/26/getting-started-with-windbg-part-ii.aspx" target="_blank" rel="noopener"
>Getting started with windbg - part II&lt;/a>&lt;/p></description></item><item><title>é¢å‘.NETå¼€å‘äººå‘˜çš„WinDbgå…¥é—¨æ•™ç¨‹</title><link>https://blog.xenori.com/2012/02/intro-to-windbg-for-dotnet-developers/</link><pubDate>Wed, 01 Feb 2012 08:28:43 +0000</pubDate><guid>https://blog.xenori.com/2012/02/intro-to-windbg-for-dotnet-developers/</guid><description>&lt;p>åŸæ–‡ï¼š&lt;a class="link" href="http://blogs.msdn.com/b/kaevans/archive/2011/04/11/intro-to-windbg-for-net-developers.aspx" target="_blank" rel="noopener"
>http://blogs.msdn.com/b/kaevans/archive/2011/04/11/intro-to-windbg-for-net-developers.aspx
&lt;/a>Â ç¿»è¯‘ï¼šbitxeno&lt;/p>
&lt;p>å½“ä½ çš„ä»£ç å‘å¸ƒä¸ºäº§å“åï¼Œæ— è®ºæ˜¯åœ¨å…¶ä»–äººçš„ç”µè„‘ä¸­è¿è¡Œï¼Œè¿˜æ˜¯éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸­ï¼Œä½ é€šå¸¸ä¸å†èƒ½è®¿é—®åˆ°å®ƒçš„ç¨‹åºæ–‡ä»¶ï¼Œä¹Ÿä¸èƒ½è§‚å¯Ÿåˆ°ä»£ç çš„å½“å‰è¿è¡Œæƒ…å†µå’Œè¿è¡Œç¯å¢ƒã€‚å½“ä½ çš„ä»£ç åœ¨æ–°çš„ç¯å¢ƒè¿è¡Œæ—¶ï¼Œæœ‰å¾ˆå¤šå› ç´ ä¼šå½±å“åˆ°ç¨‹åºçš„è¿è¡Œæƒ…å†µï¼Œå¦‚æœåŠ¡å™¨ç³»ç»Ÿæ‰“äº†æ›´æ–°è¡¥ä¸ï¼Œç½‘ç»œç­–ç•¥æ”¹å˜ï¼Œé˜²ç«å¢™è§„åˆ™é™åˆ¶ï¼Œç£ç›˜æƒé™é…ç½®ç­‰ç­‰ã€‚å½“ä»£ç è¿è¡Œä¸æ­£å¸¸æ—¶ï¼Œä½ å¯èƒ½åªèƒ½é ä»£ç ä¸­å„å¤„è¾“å‡ºçš„æ—¥å¿—æ¥åˆ¤æ–­è¿è¡Œæƒ…å†µã€‚ä½†åªé è¾“å‡ºæ—¥å¿—ï¼Œä½ æœ‰æ—¶è¿˜æ˜¯ä¸èƒ½åˆ¤æ–­æ•…éšœå‡ºç°çš„åŸå› ã€‚&lt;/p>
&lt;p>åœ¨ä¸æµªè´¹å®¢æˆ·æ—¶é—´çš„åŒæ—¶åšæ•…éšœæ’é™¤å¯¹ä½ æ˜¯ä¸ªå¾ˆå¤§çš„æŒ‘æˆ˜ï¼Œå› ä¸ºä¸ä¼šæœ‰å®¢æˆ·å–œæ¬¢è¢«ä¸€ä¸ªææŠ€æœ¯çš„å®¶ä¼™ä¸æ–­é—®æ˜¯ç‚¹äº†é‚£ä¸ªæŒ‰é’®æ“ä½œäº†å“ªäº›æ­¥éª¤å¯¼è‡´ç¨‹åºå‡ºé”™çš„ã€‚bossä¹Ÿä¸ä¼šç»™ä½ å‡ å¤©ç”šè‡³å‡ å‘¨çš„æ—¶é—´è®©ä½ æ…¢æ…¢æ’é™¤æ•…éšœï¼Œä½ å¿…é¡»ç°åœ¨å°±çŸ¥é“åˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆã€‚&lt;/p>
&lt;p>ç†æƒ³æƒ…å†µä¸‹ï¼Œä½ åº”è¯¥èƒ½çœ‹åˆ°å †æ ˆè·Ÿè¸ªï¼Œèƒ½æŸ¥çœ‹åˆ°å½“å‰çš„å˜é‡å€¼ï¼Œèƒ½è°ƒè¯•ä»£ç ã€‚äº‹å®è¯æ˜ä½ å¯ä»¥åšåˆ°è¿™ç‚¹ã€‚ã€‚ã€‚è€Œä¸”ä¸éœ€è¦é™„åŠ åˆ°å®¢æˆ·ç¯å¢ƒä¸­ï¼&lt;/p>
&lt;p>&lt;strong>ä¸‹è½½WinDbg&lt;/strong>
&lt;a class="link" href="http://www.microsoft.com/download/en/details.aspx?displaylang=en&amp;amp;id=8279" target="_blank" rel="noopener"
> ä¸‹è½½Debugging Tools for Windows&lt;/a>åˆ°ä½ çš„æœ¬åœ°å¼€å‘æœºä¸­ï¼Œwindbgæ˜¯å…¶ä¸­çš„ä¸€éƒ¨åˆ†ï¼Œå¦‚æœä½ åªéœ€è¦windbgï¼Œåœ¨å¯ä»¥åœ¨â€œ&lt;em>Common Utilities&lt;/em>â€ä¸­é€‰æ‹©â€œ&lt;em>Debugging Tools for Windows&lt;/em>&amp;ldquo;è¿›å…¥å®‰è£…ã€‚å®‰è£…ç¨‹åºä¼šæ ¹æ®ä½ ç”µè„‘çš„cpuç±»å‹å®‰è£…å¯¹åº”çš„windbgï¼Œx86çš„ç”µè„‘ä¼šå®‰è£…x86ç‰ˆæœ¬ï¼Œx64çš„cpuç”µè„‘å°±ä¼šå®‰è£…x64ç‰ˆã€‚å¦‚æœä½ é€‰æ‹©çš„æ˜¯â€œ&lt;em>Redistributable Packages&lt;/em>â€œï¼Œå°±ä¼šä¸ºä½ ä¸‹è½½å…¨éƒ¨ä¸‰ä¸ªç‰ˆæœ¬ï¼ˆx86,x64,Itaniumï¼‰ã€‚&lt;/p>
&lt;p>&lt;img src="http://ww3.sinaimg.cn/large/7ce4a9f6gw1e5q1emjvn9j20l00el41h.jpg"
loading="lazy"
alt="windbg tutorial"
>&lt;/p>
&lt;p>WinDbgé»˜è®¤ä¼šå®‰è£…åˆ°cç›˜çš„â€œProgram Files\Debugging Tools for Windowsâ€æ–‡ä»¶å¤¹ä¸‹ï¼Œå»ºè®®ä½ æŠŠå®‰è£…ç›®å½•å¤åˆ¶åˆ°â€œd:\debugâ€ï¼Œè¿™æ ·æ–¹ä¾¿åé¢å¢åŠ å…¶ä»–æ‰©å±•ç»„ä»¶ã€‚&lt;/p>
&lt;p>å®‰è£…å¥½åï¼Œç›®å½•ä¸‹çš„windbg.exeå°±æ˜¯windbgç¨‹åº&lt;/p>
&lt;p>&lt;strong>å®‰è£…PssCor2&lt;/strong>&lt;/p>
&lt;p>****ä¸‹ä¸€æ­¥æ˜¯åŠ è½½æ‰˜ç®¡ä»£ç æ‰©å±•ç»„ä»¶PssCor2ã€‚é»˜è®¤æ—¶ï¼ŒWinDbgåªèƒ½ç”¨äºè°ƒè¯•éæ‰˜ç®¡ä»£ç ç¨‹åº ï¼Œè€ŒåŠ è½½.netä½¿ç”¨çš„SOS.dllæ‰©å±•ç»„ä»¶åï¼ŒWinDbgå°±èƒ½è°ƒè¯•æ‰˜ç®¡ç¨‹åºäº†ã€‚WinDbgè°ƒè¯•.netç¨‹åºçš„å¦ä¸€ä¸ªé€‰æ‹©æ˜¯PssCor2ï¼Œå®ƒæ˜¯SOS.dllçš„è¶…é›†ï¼Œå¹¶æä¾›äº†ä¸€äº›é¢å¯¹æ‰˜ç®¡ä»£ç çš„é¢å¤–åŠŸèƒ½ï¼Œå¦‚æŸ¥çœ‹æ‰˜ç®¡çº¿ç¨‹ï¼Œæ‰˜ç®¡å †ï¼ŒCLRå †æ ˆç­‰ç­‰ã€‚&lt;/p>
&lt;p>&lt;a class="link" href="http://www.microsoft.com/download/en/details.aspx?id=1073" target="_blank" rel="noopener"
>ä¸‹è½½PssCor2&lt;/a>å¹¶è§£å‹åˆ°â€œd:\debugâ€ï¼Œä»¥æ–¹ä¾¿åé¢çš„è°ƒè¯•ä½¿ç”¨ã€‚&lt;/p>
&lt;p>&lt;img src="http://ww3.sinaimg.cn/large/7ce4a9f6gw1e5q1fetlpgj20k9096q42.jpg"
loading="lazy"
alt="windbg tutorial"
>&lt;/p>
&lt;p>&lt;strong>è®¾å®šç¬¦å·æ–‡ä»¶è·¯å¾„ï¼ˆSymbol Pathï¼‰&lt;/strong>&lt;/p>
&lt;p>****å½“ä½ ä½¿ç”¨Visual Studioç¼–è¯‘ç¨‹åºæ—¶ï¼Œæ˜¯å¦æœ‰ç•™æ„åˆ°åœ¨bin/Debugæ–‡ä»¶å¤¹ä¸‹ä¼šæœ‰.pdbåç¼€çš„æ–‡ä»¶ï¼Ÿè¿™äº›æ–‡ä»¶åŒ…å«æœ‰dllç¨‹åºé›†çš„è°ƒè¯•ç¬¦å·ï¼Œpdbæ–‡ä»¶å¹¶ä¸åŒ…å«æœ‰æ‰§è¡Œä»£ç ï¼Œåªæ˜¯ä½¿è°ƒè¯•å·¥å…·èƒ½æŠŠä»£ç æ‰§è¡ŒæŒ‡ä»¤ç¿»è¯‘ä¸ºæ­£ç¡®çš„å¯è¯†åˆ«å­—ç¬¦ã€‚å¾®è½¯æä¾›äº†åŒ…å«å¤§é‡pdbæ–‡ä»¶çš„å…¬å…±æœåŠ¡å™¨ï¼Œåœ°å€å¦‚ä¸‹ï¼š&lt;/p>
&lt;p>&lt;a class="link" href="http://msdl.microsoft.com/download/symbols" target="_blank" rel="noopener"
>http://msdl.microsoft.com/download/symbols&lt;/a>&lt;/p>
&lt;p>åœ¨windbgä¸­è®¾å®šç¬¦å·æ–‡ä»¶è·¯å¾„åï¼Œç›¸å…³çš„pdbæ–‡ä»¶ä¼šè‡ªåŠ¨ä»æœåŠ¡å™¨ä¸‹è½½ä¸‹æ¥å¹¶ä¿å­˜åˆ°æœ¬åœ°ã€‚ä½ é¦–å…ˆéœ€è¦æŒ‡å®šä¸€ä¸ªpdbæ–‡ä»¶çš„ä¿å­˜è·¯å¾„ï¼Œå¦‚â€œd:\debug\symbolsâ€ã€‚&lt;/p>
&lt;p>&lt;img src="http://ww4.sinaimg.cn/large/7ce4a9f6gw1e5q1g54ge9j20h207zta1.jpg"
loading="lazy"
alt="windbg tutorial"
>
æ‰“å¼€windbgç¨‹åºï¼Œé€‰æ‹©â€œFile-&amp;gt;Symbol File Pathâ€¦â€œï¼ŒæŠŠä¸‹é¢çš„å†…å®¹å¤åˆ¶è¿›å»ä¿å­˜ã€‚&lt;/p>
&lt;pre>&lt;code>srv*d:\debug\symbols*http://msdl.microsoft.com/download/symbols
&lt;/code>&lt;/pre>
&lt;p>&lt;img src="http://ww3.sinaimg.cn/large/7ce4a9f6gw1e5q1gqvwzcj20fv05tdg6.jpg"
loading="lazy"
alt="windbg tutorial"
>&lt;/p>
&lt;p>&lt;strong>åˆ›å»ºæµ‹è¯•ç¨‹åº&lt;/strong>&lt;/p>
&lt;p>æˆ‘ä»¬å…ˆåˆ›å»ºä¸€ä¸ªç®€å•çš„å‘½ä»¤è¡Œç¨‹åºç”¨äºæµ‹è¯•ï¼š&lt;/p>
&lt;pre>&lt;code>using System;
namespace Microsoft.PFE.Samples
{
public class Program
{
static void Main()
{
Console.WriteLine(&amp;quot;Enter a message:&amp;quot;);
string input = Console.ReadLine();
Data d = new Data
{
ID = 5,
Message = input,
CurrentDateTime = System.DateTime.Now
};
Console.WriteLine(&amp;quot;You entered: &amp;quot; + d);
}
}
public class Data
{
public int ID {get; set;}
public string Message {get; set;}
public DateTime CurrentDateTime {get; set;}
public override string ToString()
{
Console.ReadLine();
return string.Format(&amp;quot;ID:{0} {1} at {2}&amp;quot;, ID, Message,
CurrentDateTime.ToLongTimeString());
}
}
}
&lt;/code>&lt;/pre>
&lt;p>å› ä¸ºPssCor2åªèƒ½å¤„ç†.Net 3.5ä»¥ä¸‹çš„ç¨‹åºï¼Œæ‰€ä»¥åœ¨ç¼–è¯‘å‰éœ€è¦å…ˆæŠŠç¨‹åºçš„ç¯å¢ƒæ”¹ä¸º.Net 3.5ã€‚å‡å¦‚æ˜¯è°ƒè¯•.NET 4.0çš„ç¨‹åºï¼Œå¯ä»¥&lt;a class="link" href="http://www.microsoft.com/download/en/details.aspx?id=21255" target="_blank" rel="noopener"
>ä¸‹è½½PssCor4&lt;/a>ã€‚ç¼–è¯‘è¿è¡Œç¨‹åºï¼Œè¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œçœ‹ç¨‹åºæ˜¯å¦è¿è¡Œæ­£å¸¸ã€‚&lt;/p>
&lt;p>å®¢æˆ·æŠ±æ€¨è¯´ä¸çŸ¥é“ä¸ºä»€ä¹ˆç¨‹åºéœ€è¦æŒ‰ä¸¤æ¬¡enteré”®ã€‚ç¨‹åºå¹¶ä¸æŒ‰æˆ‘ä»¬çš„é¢„æœŸå·¥ä½œï¼Œæˆ‘ä»¬å¿…é¡»æ‰¾åˆ°å…·ä½“çš„åŸå› ã€‚ä½œä¸ºä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œæˆ‘ä»¬èƒ½ä¸€çœ¼çœ‹å‡ºä»£ç ä¸­çš„ToString()æ–¹æ³•ä¸­å¤šäº†ä¸€æ¬¡ReadLine()å¯¼è‡´çš„ï¼Œä½†æˆ‘ä»¬è¿™æ¬¡è¯•ä¸‹ç”¨windbgæ‰¾å‡ºé—®é¢˜æ‰€åœ¨ã€‚&lt;/p>
&lt;p>è¿è¡Œç¨‹åºï¼Œè¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ŒæŒ‰ä¸€æ¬¡enterï¼Œå½“å‡ºç°ç¬¬äºŒæ¬¡è¾“å…¥æç¤ºæ—¶ï¼Œä¸è¦åŠ¨ï¼æˆ‘ä»¬å¤„äºæ•æ‰é—®é¢˜çš„å…³é”®ç‚¹ï¼Œæˆ‘ä»¬éœ€è¦åšä¸€ä¸ªdumpæ–‡ä»¶ã€‚&lt;/p>
&lt;p>&lt;strong>åˆ›å»ºdumpæ–‡ä»¶&lt;/strong>&lt;/p>
&lt;p>****åœ¨windows7å’Œwindows2008ä¸­ï¼Œå¯ä»¥åœ¨ä»»åŠ¡ç®¡ç†å™¨ä¸­ç›´æ¥åˆ›å»ºdumpæ–‡ä»¶ã€‚åªéœ€æ‰“å¼€ä»»åŠ¡ç®¡ç†å™¨ï¼Œå³é”®è¿›ç¨‹åå¹¶é€‰æ‹©â€œCreate Dump Fileâ€ã€‚&lt;/p>
&lt;p>&lt;img src="http://ww1.sinaimg.cn/large/7ce4a9f6gw1e5q1h819trj20sg0cbn0n.jpg"
loading="lazy"
alt="windbg tutorial"
>&lt;/p>
&lt;p>dumpæ–‡ä»¶åˆ›å»ºæˆåŠŸåï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°æç¤ºï¼š&lt;/p>
&lt;p>&lt;img src="http://ww1.sinaimg.cn/large/7ce4a9f6gw1e5q1ihkg7aj20sg0ca42h.jpg"
loading="lazy"
alt="windbg tutorial"
>&lt;/p>
&lt;p>dumpæ–‡ä»¶æ˜¯å½“å‰è¿›ç¨‹çš„å†…å­˜å¿«ç…§ï¼Œdumpæ–‡ä»¶çš„å¤§å°ä¼šå’Œè¿›ç¨‹ä½¿ç”¨çš„å†…å­˜å¤§å°ä¸€æ ·ï¼Œä¸ºäº†å‡å°‘ä½“ç§¯ï¼Œä½ å¯ä»¥ä½¿ç”¨å‹ç¼©è½¯ä»¶è¿›è¡Œå‹ç¼©ã€‚&lt;/p>
&lt;p>è¿˜æœ‰å¦å¤–çš„å·¥å…·å¯ä»¥åˆ›å»ºdumpæ–‡ä»¶ï¼Œå¦‚&lt;a class="link" href="http://technet.microsoft.com/en-us/sysinternals/bb896653.aspx" target="_blank" rel="noopener"
>Process Explorer from SysInternals&lt;/a>ï¼Œä¹Ÿåªéœ€è¦åœ¨ä»»åŠ¡ç®¡ç†ä¸­å³é”®é€‰æ‹©â€œFull Dumpâ€ã€‚&lt;/p>
&lt;p>&lt;img src="http://ww2.sinaimg.cn/large/7ce4a9f6gw1e5q1j0grajj20fq0anwgj.jpg"
loading="lazy"
alt="windbg tutorial"
>&lt;/p>
&lt;p>ADPluså’ŒDebugDiagä¹Ÿå¯ä»¥åˆ›å»ºdumpæ–‡ä»¶ã€‚ADPlusæ˜¯windbgå®‰è£…ç›®å½•ä¸‹çš„ä¸€ä¸ªå‘½ä»¤è¡Œç¨‹åºï¼Œä½ å¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤åˆ›å»ºä¸€ä¸ªdumpæ–‡ä»¶ï¼š&lt;/p>
&lt;pre>&lt;code>Adplus -quiet -hang -p 4332 -o d:\debug
&lt;/code>&lt;/pre>
&lt;p>4332æ˜¯è¿›ç¨‹idï¼Œä»»åŠ¡ç®¡ç†å™¨é»˜è®¤æ˜¯ä¸æ˜¾ç¤ºè¿›ç¨‹idçš„ï¼Œè¦æ˜¾ç¤ºå‡ºæ¥ï¼Œéœ€è¦åœ¨windowsä»»åŠ¡ç®¡ç†å™¨é€‰æ‹©â€œæŸ¥çœ‹-&amp;gt;é€‰æ‹©åˆ—â€ï¼Œå‹¾é€‰â€œPIDï¼ˆè¿›ç¨‹æ ‡è¯†ç¬¦ï¼‰â€ã€‚&lt;/p>
&lt;p>&lt;strong>å¼€å§‹ä½¿ç”¨WinDbg&lt;/strong>&lt;/p>
&lt;p>****ç°åœ¨æˆ‘ä»¬æœ‰äº†ç¨‹åºdumpæ–‡ä»¶ï¼Œæ‰“å¼€windbgç¨‹åºï¼Œé€‰æ‹©èœå•â€œFile-&amp;gt;Open Crash Dumpâ€ï¼Œå¹¶é€‰æ‹©åˆšåˆ›å»ºçš„dumpæ–‡ä»¶ï¼Œä½ ä¼šçœ‹åˆ°ä¸€äº›ä¿¡æ¯ï¼š&lt;/p>
&lt;pre>&lt;code>Loading Dump File [D:\debug\program6.dmp]
User Mini Dump File: Only registers, stack and portions of memory are available
Symbol search path is: srv*d:\debug\symbols*http://msdl.microsoft.com/download/symbols
Executable search path is:
Windows 7 Version 7600 MP (8 procs) Free x64
Product: WinNt, suite: SingleUserTS
Machine Name:
Debug session time: Sun Feb 6 10:43:57.000 2011 (GMT-6)
System Uptime: not available
Process Uptime: 0 days 1:05:48.000
.........................
ntdll!NtRequestWaitReplyPort+0xa:
00000000`76d2ff7a c3 ret
&lt;/code>&lt;/pre>
&lt;p>åœ¨ä¸Šé¢çš„æ–‡å­—ä¸­ï¼Œä½ å¯ä»¥çœ‹åˆ°dumpæ–‡ä»¶çš„è·¯å¾„ï¼Œç¬¦å·æ–‡ä»¶çš„æŸ¥æ‰¾è·¯å¾„ç­‰ä¿¡æ¯ã€‚è€Œç¨‹åºæœ€ä¸‹æ–¹æœ‰ä¸ªè¾“å…¥æ¡†ï¼Œä½ å¯ä»¥åœ¨ä¸Šé¢è¾“å…¥å‘½ä»¤ã€‚&lt;/p>
&lt;p>&lt;img src="http://ww1.sinaimg.cn/large/7ce4a9f6gw1e5q1jkayjcj20sg0dtjul.jpg"
loading="lazy"
alt="windbg tutorial"
>&lt;/p>
&lt;p>&lt;strong>æ˜¾ç¤ºæ¨¡å—&lt;/strong>&lt;/p>
&lt;p>è®©æˆ‘ä»¬è¯•ä¸‹æ˜¾ç¤ºç¨‹åºå·²åŠ è½½äº†å“ªäº›æ¨¡å—ã€‚åœ¨çª—å£æœ€ä¸‹æ–¹çš„è¾“å…¥æ¡†ä¸­ï¼Œè¾“å…¥â€œlmâ€å‘½ä»¤ã€‚&lt;/p>
&lt;pre>&lt;code>0:000&amp;gt; lm
start end module name
00000000`00120000 00000000`00128000 program (deferred)
00000000`742b0000 00000000`74379000 msvcr80 (deferred)
00000000`76ac0000 00000000`76bba000 user32 (deferred)
00000000`76bc0000 00000000`76cdf000 kernel32 (pdb symbols) d:\debug\symbols\kernel32.pdb\D5E268B5DD1048A1BFB011C744DD3DFA2\kernel32.pdb
00000000`76ce0000 00000000`76e8b000 ntdll (pdb symbols) d:\debug\symbols\ntdll.pdb\0F7FCF88442F4B0E9FB51DC4A754D9DE2\ntdll.pdb
000007fe`f3fb0000 000007fe`f4134000 mscorjit (deferred)
000007fe`f5030000 000007fe`f5f0b000 mscorlib_ni (deferred)
000007fe`f7650000 000007fe`f7ffe000 mscorwks (deferred)
000007fe`f8010000 000007fe`f80a0000 mscoreei (deferred)
000007fe`f80a0000 000007fe`f810f000 mscoree (deferred)
000007fe`fcb70000 000007fe`fcb7f000 CRYPTBASE (deferred)
000007fe`fcc40000 000007fe`fcc4f000 profapi (deferred)
000007fe`fcf20000 000007fe`fcf8b000 KERNELBASE (deferred)
000007fe`fd0e0000 000007fe`fd2e2000 ole32 (deferred)
000007fe`fd4d0000 000007fe`fd59a000 usp10 (deferred)
000007fe`fd6f0000 000007fe`fe476000 shell32 (deferred)
000007fe`fe480000 000007fe`fe4ae000 imm32 (deferred)
000007fe`fe840000 000007fe`fe84e000 lpk (deferred)
000007fe`fe9d0000 000007fe`feaab000 advapi32 (deferred)
000007fe`feb50000 000007fe`fec7e000 rpcrt4 (deferred)
000007fe`fec80000 000007fe`fecf1000 shlwapi (deferred)
000007fe`fed00000 000007fe`fed67000 gdi32 (deferred)
000007fe`fee10000 000007fe`fef19000 msctf (deferred)
000007fe`fef20000 000007fe`fefbf000 msvcrt (deferred)
000007fe`fefd0000 000007fe`fefef000 sechost (deferred)
&lt;/code>&lt;/pre>
&lt;p>åœ¨ä¸Šé¢çš„æ¨¡å—åˆ—è¡¨ä¸­ï¼Œä½ éœ€è¦å…³æ³¨çš„æ˜¯mscorwksæ˜¯å¦å­˜åœ¨ï¼ŒPssCor2åªèƒ½ç”¨äº.NET 3.5çš„ç¨‹åºï¼Œå‡å¦‚æ˜¯.NET 4.0ç¨‹åºï¼Œå°±çœ‹ä¸åˆ°mscorwksæ¨¡å—ã€‚&lt;/p>
&lt;p>å¯¹äºSharePointå¼€å‘äººå‘˜ï¼Œå‡å¦‚ä½ æ­£åœ¨è°ƒè¯•ç¨‹åºç‰¹æ€§å¦‚ receivers å’Œ event å¤„ç†ä¸ºä»€ä¹ˆä¸è§¦å‘ï¼Œlmå°†æ˜¯å¾ˆå¥½ç”¨çš„å‘½ä»¤ã€‚é€šè¿‡ä¸Šé¢çš„åˆ—è¡¨ï¼Œä½ èƒ½çŸ¥é“æœ‰å“ªäº›æ¨¡å—æ²¡åŠ è½½è¿›æ¥ï¼Œå¯èƒ½æ˜¯é…ç½®ä¸æ­£ç¡®å¯¼è‡´çš„ï¼Œè¿™æ ·èƒ½å¤§å¤§åœ°å‡å°‘ä½ æŸ¥æ‰¾é—®é¢˜çš„èŒƒå›´ã€‚å¯¹äºASP.NETå¼€å‘äººå‘˜ï¼Œä¼šæœ‰åŠ©äºæŸ¥æ‰¾HttpModuleä¸è§¦å‘çš„åŸå› ï¼Œå¯èƒ½æ˜¯web.configé…ç½®ä¸æ­£ç¡®ã€‚&lt;/p>
&lt;p>&lt;strong>åŠ è½½PssCor2&lt;/strong>&lt;/p>
&lt;p>è¦æŠŠPssCor2æ‰©å±•ç»„ä»¶åŠ è½½å…¥windbgï¼Œéœ€ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼š&lt;/p>
&lt;pre>&lt;code>.load d:\debug\psscor2\amd64\psscor2.dll
&lt;/code>&lt;/pre>
&lt;p>æˆ‘çš„ç”µè„‘æ˜¯64ä½çš„ï¼Œæ‰€ä»¥æˆ‘åŠ è½½äº†AMD64 ç‰ˆæœ¬çš„PssCor2.dllã€‚åŠ è½½çš„PssCor2ç‰ˆæœ¬å¿…é¡»å’Œdumpæ–‡ä»¶è¿›ç¨‹æ‰€åœ¨æœåŠ¡å™¨çš„æ¶æ„ç›¸ä¸€è‡´ï¼Œå‡å¦‚ä½ æ˜¯è°ƒè¯•x86ç¨‹åºçš„dumpæ–‡ä»¶ï¼Œä½ å°±å¿…é¡»åŠ è½½x86ç‰ˆæœ¬çš„PssCor2.dllã€‚
è¾“å…¥ä¸‹é¢çš„å‘½ä»¤ï¼Œä»¥ç¡®è®¤PssCor2æ˜¯å¦åŠ è½½æˆåŠŸï¼š&lt;/p>
&lt;pre>&lt;code>!help
&lt;/code>&lt;/pre>
&lt;p>æ­£ç¡®ä¼šè¾“å…¥ä¸‹é¢çš„å†…å®¹ï¼š&lt;/p>
&lt;pre>&lt;code>0:000&amp;gt; .load d:\debug\psscor2\amd64\psscor2.dll
0:000&amp;gt; !help
-------------------------------------------------------------------------------
PSSCOR is a debugger extension DLL designed to aid in the debugging of managed
programs. Functions are listed by category, then roughly in order of
importance. Shortcut names for popular functions are listed in parenthesis.
Type &amp;quot;!help &amp;quot; for detailed info on that function.
Object Inspection Examining code and stacks
----------------------------- -----------------------------
DumpObj (do) Threads
DumpArray (da) CLRStack
DumpStackObjects (dso) IP2MD
DumpAllExceptions (dae) BPMD
DumpHeap U
DumpVC DumpStack
GCRoot EEStack
ObjSize GCInfo
FinalizeQueue EHInfo
PrintException (pe) COMState
TraverseHeap
DumpField (df)
DumpDynamicAssemblies (dda)
GCRef
DumpColumnNames (dcn)
DumpRequestQueues
DumpUMService
Examining CLR data structures Diagnostic Utilities
----------------------------- -----------------------------
DumpDomain VerifyHeap
EEHeap DumpLog
Name2EE FindAppDomain
SyncBlk SaveModule
DumpThreadConfig (dtc) SaveAllModules (sam)
DumpMT GCHandles
DumpClass GCHandleLeaks
DumpMD VMMap
Token2EE VMStat
EEVersion ProcInfo
DumpModule StopOnException (soe)
ThreadPool MinidumpMode
DumpHttpRuntime FindDebugTrue
DumpIL FindDebugModules
PrintDateTime Analysis
DumpDataTables CLRUsage
DumpAssembly CheckCurrentException (cce)
RCWCleanupList CurrentExceptionName (cen)
PrintIPAddress VerifyObj
DumpHttpContext HeapStat
ASPXPages GCWhere
DumpASPNETCache (dac) ListNearObj (lno)
DumpSig
DumpMethodSig Other
DumpRuntimeTypes -----------------------------
ConvertVTDateToDate (cvtdd) FAQ
ConvertTicksToDate (ctd)
DumpRequestTable
DumpHistoryTable
DumpBuckets
GetWorkItems
DumpXmlDocument (dxd)
DumpCollection (dc)
Examining the GC history
-----------------------------
HistInit
HistStats
HistRoot
HistObj
HistObjFind
HistClear
&lt;/code>&lt;/pre>
&lt;p>&lt;strong>mscordacwks.dll&lt;/strong>&lt;/p>
&lt;p>æˆ‘å–œæ¬¢åœ¨æœåŠ¡å™¨ä¸­åˆ›å»ºç¨‹åºçš„dumpæ–‡ä»¶ï¼Œç„¶åæŠŠdumpæ–‡ä»¶è½¬ç§»åˆ°è‡ªå·±çš„windows7å¼€å‘æœºä¸Šè¿›è¡Œè°ƒè¯•ã€‚å‡å¦‚æœåŠ¡å™¨æ˜¯Windows Server 2008 R2çš„æ“ä½œç³»ç»Ÿï¼Œå½“æˆ‘åœ¨æœ¬åœ°å¼€å‘æœºä½¿ç”¨psscor2æ—¶ï¼Œå¾ˆå®¹æ˜“é‡åˆ°ä¸‹é¢çš„é”™è¯¯ï¼š&lt;/p>
&lt;pre>&lt;code>CLRDLL: CLR DLL load disabled
Failed to load data access DLL, 0x80004005
Verify that 1) you have a recent build of the debugger (6.2.14 or newer)
2) the file mscordacwks.dll that matches your version of mscorwks.dll is
in the version directory
3) or, if you are debugging a dump file, verify that the file
mscordacwks___.dll is on your symbol path.
4) you are debugging on the same architecture as the dump file.
For example, an IA64 dump file must be debugged on an IA64
machine.
You can also run the debugger command .cordll to control the debugger's
load of mscordacwks.dll. .cordll -ve -u -l will do a verbose reload.
If that succeeds, the PSSCOR command should work on retry.
If you are debugging a minidump, you need to make sure that your executable
path is pointing to mscorwks.dll as well.
&lt;/code>&lt;/pre>
&lt;p>é€šè¿‡bingæœç´¢å‘ç°ä¸€ç¯‡ç›¸å…³çš„åšå®¢æ–‡ç« &lt;a class="link" href="http://blogs.msdn.com/b/dougste/archive/2009/02/18/failed-to-load-data-access-dll-0x80004005-or-what-is-mscordacwks-dll.aspx" target="_blank" rel="noopener"
>how to work around the mscordacwks issue&lt;/a>ï¼Œæ–‡ç« æŒ‡å‡ºéœ€è¦æŠŠæœåŠ¡å™¨çš„mscordacwksæ–‡ä»¶æ‹·è´åˆ°windbgç¨‹åºç›®å½•ä¸‹ã€‚mscordacwksåœ¨æˆ‘çš„Windows Server 2008 R2æœåŠ¡å™¨ä¸Šçš„ç‰ˆæœ¬æ˜¯4952ï¼Œæ‰€ä»¥æˆ‘æŠŠæœåŠ¡å™¨ä¸Šçš„mscordacwksæ‹·è´åˆ°windbgç›®å½•ï¼Œå¹¶é‡å‘½åä¸ºâ€œmscordacwks_AMD64_AMD64_2.0.50727.4952.dllâ€œã€‚mscordacwksåœ¨æœåŠ¡å™¨çš„è·¯å¾„æ˜¯â€œâ€C:\WINDOWS\Microsoft.NET\Framework\v2.0.50727\mscordacwks.dllâ€ï¼Œå‡å¦‚ä½ ä¸çŸ¥é“æ­£ç¡®çš„é‡å‘½åè§„åˆ™ï¼Œä½ å¯ä»¥è¾“å…¥ä¸‹é¢çš„å‘½ä»¤ï¼Œè¾“å‡ºä¼šæç¤ºéœ€è¦åŠ è½½çš„mscordacwkså‘½åã€‚&lt;/p>
&lt;pre>&lt;code>0:000&amp;gt; .cordll -ve -u -l
CLR DLL status: No load attempts
0:000&amp;gt; !threads
CLRDLL: C:\WINDOWS\Microsoft.NET\Framework\v2.0.50727\mscordacwks.dll:2.0.50727.3053 f:0
doesn't match desired version 2.0.50727.3625 f:0
CLRDLL: Unable to find mscordacwks_AMD64_AMD64_2.0.50727.4952.dll by mscorwks search
CLRDLL: Unable to find 'mscordacwks_AMD64_AMD64_2.0.50727.4952.dll' on the path
CLRDLL: Unable to get version info for 'd:\debug\symbols\mscorwks.dll\4E154C985a9000\mscordacwks_AMD64_AMD64_2.0.50727.4952.dll', Win32 error 0n87
CLRDLL: ERROR: Unable to load DLL mscordacwks_AMD64_AMD64_2.0.50727.4952.dll, Win32 error 0n87
Failed to load data access DLL, 0x80004005
Verify that 1) you have a recent build of the debugger (6.2.14 or newer)
2) the file mscordacwks.dll that matches your version of mscorwks.dll is
in the version directory
3) or, if you are debugging a dump file, verify that the file
mscordacwks___.dll is on your symbol path.
4) you are debugging on the same architecture as the dump file.
For example, an IA64 dump file must be debugged on an IA64
machine.
You can also run the debugger command .cordll to control the debugger's
load of mscordacwks.dll. .cordll -ve -u -l will do a verbose reload.
If that succeeds, the PSSCOR command should work on retry.
If you are debugging a minidump, you need to make sure that your executable
path is pointing to mscorwks.dll as well.
&lt;/code>&lt;/pre>
&lt;p>é‡å‘½ååï¼Œå†æ¬¡è¾“å…¥ä¸Šé¢çš„å‘½ä»¤ï¼Œä¼šæ˜¾ç¤ºåŠ è½½æˆåŠŸæç¤ºã€‚&lt;/p>
&lt;pre>&lt;code>0:000&amp;gt; .cordll -ve -u -l
CLR DLL status: Loaded DLL mscordacwks_AMD64_AMD64_2.0.50727.4952.dll
&lt;/code>&lt;/pre>
&lt;p>&lt;strong>æ£€æŸ¥CRLå †æ ˆ&lt;/strong>&lt;/p>
&lt;p>è¦æŸ¥çœ‹CLRå †æ ˆå†…å®¹ï¼Œè¾“å…¥ä¸‹é¢å‘½ä»¤ï¼š&lt;/p>
&lt;pre>&lt;code>!clrstack
&lt;/code>&lt;/pre>
&lt;p>è¾“å‡ºå¦‚ä¸‹ï¼š&lt;/p>
&lt;pre>&lt;code>0:000&amp;gt; !clrstack
OS Thread Id: 0xa48 (0)
*** WARNING: Unable to verify checksum for mscorlib.ni.dll
Child-SP RetAddr Call Site
000000000012e910 000007fef5a910e9 DomainNeutralILStubClass.IL_STUB(Microsoft.Win32.SafeHandles.SafeFileHandle, Byte*, Int32, Int32 ByRef, IntPtr)
000000000012ea30 000007fef5a91202 System.IO.__ConsoleStream.ReadFileNative(Microsoft.Win32.SafeHandles.SafeFileHandle, Byte[], Int32, Int32, Int32, Int32 ByRef)
000000000012ea90 000007fef538065a System.IO.__ConsoleStream.Read(Byte[], Int32, Int32)
000000000012eaf0 000007fef53a28ca System.IO.StreamReader.ReadBuffer()
000000000012eb40 000007fef5a9435f System.IO.StreamReader.ReadLine()
000000000012eb90 000007ff0017015b System.IO.TextReader+SyncTextReader.ReadLine()
000000000012ebf0 000007fef791d502 Program.Main()
&lt;/code>&lt;/pre>
&lt;p>çœŸæ£’ï¼ä½ ç°åœ¨å¯ä»¥çœ‹åˆ°å †æ ˆçš„è°ƒç”¨æƒ…å†µäº†ã€‚æˆ‘ä»¬å¯ä»¥ç«‹å³çœ‹åˆ°ç¨‹åºè¿›å…¥äº†Program.Mainå‡½æ•°ï¼Œè°ƒç”¨Console.ReadLineå¹¶ç­‰å¾…ç”¨æˆ·çš„è¾“å…¥ã€‚&lt;/p>
&lt;p>&lt;strong>ç»“è®º&lt;/strong>&lt;/p>
&lt;p>æœ¬ç¯‡æ–‡ç« åªæ˜¯ç®€å•ä»‹ç»windbgçš„ä½¿ç”¨ï¼Œå‡å¦‚ä½ æƒ³å…¨å±€çš„äº†è§£windbgï¼Œå¹¶å¦‚ä½•ä½¿ç”¨windbgåšæ•…éšœæ’é™¤ï¼Œå¯ä»¥çœ‹ä¸‹Tess Ferrandezçš„è§†é¢‘æ•™ç¨‹â€œDebugging .NET Applications with WinDbgâ€œã€‚&lt;/p>
&lt;p>&lt;strong>æ‰©å±•é˜…è¯»ï¼š&lt;/strong>&lt;/p>
&lt;p>&lt;a class="link" href="http://technet.microsoft.com/en-us/sysinternals/bb896653.aspx" target="_blank" rel="noopener"
>Process Explorer from SysInternals&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="http://www.microsoft.com/downloads/en/details.aspx?FamilyID=5c068e9f-ebfe-48a5-8b2f-0ad6ab454ad4" target="_blank" rel="noopener"
>PssCor2 Debugging Extension&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="http://www.microsoft.com/whdc/DevTools/Debugging/default.mspx" target="_blank" rel="noopener"
>Download the Debugging Tools for Windows&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="http://msdn.microsoft.com/en-us/library/bb190764.aspx" target="_blank" rel="noopener"
>SOS.dll (SOS Debugging Extension)&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="http://blogs.msdn.com/b/dougste/archive/2009/02/18/failed-to-load-data-access-dll-0x80004005-or-what-is-mscordacwks-dll.aspx" target="_blank" rel="noopener"
>â€œFailed to load data access DLL, 0x80004005â€ â€“ OR â€“ What is mscordacwks.dll?&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="http://www.microsoft.com/downloads/en/details.aspx?FamilyID=28bd5941-c458-46f1-b24d-f60151d875a3&amp;amp;displaylang=en" target="_blank" rel="noopener"
>DebugDiag&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="http://blogs.msdn.com/b/johan/archive/2007/11/26/getting-started-with-windbg-part-ii.aspx" target="_blank" rel="noopener"
>Getting started with windbg - part I&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="http://blogs.msdn.com/b/johan/archive/2007/11/26/getting-started-with-windbg-part-ii.aspx" target="_blank" rel="noopener"
>Getting started with windbg - part II&lt;/a>&lt;/p></description></item><item><title>åˆ©ç”¨HAProxyå®ç°é›¶åœæœºæ›´æ–°ç»´æŠ¤</title><link>https://blog.xenori.com/2012/01/zero-downtime-with-haproxy/</link><pubDate>Sat, 21 Jan 2012 08:04:49 +0000</pubDate><guid>https://blog.xenori.com/2012/01/zero-downtime-with-haproxy/</guid><description>&lt;p>&lt;a class="link" href="http://haproxy.1wt.eu/" target="_blank" rel="noopener"
>HAProxy&lt;/a>æ˜¯linuxå¹³å°ä¸Šçš„è´Ÿè½½å‡è¡¡è½¯ä»¶ï¼Œæœ‰å®Œå–„çš„æœåŠ¡å™¨å¥åº·æ£€æµ‹å’Œä¼šè¯(session)ä¿æŒåŠŸèƒ½ï¼Œæ€§èƒ½é«˜ï¼Œæ”¯æŒtcpå’Œhttpç½‘ç»œè¿æ¥åˆ†å‘ã€‚&lt;/p>
&lt;h2 id="é—®é¢˜èµ·å› ">&lt;strong>é—®é¢˜èµ·å› &lt;/strong>&lt;/h2>
&lt;p>å…¥å…¬å¸ä¸€å¹´ï¼Œæˆ‘å‘ç°åœ¨ASP.NETç½‘ç«™ä¸Šéƒ¨ç½²æ›´æ–°æ—¶ï¼Œç»å¸¸ä¼šé‡åˆ°ä¸‹é¢è¿™æ ·çš„çƒ¦æ¼ï¼š&lt;/p>
&lt;ol>
&lt;li>
&lt;p>å‡å¦‚æ›´æ–°åˆ°binæ–‡ä»¶å¤¹ä¸‹çš„dllæ–‡ä»¶ï¼Œä¼šå¼•èµ·iisçš„åº”ç”¨ç¨‹åºæ± é‡å¯ï¼Œä»è€Œå¯¼è‡´æ›´æ–°è¿™æ®µæ—¶é—´å†…ï¼Œç”¨æˆ·è®¿é—®ç½‘ç«™ä¼šéå¸¸ç¼“æ…¢ï¼Œç”šè‡³å‡ºç°é¡µé¢è¶…æ—¶ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>éƒ¨ç½²æ›´æ–°æ—¶è¦å°å¿ƒç¿¼ç¿¼ï¼Œç¥ˆç¥·ä¸Šå¸æ²¡å°‘æ‹·äº†ä»€ä¹ˆæ–‡ä»¶ï¼Œå‡å¦‚æ›´æ–°åç½‘ç«™å‡ºé”™ï¼Œå°±åªèƒ½å¿ƒè·³åŠ é€Ÿåœ°å¿«é€Ÿè¿˜åŸç³»ç»Ÿ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ç¼–è¾‘ç»å¸¸æä¸€äº›éœ€æ±‚åªæ˜¯ç®€å•æ›´æ”¹ä¸‹é¡µé¢æ–‡å­—ï¼Œè€Œä¸ºäº†ä¸ä½¿è¿™ç§ç®€å•çš„æ›´æ”¹å¼•èµ·åº”ç”¨ç¨‹åºæ± é‡å¯ï¼Œä¸€èˆ¬éƒ¨ç½²ç½‘ç«™æ—¶éƒ½æ˜¯é‡‡ç”¨copyæ–¹å¼å‘å¸ƒï¼Œè€Œç½‘ç«™ä¹Ÿå·¥ä½œåœ¨debugæ¨¡å¼ä¸‹ï¼Œè€Œä¸æ˜¯æ›´ä¼˜åŒ–é€Ÿåº¦æ›´å¿«çš„releaseæ¨¡å¼&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>ä¸Šé¢å‡ ç§æƒ…å†µéƒ½å¾ˆå½±å“ç”¨æˆ·ä½“éªŒï¼Œä¹Ÿè®©æ¯æ¬¡æ›´æ–°æ—¶è‚¾ä¸Šæ¿€ç´ ä¸Šå‡ã€‚
è¦è§£å†³ä¸Šé¢çš„çƒ¦æ¼ï¼Œéœ€è¦æ»¡è¶³ä¸‹é¢å‡ ä¸ªæ¡ä»¶ï¼š&lt;/p>
&lt;ol>
&lt;li>
&lt;p>æœ‰è‡³å°‘ä¸¤ä¸ªä»¥ä¸Šçš„ç›¸åŒåŠŸèƒ½ç«™ç‚¹ï¼Œå½“ä¸€ä¸ªç«™ç‚¹ä¸‹çº¿ç»´æŠ¤æ—¶ï¼Œåç»­çš„è¯·æ±‚èƒ½è‡ªåŠ¨äº¤ç»™å¦ä¸€ä¸ªç«™ç‚¹å¤„ç†&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æœ‰ç«™ç‚¹å¥åº·æ£€æµ‹åŠŸèƒ½ï¼Œå¯ä»¥ä¸€ä¸ªä¸ªè½®æµåœ°ä¸‹çº¿ç«™ç‚¹å’Œä¸Šçº¿ç«™ç‚¹ï¼Œè¿™è¿‡ç¨‹ä¸­å¯¹ç”¨æˆ·çš„è®¿é—®å®Œå…¨ä¸å—å½±å“
åº”ç”¨HAProxyçš„è´Ÿè½½å‡è¡¡å’ŒæœåŠ¡å™¨æ£€æµ‹ç‰¹æ€§å¯ä»¥å¾ˆå¥½åœ°è§£å†³ä¸Šé¢çš„é—®é¢˜ï¼Œæœ€ç®€å•çš„è´Ÿè½½å‡è¡¡æ¡†æ¶å¦‚ä¸‹ï¼š&lt;/p>
&lt;/li>
&lt;/ol>
&lt;pre>&lt;code>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â 192.168.1.2:8001
IP=192.168.1.1 Â Â 192.168.1.2:8002 Â Â 192.168.1.3
-------+-------------+-------+-----------+----
| Â Â Â Â Â Â Â Â Â Â Â Â | Â Â Â Â Â Â | Â Â Â Â Â Â Â Â Â _|_db
+--+--+ Â Â Â Â Â Â Â +-+-+ Â Â +-+-+ Â Â Â  Â (___)
| Â LB | Â Â Â Â Â Â Â | A | Â Â | B | Â Â Â  Â (___)
+-----+ Â Â Â Â Â Â Â +---+ Â Â +---+ Â Â  Â Â (___)
haproxy Â Â Â Â Â Â 2 cheap web sites
keepalived
&lt;/code>&lt;/pre>
&lt;p>192.168.1.1æ˜¯ä¸€å°linuxæœåŠ¡å™¨ï¼Œè¿è¡Œç€HAProxyã€‚
192.168.1.2æ˜¯ä¸€å°windowsæœåŠ¡å™¨ï¼Œiisä¸Šè¿è¡Œç€ä¸¤ä¸ªç›¸åŒçš„ç«™ç‚¹ï¼Œç«¯å£åˆ†åˆ«è®¾ä¸º8001/8002
192.168.1.3æ˜¯æ•°æ®åº“æœåŠ¡å™¨&lt;/p>
&lt;h2 id="haproxyéƒ¨ç½²æµ‹è¯•">&lt;strong>HAProxyéƒ¨ç½²æµ‹è¯•&lt;/strong>&lt;/h2>
&lt;h3 id="å®‰è£…haproxy">&lt;strong>å®‰è£…HAProxy&lt;/strong>&lt;/h3>
&lt;p>åœ¨ubuntuä¸­å®‰è£…HAProxyå¾ˆç®€å•ï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤å°±èƒ½è‡ªåŠ¨ä¸‹è½½å®‰è£…ï¼š&lt;/p>
&lt;pre>&lt;code>sudo apt-get install haproxy
&lt;/code>&lt;/pre>
&lt;p>å‡å¦‚ubuntuæœåŠ¡å™¨ä¸Šçš„ä¸æ˜¯æœ€æ–°ç‰ˆï¼Œä½ æƒ³å®‰è£…æœ€æ–°ç‰ˆï¼Œå¯ä»¥åˆ°å®˜ç½‘ä¸‹è½½æœ€æ–°çš„tarå‹ç¼©åŒ…ï¼Œè§£å‹åè¿›å…¥è¯¥ç›®å½•ï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼š&lt;/p>
&lt;pre>&lt;code>make install
&lt;/code>&lt;/pre>
&lt;h3 id="é…ç½®haproxy">&lt;strong>é…ç½®HAProxy&lt;/strong>&lt;/h3>
&lt;p>åˆ›å»ºé…ç½®æ–‡ä»¶haproxy.cfg&lt;/p>
&lt;pre>&lt;code>mkdir /etc/haproxy
vim /etc/haproxy/haproxy.cfg
&lt;/code>&lt;/pre>
&lt;p>HAProxyæä¾›äº†ä¸¤ç§é›¶åœæœºç»´æŠ¤æ–¹æ¡ˆï¼Œä¸€ç§æ˜¯å®šæ—¶æ£€æµ‹æŒ‡å®šæ–‡ä»¶çš„è¯·æ±‚æ˜¯å¦æˆåŠŸï¼Œä¸æˆåŠŸè¶…è¿‡æŒ‡å®šæ¬¡æ•°åï¼Œå¯è®¤ä¸ºæœåŠ¡å™¨å·²åœæœºï¼Œæ–°è¿›å…¥çš„è¿æ¥ä¼šè‡ªåŠ¨åˆ†å‘åˆ°å…¶ä»–æœºå™¨ï¼Œå¦ä¸€ç§æ˜¯ä½¿ç”¨å¤‡ä»½æœåŠ¡å™¨ï¼Œä¸‹é¢åªä»‹ç»æœ€ç®€å•çš„ç¬¬ä¸€ç§ã€‚
HAProxyå®ç°æœåŠ¡å™¨æ£€æµ‹å’Œè´Ÿè½½å‡è¡¡çš„ç®€å•é…ç½®å¦‚ä¸‹ï¼š&lt;/p>
&lt;pre>&lt;code># this config needs haproxy-1.1.28 or haproxy-1.2.1
global
maxconn 4096
uid 99
gid 99
daemon
defaults
mode Â Â Â http
timeout connect 5000ms
timeout client 50000ms
timeout server 50000ms
option redispatch
listen Â http-in
bind *:80
balance roundrobin
option httpchk HEAD /deploy.txt HTTP/1.0
server server1 192.168.1.2:8001 check inter 2000 rise 2 fall 2
server server2 192.168.1.2:8002 check inter 2000 rise 2 fall 2
&lt;/code>&lt;/pre>
&lt;p>ä¸‹é¢è¯´ä¸‹ä¸»è¦çš„å‡ ä¸ªé…ç½®é¡¹ï¼š
option redispatchï¼šå½“ä¹‹å‰è¿æ¥çš„æœåŠ¡å™¨å®•æœºåï¼Œè‡ªåŠ¨æŠŠè¿æ¥åˆ†å‘åˆ°å…¶ä»–æœåŠ¡å™¨
bindï¼šç›‘å¬æŒ‡å®šçš„ç«¯å£
balance roundrobinï¼šä»¥è½®è¯¢çš„æ–¹å¼åˆ†å‘è¿æ¥
option httpchk HEAD /deploy.txt HTTP/1.0ï¼šé€šè¿‡è¯·æ±‚/deploy.txtæ–‡ä»¶æ¥ç¡®å®šæœåŠ¡å™¨å¥åº·æƒ…å†µ
server server1 192.168.1.2:8001ï¼šæŒ‡å®šåˆ†å‘çš„ç«™ç‚¹ï¼Œserver1å¯ä»¥æ˜¯ä»»æ„åç§°ï¼Œåœ¨å†™logæ—¶ä½¿ç”¨
check inter 2000ï¼šè¡¨ç¤ºæœåŠ¡å™¨æ£€æµ‹çš„é—´éš”æ—¶é—´ï¼Œ2000æŒ‡2ç§’ï¼Œå•ä½æ˜¯æ¯«ç§’
rise 2ï¼šè¡¨ç¤ºæœåŠ¡å™¨æ£€æµ‹è¯·æ±‚æˆåŠŸ2æ¬¡åï¼Œå¯è®¤ä¸ºç«™ç‚¹å·²æ¢å¤ï¼Œè¿æ¥å¯ä»¥é‡æ–°åˆ†å‘ç»™å®ƒ
fall 2ï¼šè¡¨ç¤ºæœåŠ¡æ£€æµ‹è¯·æ±‚å¤±è´¥2æ¬¡åï¼Œå¯è®¤ä¸ºç«™ç‚¹å·²å®•æœºï¼Œä¹‹åä¸ä¼šå†åˆ†å‘è¿æ¥ç»™å®ƒ&lt;/p>
&lt;p>è¯¦ç»†çš„é…ç½®è¯´æ˜å¯ä»¥çœ‹&lt;a class="link" href="http://haproxy.1wt.eu/download/1.4/doc/configuration.txt" target="_blank" rel="noopener"
>HAProxyé…ç½®æ–‡æ¡£&lt;/a>&lt;/p>
&lt;h3 id="è¿è¡Œhaproxy">&lt;strong>è¿è¡ŒHAProxy&lt;/strong>&lt;/h3>
&lt;p>æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤æ£€æŸ¥é…ç½®æ˜¯å¦æ­£ç¡®ï¼š&lt;/p>
&lt;pre>&lt;code>haproxy -f /etc/haproxy/haproxy.cfg -c
&lt;/code>&lt;/pre>
&lt;p>è¿è¡Œhaproxyï¼š&lt;/p>
&lt;pre>&lt;code>haproxy -f /etc/haproxy/haproxy.cfg
&lt;/code>&lt;/pre>
&lt;h3 id="åˆ›å»ºæµ‹è¯•ç«™ç‚¹">&lt;strong>åˆ›å»ºæµ‹è¯•ç«™ç‚¹&lt;/strong>&lt;/h3>
&lt;p>åœ¨æœåŠ¡å™¨192.168.1.2ä¸­ï¼Œåˆ›å»ºç«™ç‚¹server1ï¼Œserver2ï¼Œç«¯å£åˆ†åˆ«æ˜¯8001ï¼Œ8002ã€‚
&lt;img src="http://ww4.sinaimg.cn/large/7ce4a9f6gw1e5q1bvyxggj20a906b0td.jpg"
loading="lazy"
alt="HAProxy"
>
server1ä¸­åˆ›å»ºdefault.htmç½‘é¡µï¼Œå¹¶è¾“å‡ºå†…å®¹ï¼š
&lt;img src="http://ww4.sinaimg.cn/large/7ce4a9f6gw1e5q1cqu34rj209101h742.jpg"
loading="lazy"
alt="HAProxy"
>
server2ä¸­åˆ›å»ºdefault.htmç½‘é¡µï¼Œå¹¶è¾“å‡ºå†…å®¹ï¼š
&lt;img src="hhttp://ww3.sinaimg.cn/large/7ce4a9f6gw1e5q1d9w628j207q01fwea.jpg"
loading="lazy"
alt="HAProxy"
>
åœ¨server1å’Œserver2æ ¹ç›®å½•éƒ½åˆ›å»ºä¸€ä¸ªç©ºç™½çš„deploy.txtæ–‡æœ¬æ–‡ä»¶ï¼Œä»¥ä¾¿haproxyç”¨æ¥æ£€æµ‹æœåŠ¡å™¨å¥åº·æƒ…å†µ.&lt;/p>
&lt;h3 id="æµ‹è¯•">&lt;strong>æµ‹è¯•&lt;/strong>&lt;/h3>
&lt;p>åœ¨æµè§ˆå™¨ä¸­è®¿é—®linuxæœåŠ¡å™¨çš„&lt;a class="link" href="http://192.168.1.1/" target="_blank" rel="noopener"
>http://192.168.1.1&lt;/a>åœ°å€ï¼Œå°±èƒ½çœ‹åˆ°server1å’Œserver2çš„ç«™ç‚¹å†…å®¹ï¼Œæ¯æ¬¡åˆ·æ–°ç½‘é¡µä¼šè½®æµæ˜¾ç¤ºserver1å’Œserver2çš„default.htmå†…å®¹ï¼Œå› ä¸ºç°åœ¨æ˜¯ä»¥è½®è¯¢æ–¹å¼åˆ†å‘è¯·æ±‚è¿æ¥çš„ã€‚
å°è¯•æŠŠserver1ä¸­çš„deploy.txtæ–‡ä»¶é‡å‘½åä¸ºdeploy1.txtï¼Œé‡å‘½ååå› ä¸ºhaproxyæ£€æµ‹deploy.txtæ—¶è¿”å›404ï¼Œhaproxyä¼šè®¤ä¸ºæ˜¯æœåŠ¡å™¨æœ‰é—®é¢˜ï¼Œå½“ç»è¿‡4ç§’åï¼Œé‡æ–°åˆ·æ–°ç½‘é¡µï¼Œå¯ä»¥çœ‹åˆ°ç½‘é¡µåªæ˜¾ç¤ºserver2çš„ç½‘é¡µå†…å®¹ã€‚
é‡æ–°æŠŠserver1çš„deploy1.txtæ”¹å›deploy.txtï¼Œé™å¾…4ç§’åå†åˆ·æ–°ç½‘é¡µï¼Œå¯ä»¥çœ‹åˆ°åˆèƒ½æ˜¾ç¤ºserver1çš„ç½‘é¡µå†…å®¹äº†ã€‚&lt;/p>
&lt;p>å‚è€ƒèµ„æ–™ï¼š
&lt;a class="link" href="http://www.igvita.com/2008/12/02/zero-downtime-restarts-with-haproxy/?utm_source=feedburner&amp;amp;utm_campaign=Feed%3A&amp;#43;igvita&amp;#43;%28igvita.com%29&amp;amp;utm_content=feed" target="_blank" rel="noopener"
>Zero-Downtime Restarts with HAProxy&lt;/a>
&lt;a class="link" href="http://haproxy.1wt.eu/download/1.3/doc/architecture.txt" target="_blank" rel="noopener"
>HAProxy Architecture Â Guide&lt;/a>&lt;/p></description></item><item><title>åˆ©ç”¨Eclipse+Scalaæ­å»ºandroidå¼€å‘ç¯å¢ƒ</title><link>https://blog.xenori.com/2012/01/use-eclipse-scala-develop-android/</link><pubDate>Sat, 21 Jan 2012 07:06:00 +0000</pubDate><guid>https://blog.xenori.com/2012/01/use-eclipse-scala-develop-android/</guid><description>&lt;p>&lt;strong>1ã€å®‰è£…JAVA SDK&lt;/strong>&lt;/p>
&lt;p>åˆ°å®˜ç½‘ï¼ˆ&lt;a class="link" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html" target="_blank" rel="noopener"
>http://www.oracle.com/technetwork/java/javase/downloads/index.html&lt;/a>Â ï¼‰ä¸‹è½½æœ€æ–°çš„javase sdkï¼Œæ¨èå®‰è£…1.6ç‰ˆã€‚å®‰è£…å®Œæˆåï¼Œåœ¨windowsç¯å¢ƒå˜é‡ä¸­æ·»åŠ [JAVA_HOME]ï¼Œå¹¶æŠŠè·¯å¾„æŒ‡å‘java sdkçš„å®‰è£…æ ¹ç›®å½•ã€‚&lt;/p>
&lt;p>&lt;img src="http://images.cnblogs.com/cnblogs_com/vento/scala-android-1.jpg"
loading="lazy"
>&lt;/p>
&lt;p>&lt;strong>2ã€å®‰è£…Scala&lt;/strong>&lt;/p>
&lt;p>ä»scalaå®˜ç½‘ï¼ˆ&lt;a class="link" href="http://www.scala-lang.org/downloads" target="_blank" rel="noopener"
>http://www.scala-lang.org/downloads&lt;/a>Â ï¼‰ä¸‹è½½windowsç‰ˆçš„å‹ç¼©åŒ…ï¼Œæ¨è2.8.1 finalç‰ˆï¼Œç›´æ¥è§£å‹åˆ°ç›¸åº”ç›®å½•ä¸­ï¼Œå‡è®¾ä¸ºc:\scala-2.8.1.final\ï¼Œå†æ·»åŠ ä¸‹é¢ä¸¤ä¸ªç¯å¢ƒå˜é‡ï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>æ–°å¢ç¯å¢ƒå˜é‡SCALA_HOMEï¼Œå¹¶è®¾ä¸ºc:\scala-2.8.1.final&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åœ¨å·²æœ‰ç¯å¢ƒå˜é‡Pathä¸­ï¼Œè¿½åŠ å€¼c:\scala-2.8.1.final\bin&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>é€šè¿‡win-&amp;gt;run-cmdæ‰“å¼€å‘½ä»¤è¡Œï¼Œè¾“å…¥scalaï¼Œèƒ½è¾“å‡ºç‰ˆæœ¬ä¿¡æ¯è¯æ˜å·²å®‰è£…æˆåŠŸ&lt;/p>
&lt;p>&lt;strong>3ã€å®‰è£…Eclipse&lt;/strong>&lt;/p>
&lt;p>åˆ°Eclipseå®˜ç½‘ï¼ˆ&lt;a class="link" href="http://www.eclipse.org/downloads/" target="_blank" rel="noopener"
>http://www.eclipse.org/downloads/&lt;/a>ï¼‰ä¸‹è½½ï¼Œç›´æ¥è§£å‹å°±èƒ½ä½¿ç”¨ï¼Œæ¨èä¸‹è½½Eclipse Classic/Eclipse For Javaã€‚&lt;/p>
&lt;p>&lt;strong>4ã€å®‰è£…Android SDK&lt;/strong>&lt;/p>
&lt;p>åˆ°androidå¼€å‘ç¤¾åŒº(&lt;a class="link" href="http://developer.android.com/sdk/index.html" target="_blank" rel="noopener"
>http://developer.android.com/sdk/index.html&lt;/a>)ä¸‹è½½å®‰è£…ã€‚å®‰è£…åè¿›å…¥&lt;strong>å¼€å§‹ &amp;gt; æ‰€æœ‰ç¨‹åº &amp;gt; Android SDK &amp;gt; SDK Manager&lt;/strong>ç¨‹åºï¼Œè½¯ä»¶ä¼šæç¤ºä¸€äº›å¯å®‰è£…çš„æ›´æ–°ï¼Œå¤§å®¶å¯ä»¥æ ¹æ®éœ€è¦é€‰æ‹©å®‰è£…ï¼Œå»ºè®®å®‰è£…ä¸‹é¢å›¾ä¸­æ‰€ç¤ºçš„ï¼š&lt;/p>
&lt;p>&lt;img src="http://images.cnblogs.com/cnblogs_com/vento/QQ%E4%BA%94%E7%AC%94%E6%88%AA%E5%9B%BE%E6%9C%AA%E5%91%BD%E5%90%8D.png"
loading="lazy"
>&lt;/p>
&lt;p>ä¹‹åæ˜¯æ¼«é•¿çš„ç­‰å¾…&amp;hellip;&lt;/p>
&lt;p>&lt;strong>è£…ADT Plugin for Eclipse&lt;/strong>
ç­‰å¾…android sdkå®‰è£…å¥½åï¼Œæ‰“å¼€Eclipseï¼Œè¿›å…¥èœå•&lt;strong>Help&lt;/strong>Â &amp;gt;Â &lt;strong>Install New Software&amp;hellip;&lt;/strong>.ï¼Œç‚¹å‡»**Addï¼Œ**æ·»åŠ é“¾æ¥&lt;/p>
&lt;pre>&lt;code>https://dl-ssl.google.com/android/eclipse/
&lt;/code>&lt;/pre>
&lt;p>å‹¾é€‰æ‰€æœ‰é¡¹ç›®ï¼Œç„¶åç‚¹å‡»Nextå®‰è£…ã€‚&lt;/p>
&lt;p>&lt;img src="http://images.cnblogs.com/cnblogs_com/vento/scala-android-2.jpg"
loading="lazy"
>&lt;/p>
&lt;p>&lt;img src="http://images.cnblogs.com/cnblogs_com/vento/scala-android-3.jpg"
loading="lazy"
>&lt;/p>
&lt;p>å®‰è£…å®Œæˆå¹¶é‡å¯Eclipseåï¼Œè¿›å…¥èœå•&lt;strong>Window &amp;gt; Preferences &amp;gt; Android&lt;/strong>ï¼Œç‚¹å‡»&lt;strong>Browser&lt;/strong>ï¼ŒæŠŠè·¯å¾„æŒ‡å‘android sdkçš„å®‰è£…ç›®å½•ï¼Œç„¶åç‚¹å‡»&lt;strong>Apply&lt;/strong>ã€‚&lt;/p>
&lt;p>&lt;img src="http://images.cnblogs.com/cnblogs_com/vento/scala-android-6.jpg"
loading="lazy"
>
&lt;strong>6ã€å®‰è£…Scala IDE Plugin&lt;/strong>
æ‰“å¼€&lt;strong>Eclipse&lt;/strong>ï¼Œè¿›å…¥èœå•&lt;strong>Help&lt;/strong>Â &amp;gt;Â &lt;strong>Install New Software&amp;hellip;&lt;/strong>.ï¼Œç‚¹å‡»**Addï¼Œ**æ·»åŠ é“¾æ¥&lt;/p>
&lt;pre>&lt;code>http://download.scala-ide.org/releases-28/2.0.0-beta
&lt;/code>&lt;/pre>
&lt;p>å‹¾é€‰å®‰è£…ä¸‹é¢ä¸¤é¡¹ï¼š&lt;/p>
&lt;p>&lt;strong>JDT weavingÂ For scala&lt;/strong>&lt;/p>
&lt;p>**Scala IDE for EclipseÂ **
&lt;img src="http://images.cnblogs.com/cnblogs_com/vento/scala-android-4.jpg"
loading="lazy"
>&lt;/p>
&lt;p>&lt;img src="http://images.cnblogs.com/cnblogs_com/vento/scala-android-5.jpg"
loading="lazy"
>&lt;/p>
&lt;p>&lt;strong>7ã€å®‰è£…TreesakerÂ **
æ‰“å¼€&lt;/strong>Eclipse**ï¼Œè¿›å…¥èœå•&lt;strong>Help&lt;/strong>Â &amp;gt;Â &lt;strong>Install New Software&amp;hellip;&lt;/strong>.ï¼Œç‚¹å‡»**Addï¼Œ**æ·»åŠ é“¾æ¥&lt;/p>
&lt;pre>&lt;code>http://treeshaker.googlecode.com/svn/trunk/update_site/
&lt;/code>&lt;/pre>
&lt;p>å‹¾é€‰treeshaker,ç‚¹å‡»Nextå®‰è£…ã€‚&lt;/p>
&lt;p>&lt;img src="http://images.cnblogs.com/cnblogs_com/vento/scala-android-7.jpg"
loading="lazy"
>&lt;/p>
&lt;p>&lt;img src="http://images.cnblogs.com/cnblogs_com/vento/scala-android-8.jpg"
loading="lazy"
>&lt;/p>
&lt;p>treeshakeræ˜¯ä¸€ä¸ªå¼€æºçš„è¾…åŠ©æ’ä»¶ï¼Œè¯¦ç»†å¯ä»¥è®¿é—®é¡¹ç›®åœ°å€ï¼š&lt;a class="link" href="http://code.google.com/p/treeshaker/" target="_blank" rel="noopener"
>http://code.google.com/p/treeshaker/&lt;/a>&lt;/p>
&lt;p>&lt;strong>8ã€ç®€å•çš„helloworld&lt;/strong>&lt;/p>
&lt;p>Eclipseä¸­æ‰“å¼€&lt;strong>File &amp;gt; New &amp;gt; Project &amp;gt; Android Project&lt;/strong>åˆ›å»ºä¸€ä¸ªæ–°çš„androidå·¥ç¨‹é¡¹ç›®ï¼š&lt;/p>
&lt;p>&lt;img src="http://images.cnblogs.com/cnblogs_com/vento/scala-android-9.jpg"
loading="lazy"
>&lt;/p>
&lt;p>æŒ‰ä¸‹é¢çš„æ­¥éª¤æŠŠjavaçš„é¡¹ç›®è½¬ä¸ºscalaçš„é¡¹ç›®ï¼š&lt;/p>
&lt;p>1ã€æŠŠsrcæ–‡ä»¶å¤¹é‡å‘½åä¸º_srcï¼ˆå³é”®src &amp;gt; Refactor &amp;gt; Rename)
2ã€å³é”®HelloWorldé¡¹ç›® &amp;gt; Configure &amp;gt; Add Scala Nature
3ã€å³é”®HelloWorldé¡¹ç›® &amp;gt; Add/Remove Treeshaker
4ã€æ‰“å¼€èœå•Project &amp;gt; Properties &amp;gt; Buildersï¼Œç¡®ä¿builderçš„é¡ºåºå’Œå¦‚ä¸‹ä¸€æ ·ï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Android Resource Manager&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Android Pre Compiler&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Scala Builder&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Treeshaker&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Android Package Builder&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>5ã€æ‰“å¼€res\layout\main.xmlï¼ŒæŠŠä¸‹é¢çš„å†…å®¹æ›¿æ¢&lt;!-- raw HTML omitted -->ä¸­çš„å†…å®¹ï¼š&lt;/p>
&lt;pre>&lt;code>&amp;lt;TextView
android:layout_width=&amp;quot;fill_parent&amp;quot;
android:layout_height=&amp;quot;wrap_content&amp;quot;
android:text=&amp;quot;@string/hello&amp;quot;
android:id=&amp;quot;@+id/text&amp;quot;
/&amp;gt;
&amp;lt;Button
android:id=&amp;quot;@+id/button&amp;quot;
android:layout_width=&amp;quot;wrap_content&amp;quot;
android:layout_height=&amp;quot;wrap_content&amp;quot;
android:text=&amp;quot;Click me&amp;quot;
/&amp;gt;
&lt;/code>&lt;/pre>
&lt;p>5ã€åˆ é™¤_srcä¸‹çš„æºæ–‡ä»¶HelloWorldActivity.java 6ã€åˆ›å»ºæ–°çš„scalaä»£ç æ–‡ä»¶ï¼Œå³é”®åŒ…com.testï¼Œé€‰æ‹©New &amp;gt; Other &amp;gt; Scala Class &lt;img src="http://images.cnblogs.com/cnblogs_com/vento/scala-android-10.jpg"
loading="lazy"
>Nameè®¾ä¸ºHelloWorldActivtyï¼ŒSuperclassè®¾ä¸ºandroid.app.Activity 7ã€ä¿®æ”¹HelloWorldActivity.scalaæ–‡ä»¶ï¼š å¢åŠ å¯¼å…¥ï¼š&lt;/p>
&lt;pre>&lt;code>importÂ android.os.Bundle
importÂ android.view.View
importÂ android.widget.TextView
importÂ android.widget.Button
importÂ R._
&lt;/code>&lt;/pre>
&lt;p>HelloWorldAcitvityç±»ä¸­å¢åŠ ä»£ç ï¼š&lt;/p>
&lt;pre>&lt;code>override def onCreate(savedInstanceState: Bundle) {
super.onCreate(savedInstanceState)
setContentView(R.layout.main)
val textView = findViewById(R.id.text).asInstanceOf[TextView]
val button = findViewById(R.id.button).asInstanceOf[Button]
button.setOnClickListener((v: View) =&amp;gt; textView.setText(&amp;quot;Hello Scala&amp;quot;))
}
implicit def func2OnClickListener(func : (View) =&amp;gt; Unit) : View.OnClickListener = {
return new View.OnClickListener() {
override def onClick(v: View) = func(v)
}
}
&lt;/code>&lt;/pre>
&lt;p>8ã€é€šè¿‡èœå•Run &amp;gt; Runï¼Œåº”è¯¥èƒ½æ­£å¸¸ç¼–è¯‘å¹¶åœ¨androidæ¨¡æ‹Ÿå™¨ä¸­è¿è¡Œäº†&lt;/p>
&lt;p>æ‰©å±•é˜…è¯»ï¼š&lt;/p>
&lt;p>&lt;a class="link" href="http://code.google.com/p/treeshaker/wiki/CreateNewScalaProject" target="_blank" rel="noopener"
>CreateNewScalaProject&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="http://www.slideshare.net/papamitra/scalaandroid" target="_blank" rel="noopener"
>Scalaã§Androidã‚¢ãƒ—ãƒªé–‹ç™ºÂ &lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="http://www.nevercertain.com/2011/02/18/scala-android-intellij-win-part-3.html" target="_blank" rel="noopener"
>Building Android Apps with Scala - IntelliJÂ &lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="http://lamp.epfl.ch/~michelou/android/" target="_blank" rel="noopener"
>Exploring Android With Scala&lt;/a>&lt;/p></description></item><item><title>ä½¿windowsæœåŠ¡å®‰è£…åç§°å¯é…ç½®</title><link>https://blog.xenori.com/2012/01/config-windows-services-install-name/</link><pubDate>Thu, 12 Jan 2012 07:42:04 +0000</pubDate><guid>https://blog.xenori.com/2012/01/config-windows-services-install-name/</guid><description>&lt;p>æœ‰æ—¶ï¼Œæˆ‘ä»¬å®‰è£…çš„windowsæœåŠ¡å¯èƒ½æ˜¯ä¸ªæ¡†æ¶ï¼Œåœ¨åŒä¸€æœåŠ¡å™¨ä¸Šå¯èƒ½æœåŠ¡äºä¸åŒçš„ç³»ç»Ÿï¼Œä¸ºäº†ä½¿æœåŠ¡åç§°ä¸å†²çªï¼Œéœ€è¦æŠŠæœåŠ¡åç§°æ›´æ”¹ä¸ºå¯é…ç½®ã€‚
å› ä¸ºServiceInstallerèƒ½ç›´æ¥è®¾ç½®å®‰è£…æœåŠ¡çš„åç§°å’Œæè¿°ï¼Œæ‰€ä»¥å¾ˆå®¹æ˜“å°±èƒ½å†™å‡ºä¸‹é¢çš„ä»£ç ï¼š&lt;/p>
&lt;pre>&lt;code>serviceInstaller.ServiceName = ConfigurationManager.AppSetting[&amp;quot;ServiceName&amp;quot;];
serviceInstaller.Description = ConfigurationManager.AppSetting[&amp;quot;ServiceDescription&amp;quot;];
&lt;/code>&lt;/pre>
&lt;p>ç¼–è¯‘æ‰§è¡Œå®‰è£…ï¼Œå¯æƒœæŠ›å‡ºäº†å¼‚å¸¸ï¼Œå®‰è£…å¤±è´¥äº†ã€‚
&lt;a class="link" href="http://bitxeno.me/wp-content/uploads/2012/01/QQ%e4%ba%94%e7%ac%94%e6%88%aa%e5%9b%be%e6%9c%aa%e5%91%bd%e5%90%8d.png" target="_blank" rel="noopener"
>&lt;img src="http://bitxeno.me/wp-content/uploads/2012/01/QQ%e4%ba%94%e7%ac%94%e6%88%aa%e5%9b%be%e6%9c%aa%e5%91%bd%e5%90%8d.png"
loading="lazy"
>&lt;/a>
å¤±è´¥çš„åŸå› æ˜¯ï¼Œæ‰§è¡Œå®‰è£…æœåŠ¡çš„ç¨‹åºæ˜¯InstallUtil.exeï¼Œå®‰è£…é˜¶æ®µä¸ä¼šè‡ªåŠ¨åŠ è½½æœåŠ¡çš„app.configé…ç½®æ–‡ä»¶ï¼Œåªä¼šåŠ è½½å…¨å±€çš„machine.configï¼Œéœ€æ”¹ä¸ºæ‰‹åŠ¨åŠ è½½app.configå¹¶è¯»å–ã€‚
ç¡®å®šè§£å†³æ€è·¯åï¼Œæˆ‘å†™å‡ºäº†ä¸‹é¢çš„ä»£ç ï¼š&lt;/p>
&lt;p>var targetDirectory = AppDomain.CurrentDomain.BaseDirectory;
var configPath = Path.Combine(targetDirectory, &amp;ldquo;Service.exe&amp;rdquo;);
var config = ConfigurationManager.OpenExeConfiguration(configPath);
serviceInstaller.ServiceName = config.AppSettings.Settings[&amp;ldquo;ServiceName&amp;rdquo;].Value;
serviceInstaller.Description = config.AppSettings.Settings[&amp;ldquo;ServiceDescription&amp;rdquo;].Value;&lt;/p>
&lt;p>å†æ¬¡ç¼–è¯‘è¿è¡Œï¼Œå‘ç°æœ¬æœºä¸Šå®‰è£…æˆåŠŸäº†ï¼šï¼‰ï¼Œæ•´ä¸ªç¨‹åºæ‰“åŒ…äº¤ç»™å¦ä¸€ä¸ªåŒäº‹åœ¨æœåŠ¡å™¨ä¸Šå®‰è£…ï¼Œå‘ç°å®‰è£…è¿‡ç¨‹åˆå‡ºé”™äº†ã€‚ã€‚ã€‚
è¿‡å»çœ‹äº†ä¸€ä¸‹ï¼Œå‘ç°é”™è¯¯çš„åŸå› æ˜¯ï¼Œæœ¬æœºå®‰è£…æ—¶ï¼ŒInstallUtilç¨‹åºæˆ‘æ˜¯æ”¾åœ¨å’ŒæœåŠ¡åŒä¸€ç›®å½•ï¼Œè€ŒæœåŠ¡å™¨ä¸Šçš„InstallUtilæ˜¯å’ŒæœåŠ¡åœ¨ä¸åŒç›®å½•ã€‚çœ‹æ¥AppDomain.CurrentDomain.BaseDirectoryè·å–åˆ°çš„æ˜¯InstallUtilçš„åº”ç”¨ç¨‹åºåŸŸç›®å½•è·¯å¾„ï¼Œè€Œä¸æ˜¯æœåŠ¡çš„ã€‚
ä¹‹åä½¿ç”¨åå°„æ¥è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œä»£ç å¦‚ä¸‹ï¼š&lt;/p>
&lt;pre>&lt;code>var path = System.Reflection.Assembly.GetExecutingAssembly().Location;
var targetDirectory = System.IO.Path.GetDirectoryName(path);
var configPath = Path.Combine(targetDirectory, &amp;quot;Service.exe&amp;quot;);
var config = ConfigurationManager.OpenExeConfiguration(configPath);
serviceInstaller.ServiceName = config.AppSettings.Settings[&amp;quot;ServiceName&amp;quot;].Value;
serviceInstaller.Description = config.AppSettings.Settings[&amp;quot;ServiceDescription&amp;quot;].Value;
&lt;/code>&lt;/pre></description></item><item><title>è·å–å®¢æˆ·ç«¯çš„çœŸå®ipä»£ç æ”¹è¿›</title><link>https://blog.xenori.com/2012/01/get-client-ip/</link><pubDate>Mon, 09 Jan 2012 07:39:49 +0000</pubDate><guid>https://blog.xenori.com/2012/01/get-client-ip/</guid><description>&lt;p>ç°åœ¨ç³»ç»Ÿä¸­å¸¸ç”¨çš„è·å–å®¢æˆ·ç«¯çœŸå®ipçš„ä»£ç å¦‚ä¸‹ï¼š&lt;/p>
&lt;pre>&lt;code>// è·å–IPåœ°å€
protected string GetIPAddress()
{
string result = &amp;quot;&amp;quot;;
try
{
//é€è¿‡ä»£ç†å–å®¢æˆ·ç«¯ip
result = HttpContext.Current.Request.ServerVariables[&amp;quot;HTTP_X_FORWARDED_FOR&amp;quot;] ?? &amp;quot;&amp;quot;;
if (result == &amp;quot;&amp;quot;)
{
//è¿æ¥ä¸»æœºip
result = HttpContext.Current.Request.ServerVariables[&amp;quot;REMOTE_ADDR&amp;quot;] ?? &amp;quot;&amp;quot;;
}
if (result == &amp;quot;&amp;quot;)
{
result = HttpContext.Current.Request.UserHostAddress;
}
}
catch (Exception ex)
{
}
return result;
}
&lt;/code>&lt;/pre>
&lt;p>è¿™æ®µä»£ç æœ‰ä¸¤ä¸ªé—®é¢˜ï¼š
1ã€æ ¹æ®&lt;a class="link" href="http://www.openinfo.co.uk/apache/index.html" target="_blank" rel="noopener"
>è¿™ç¯‡æ–‡ç« &lt;/a>è¯´æ˜ï¼Œå½“è¯·æ±‚ç»å¸¸å¤šä¸ªä»£ç†æ—¶ï¼ŒHTTP_X_FORWARDED_FORå¯èƒ½ä¼šé™„åŠ ä¸Šå¤šä¸ªæœåŠ¡å™¨ipï¼Œæ ¼å¼å¦‚ä¸‹ï¼š&lt;/p>
&lt;p>X-Forwarded-For: client1, proxy1, proxy2, &amp;hellip;&lt;/p>
&lt;p>æ­£ç¡®çš„å®¢æˆ·ç«¯ipåº”è¯¥åªæ˜¯ç¬¬ä¸€ä¸ªipåœ°å€&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;p>2ã€å½“ç”¨æˆ·æ‰‹æœºæ˜¯ç”¨CMWAPè®¿é—®ç½‘ç«™æ—¶ï¼Œä¸Šé¢ä»£ç è¿”å›çš„æ˜¯10.xxxçš„ç§æœ‰ç½‘ç»œipï¼Œè€ŒçœŸå®çš„æœåŠ¡å™¨ipæ˜¯åœ¨REMOTE_ADDRä¸­ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
&lt;a class="link" href="http://bitxeno.me/wp-content/uploads/2012/01/serverip.jpg" target="_blank" rel="noopener"
>&lt;img src="http://bitxeno.me/wp-content/uploads/2012/01/serverip-300x238.jpg"
loading="lazy"
>&lt;/a>
æ‰€ä»¥å¯¹äºè·å–æ¥çš„ipï¼Œéœ€è¦åšæ˜¯å¦ç§æœ‰ç½‘ç»œipçš„åˆ¤æ–­ã€‚æ‰€æœ‰ç§æœ‰ç½‘ç»œçš„ipæ®µå¦‚ä¸‹ï¼š&lt;/p>
&lt;pre>&lt;code>private static readonly long[,] privateIpRange = { //ç§æœ‰ç½‘ç»œipæ®µ,é•¿æ•´å½¢è¡¨ç¤º
{0,50331647}, //{&amp;quot;0.0.0.0&amp;quot;,&amp;quot;2.255.255.255&amp;quot;},
{167772160,184549375}, //{&amp;quot;10.0.0.0&amp;quot;,&amp;quot;10.255.255.255&amp;quot;},
{2130706432,2147483647}, //{&amp;quot;127.0.0.0&amp;quot;,&amp;quot;127.255.255.255&amp;quot;},
{2851995648,2852061183}, //{&amp;quot;169.254.0.0&amp;quot;,&amp;quot;169.254.255.255&amp;quot;},
{2886729728,2887778303}, //{&amp;quot;172.16.0.0&amp;quot;,&amp;quot;172.31.255.255&amp;quot;},
{3221225984,3221226239}, //{&amp;quot;192.0.2.0&amp;quot;,&amp;quot;192.0.2.255&amp;quot;},
{3232235520,3232301055}, //{&amp;quot;192.168.0.0&amp;quot;,&amp;quot;192.168.255.255&amp;quot;},
{4294967040,4294967295}}; //{&amp;quot;255.255.255.0&amp;quot;,&amp;quot;255.255.255.255&amp;quot;}
&lt;/code>&lt;/pre></description></item><item><title>é€šè¿‡æ–°æµªæ¥å£æŠ“å–ipåº“</title><link>https://blog.xenori.com/2012/01/crawl-sina-ip-data/</link><pubDate>Mon, 09 Jan 2012 07:23:24 +0000</pubDate><guid>https://blog.xenori.com/2012/01/crawl-sina-ip-data/</guid><description>&lt;p>æ–°æµªæœ‰å¼€æ”¾ipæŸ¥è¯¢çš„æ¥å£ï¼ˆ&lt;a class="link" href="http://int.dpool.sina.com.cn/iplookup/iplookup.php?format=json&amp;amp;ip=123.124.2.85" target="_blank" rel="noopener"
>http://int.dpool.sina.com.cn/iplookup/iplookup.php?format=json&amp;amp;ip=123.124.2.85&lt;/a>ï¼‰ï¼Œé€šè¿‡ä¸æ–­æŸ¥è¯¢å°±èƒ½æŠ“å–åˆ°ipä¿¡æ¯ã€‚ä¸è¿‡è¦éå†æ‰€æœ‰çš„ipåœ°å€ä¸ç°å®ï¼Œæ•°æ®å­˜å‚¨å’ŒæŸ¥è¯¢éƒ½æ˜¯é—®é¢˜ï¼Œä¸€èˆ¬æˆ‘ä»¬é¢å¯¹çš„æ˜¯ä¸­å›½çš„ç”¨æˆ·ï¼Œåªéœ€è¦éå†æŠ“å–ä¸‹ä¸­å›½èŒƒå›´çš„ipä¿¡æ¯å°±è¡Œï¼Œè€Œä¸”ipåœ°å€æœ€åä¸€ä½çš„256ä¸ªipä¸€èˆ¬åˆ†é…åˆ°åŒä¸€åœ°åŒºï¼Œæ‰€ä»¥æœ€åä¸€ä½åªéœ€éå†.0çš„ipå°±å¯ä»¥äº†ã€‚
ç›®å‰ip4åœ°å€å·²ç»åˆ†é…å®Œï¼Œä¸­å›½çš„ipæ®µå¯ä»¥åœ¨ä»¥ä¸‹ç½‘å€æ‰¾åˆ°ï¼š
&lt;a class="link" href="https://www.countryipblocks.net/e_country_data/CN_range.txt" target="_blank" rel="noopener"
>https://www.countryipblocks.net/e_country_data/CN_range.txt&lt;/a>
é¦–å…ˆéœ€è¦å¤„ç†ï¼ŒæŠŠä¸Šé¢çš„ipæ®µè½¬æ¢ä¸ºå…·ä½“çš„ipåœ°å€ï¼š&lt;/p>
&lt;p>private static List&lt;!-- raw HTML omitted --> HandleIpRange()
{
var list = new List&lt;!-- raw HTML omitted -->();
var lines = File.ReadAllLines(&amp;ldquo;CN_range.txt&amp;rdquo;);
var pattern = @&amp;quot;(\d{1,3}.\d{1,3}.\d{1,3}.\d{1,3})\s-\s(\d{1,3}.\d{1,3}.\d{1,3}.\d{1,3})&amp;quot;;
foreach (var line in lines)
{
var match = Regex.Match(line, pattern, RegexOptions.IgnoreCase);
if (match.Success)
{
var begin = match.Groups[1].Value;
var end = match.Groups[2].Value;&lt;/p>
&lt;pre>&lt;code> var beginInt = Ip3ToInt(begin);
var endInt = Ip3ToInt(end);
while (beginInt &amp;lt;= endInt)
{
list.Add(IntToIp3(beginInt));
beginInt += 1;
}
}
}
return list;
}
private static int Ip3ToInt(string ip4)
{
var arr = ip4.Split('.');
var p0 = int.Parse(arr[0]);
var p1 = int.Parse(arr[1]);
var p2 = int.Parse(arr[2]);
return (p0 &amp;lt;&amp;lt; 16) | (p1 &amp;lt;&amp;lt; 8) | p2;
}
private static string IntToIp3(int s)
{
var p0 = s &amp;gt;&amp;gt; 16 &amp;amp; 0xFF;
var p1 = s &amp;gt;&amp;gt; 8 &amp;amp; 0xFF;
var p2 = s &amp;amp; 0xFF;
return string.Format(&amp;quot;{0}.{1}.{2}.0&amp;quot;, p0, p1, p2);
}
&lt;/code>&lt;/pre>
&lt;p>å‰©ä¸‹åªéœ€ç”¨å¤šçº¿ç¨‹è¯·æ±‚æ–°æµªæ¥å£ï¼ŒæŠŠç»“æœä¿å­˜åˆ°æ•°æ®åº“å°±å¯ä»¥äº†ã€‚&lt;/p>
&lt;p>&lt;strong>æ•°æ®ä¿®æ­£ï¼š&lt;/strong>
ä»æ–°æµªæ¥å£æŸ¥è¯¢å›æ¥çš„æ•°æ®ï¼Œæœ‰ä¸€éƒ¨åˆ†å›½å®¶å’Œçœå¸‚éƒ½æ˜¯ç©ºçš„ï¼Œè¿˜æœ‰ä¸€éƒ¨åˆ†å›½å®¶æ˜¯ç¾å›½ç­‰ï¼Œè¿™éƒ¨åˆ†æ•°æ®éœ€è¦ä¿®æ­£ä¸‹ã€‚æ•°æ®ä¿®æ­£å¯ä»¥æŸ¥è¯¢ip138ç½‘ç«™ï¼Œå®ƒçš„æ•°æ®æ¥æºæ˜¯APNICï¼Œæ¯”è¾ƒæ–°ï¼Œè¯·æ±‚åœ°å€å¦‚ä¸‹ï¼ˆ&lt;a class="link" href="http://www.ip138.com/ips8.asp?action=2&amp;amp;ip=223.72.166.0" target="_blank" rel="noopener"
>http://www.ip138.com/ips8.asp?action=2&amp;amp;ip=223.72.166.0&lt;/a>ï¼‰ã€‚æŠŠè¯·æ±‚å›æ¥çš„å†…å®¹ç”¨æ­£åˆ™è§£æå¹¶updateåˆ°æ•°æ®åº“å°±å¯ä»¥äº†ã€‚&lt;/p>
&lt;p>&lt;strong>è¿›ä¸€æ­¥å‡å°‘æ•°æ®å¤§å°ï¼š&lt;/strong>
æ–°æµªæ¥å£è¿”å›çš„å†…å®¹éƒ½ä¼šå¸¦æœ‰startå’Œendçš„ipæ®µï¼Œè¡¨ç¤ºipæ®µä¸­çš„ipéƒ½æ˜¯å±äºåŒä¸€åœ°åŒºã€‚å¯ä»¥æŠŠstartå’Œendçš„ipè½¬æ¢ä¸ºintå€¼ï¼Œå†æŠŠintè¡¨ç¤ºçš„ipæ®µå’Œåœ°åŒºä¿¡æ¯ä¿å­˜åˆ°å¦ä¸€å¼ è¡¨ä¸­ã€‚æŸ¥è¯¢ç”¨æˆ·ipæ‰€å±æ—¶ï¼Œåªéœ€æŠŠç”¨æˆ·ipä¹Ÿè½¬æ¢ä¸ºintå€¼ï¼Œå†æ‰¾å‡ºintå€¼æ‰€åœ¨çš„ipæ®µå¯¹åº”çš„åœ°åŒºå°±å¯ä»¥äº†ã€‚&lt;/p></description></item><item><title>å¼€æºçº¿ç¨‹æ± ç»„ä»¶SmartThreadPool</title><link>https://blog.xenori.com/2012/01/smartthreadpool/</link><pubDate>Mon, 09 Jan 2012 07:11:38 +0000</pubDate><guid>https://blog.xenori.com/2012/01/smartthreadpool/</guid><description>&lt;p>1ã€ä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨çº¿ç¨‹æ± (Thread Poolï¼‰&lt;/p>
&lt;ul>
&lt;li>
&lt;p>**å‡å°‘çº¿ç¨‹é—´ä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚**çº¿ç¨‹æ‰§è¡Œä¸€å®šçš„æ—¶é—´ç‰‡åï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æŠŠcpuåˆ‡æ¢ç»™å¦ä¸€ä¸ªçº¿ç¨‹ä½¿ç”¨ï¼Œè¿™æ—¶è¿˜éœ€è¦ä¿å­˜å½“å‰çš„çº¿ç¨‹ä¸Šä¸‹æ–‡çŠ¶æ€ï¼Œå¹¶åŠ è½½æ–°çº¿ç¨‹çš„ä¸Šä¸‹æ–‡çŠ¶æ€ã€‚å½“ç¨‹åºä¸­æœ‰å¤§é‡çš„çº¿ç¨‹æ—¶ï¼Œæ¯ä¸ªçº¿ç¨‹åˆ†å¾—çš„æ—¶é—´ç‰‡ä¼šè¶Šæ¥è¶Šå°‘ï¼Œå¯èƒ½ä¼šå‡ºç°çº¿ç¨‹æœªå¤„ç†å¤šå°‘æ“ä½œï¼Œå°±éœ€è¦åˆ‡æ¢åˆ°å¦ä¸€çº¿ç¨‹ï¼Œè¿™æ ·é¢‘ç¹çš„çº¿ç¨‹é—´ä¸Šä¸‹æ–‡åˆ‡æ¢ä¼šèŠ±è´¹å¤§é‡çš„cpuæ—¶é—´ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>**å‡å°‘å†…å­˜å ç”¨ã€‚**ç³»ç»Ÿæ¯åˆ›å»ºä¸€æ¡ç‰©ç†çº¿ç¨‹ï¼Œéœ€è¦å¤§æ¦‚èŠ±è´¹1MBçš„å†…å­˜ç©ºé—´ï¼Œè®¸å¤šç¨‹åºå–œæ¬¢å…ˆåˆ›å»ºå¤šæ¡ç‰©ç†çº¿ç¨‹ï¼Œå¹¶å‘¨æœŸè½®è¯¢æ¥å¤„ç†å„è‡ªçš„ä»»åŠ¡ï¼Œè¿™æ ·æ—¢æ¶ˆè€—äº†çº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢çš„æ—¶é—´ï¼Œè¿˜æµªè´¹äº†å†…å­˜ã€‚è¿™äº›ä»»åŠ¡å¯èƒ½åªéœ€è¦ä¸€æ¡çº¿ç¨‹å°±èƒ½æ»¡è¶³è¦æ±‚ã€‚å‡å¦‚æŸä¸€ä»»åŠ¡éœ€è¦æ‰§è¡Œè¾ƒé•¿çš„å‘¨æœŸï¼Œçº¿ç¨‹æ± è¿˜å¯ä»¥è‡ªåŠ¨å¢åŠ çº¿ç¨‹ï¼Œå¹¶åœ¨ç©ºé—²æ—¶ï¼Œé”€æ¯çº¿ç¨‹ï¼Œé‡Šæ”¾å ç”¨çš„å†…å­˜ã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>2ã€ä¸ºä»€ä¹ˆä¸ä½¿ç”¨.Neté»˜è®¤çš„çº¿ç¨‹æ± &lt;/p>
&lt;ul>
&lt;li>.Neté»˜è®¤çš„çº¿ç¨‹æ± (ThreadPool)æ˜¯ä¸€ä¸ªé™æ€ç±»ï¼Œæ‰€ä»¥æ˜¯æ²¡åŠæ³•è‡ªå·±åˆ›å»ºä¸€ä¸ªæ–°çš„ç¨‹åºæ± çš„ã€‚é»˜è®¤çš„çº¿ç¨‹æ± ä¸åº”ç”¨ç¨‹åºåŸŸ(AppDomain)æŒ‚é’©ï¼Œä¸€ä¸ªAppDomainåªæœ‰ä¸€ä¸ªçº¿ç¨‹æ± ã€‚å‡å¦‚åœ¨çº¿ç¨‹æ± ä¸­æ‰§è¡Œäº†ä¸€ä¸ªå‘¨æœŸè¾ƒé•¿çš„ä»»åŠ¡ï¼Œä¸€ç›´å ç”¨ç€å…¶ä¸­ä¸€ä¸ªçº¿ç¨‹ï¼Œå¯èƒ½å°±ä¼šå½±å“åˆ°åº”ç”¨ç¨‹åºåŸŸä¸­çš„å…¶ä»–ç¨‹åºçš„æ€§èƒ½ã€‚ä¾‹å¦‚ï¼Œå‡å¦‚åœ¨Asp.Netçš„çº¿ç¨‹æ± ä¸­æ‰§è¡Œä¸€ä¸ªå‘¨æœŸè¾ƒé•¿çš„ä»»åŠ¡ï¼Œå°±ä¼šå½±å“è¯·æ±‚çš„å¹¶å‘å¤„ç†èƒ½åŠ›ï¼ˆçº¿ç¨‹æ± é»˜è®¤æœ‰ä¸ªæœ€å¤§çº¿ç¨‹æ•°ï¼‰ã€‚
3ã€SmartThreadPoolç‰¹æ€§å’Œä¼˜ç‚¹&lt;/li>
&lt;/ul>
&lt;p>&lt;a class="link" href="http://smartthreadpool.codeplex.com/" target="_blank" rel="noopener"
>SmartThreadPool&lt;/a>ç‰¹æ€§å¦‚ä¸‹ï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;strong>æ± ä¸­çš„çº¿ç¨‹æ•°é‡ä¼šæ ¹æ®è´Ÿè½½è‡ªåŠ¨å¢å‡&lt;/strong>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>ä»»åŠ¡å¼‚æ­¥æ‰§è¡Œåå¯ä»¥è¿”å›å€¼&lt;/strong>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å¤„äºä»»åŠ¡é˜Ÿåˆ—ä¸­æœªæ‰§è¡Œçš„ä»»åŠ¡å¯ä»¥å–æ¶ˆ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>å›è°ƒå‡½æ•°å¯ä»¥ç­‰å¾…å¤šä¸ªä»»åŠ¡éƒ½æ‰§è¡Œå®Œæˆåå†è§¦å‘&lt;/strong>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ä»»åŠ¡å¯ä»¥æœ‰ä¼˜å…ˆçº§(priority)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ä»»åŠ¡å¯ä»¥åˆ†ç»„&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>æ”¯æŒæ³›å‹Action&lt;!-- raw HTML omitted --> å’Œ Func&lt;!-- raw HTML omitted -->&lt;/strong>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>æœ‰æ€§èƒ½ç›‘æµ‹æœºåˆ¶&lt;/strong>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>4ã€ä½¿ç”¨ç¤ºä¾‹
æœ€ç®€å•çš„ä½¿ç”¨æ–¹æ³•ï¼š&lt;/p>
&lt;pre>&lt;code> // åˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ± 
SmartThreadPool smartThreadPool = new SmartThreadPool();
// æ‰§è¡Œä»»åŠ¡
smartThreadPool.QueueWorkItem(() =&amp;gt;
{
Console.WriteLine(&amp;quot;Hello World!&amp;quot;);
});
&lt;/code>&lt;/pre>
&lt;p>å¸¦è¿”å›å€¼çš„ä»»åŠ¡ï¼š&lt;/p>
&lt;pre>&lt;code>// åˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ± 
SmartThreadPool smartThreadPool = new SmartThreadPool();
// æ‰§è¡Œä»»åŠ¡
var result = smartThreadPool.QueueWorkItem(() =&amp;gt;
{
var sum = 0;
for (var i = 0; i &amp;lt; 10; i++)
sum += i;
return sum;
});
// è¾“å‡ºè®¡ç®—ç»“æœ
Console.WriteLine(result.Result);
&lt;/code>&lt;/pre>
&lt;p>ç­‰å¾…å¤šä¸ªä»»åŠ¡æ‰§è¡Œå®Œæˆï¼š&lt;/p>
&lt;pre>&lt;code>// åˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ± 
SmartThreadPool smartThreadPool = new SmartThreadPool();
// æ‰§è¡Œä»»åŠ¡
var result1 = smartThreadPool.QueueWorkItem(() =&amp;gt;
{
//æ¨¡æ‹Ÿè®¡ç®—è¾ƒé•¿æ—¶é—´
Thread.Sleep(5000);
return 3;
});
var result2 = smartThreadPool.QueueWorkItem(() =&amp;gt;
{
//æ¨¡æ‹Ÿè®¡ç®—è¾ƒé•¿æ—¶é—´
Thread.Sleep(3000);
return 5;
});
bool success = SmartThreadPool.WaitAll(
new IWorkItemResult[] { result1, result2 });
if (success)
{
// è¾“å‡ºç»“æœ
Console.WriteLine(result1.Result);
Console.WriteLine(result2.Result);
}
&lt;/code>&lt;/pre>
&lt;p>5ã€ç»“è®º
ä½¿ç”¨SmartThreadPoolå¯ä»¥ç®€å•å°±å®ç°æ”¯æŒå¤šçº¿ç¨‹çš„ç¨‹åºï¼Œç”±çº¿ç¨‹æ± æ¥ç®¡ç†çº¿ç¨‹ï¼Œå¯ä»¥å‡å°‘æ­»é”çš„å‡ºç°ã€‚SmartThreadPoolè¿˜æ”¯æŒç®€å•çš„ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å¼ï¼Œå½“ä¸éœ€è¦å¯¹ä»»åŠ¡è¿›è¡ŒæŒä¹…åŒ–æ—¶ï¼Œè¿˜æ˜¯å¾ˆå¥½ç”¨çš„ã€‚&lt;/p>
&lt;p>6ã€æ‰©å±•é˜…è¯»&lt;/p>
&lt;p>&lt;a class="link" href="http://www.codeproject.com/KB/threads/smartthreadpool.aspx" target="_blank" rel="noopener"
>http://www.codeproject.com/KB/threads/smartthreadpool.aspx&lt;/a>
&lt;a class="link" href="http://smartthreadpool.codeplex.com/" target="_blank" rel="noopener"
>http://smartthreadpool.codeplex.com/&lt;/a>
&lt;a class="link" href="http://www.albahari.com/threading/" target="_blank" rel="noopener"
>http://www.albahari.com/threading/&lt;/a>&lt;/p></description></item><item><title>å°å·§æ–¹ä¾¿çš„ORMç±»åº“â€”â€”PetaPoco</title><link>https://blog.xenori.com/2012/01/petapoco/</link><pubDate>Mon, 09 Jan 2012 05:11:52 +0000</pubDate><guid>https://blog.xenori.com/2012/01/petapoco/</guid><description>&lt;p>&lt;a class="link" href="http://www.toptensoftware.com/petapoco/" target="_blank" rel="noopener"
>PetaPoco&lt;/a>æ˜¯ä¸€ä¸ªç®€å•è½»å·§çš„ormå¼€æºç±»åº“ï¼Œå…¨éƒ¨åŠŸèƒ½åªæœ‰ä¸€ä¸ªæ–‡ä»¶ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿é›†æˆåˆ°é¡¹ç›®ä¸­ã€‚ä»£æ›¿SqlHelperè¾…åŠ©ç±»çš„ä¸äºŒé€‰æ‹©ã€‚ã€‚ã€‚&lt;/p>
&lt;pre>&lt;code>ä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š
- æ˜ å°„å®ä½“ç±»ï¼Œæ”¯æŒenumï¼ŒNullableç­‰ç±»å‹ï¼Œå¯åŒæ—¶æ˜ å°„å¤šä¸ªå®ä¾‹ã€‚
- æ”¯æŒåˆ†é¡µ
- ä»¥@0ç­‰å ä½ç¬¦ä»£æ›¿SqlParameterï¼Œä¼ å‚æ›´æ–¹ä¾¿
- å¸¦æœ‰sqlå­—ç¬¦ä¸²æ„é€ å™¨ï¼Œæ„é€ æ¡ä»¶æŸ¥è¯¢sqléå¸¸æ–¹ä¾¿
- updateæ”¯æŒæŒ‡å®šå­—æ®µæ›´æ–°
- æ”¯æŒT4æ¨¡æ¿
&lt;/code>&lt;/pre>
&lt;p>&lt;strong>ä½¿ç”¨ç¤ºä¾‹ï¼š&lt;/strong>
ä½¿ç”¨å‰éœ€è¦å…ˆnewä¸€ä¸ªæ•°æ®åº“å®ä¾‹ï¼š&lt;/p>
&lt;pre>&lt;code>var db = new PetaPoco.Database(&amp;quot;ConnectionName&amp;quot;);
&lt;/code>&lt;/pre>
&lt;p>&lt;!-- raw HTML omitted -->å¯ä»¥æ”¾å¿ƒåœ°æŠŠdbå®ä¾‹è®¾ä¸ºstaticï¼Œå› ä¸ºå®ä¾‹ä¸­æ²¡æœ‰SqlConnectionçš„å¼•ç”¨ï¼Œè¿æ¥æ¯æ¬¡æ‰§è¡Œå®Œåï¼Œä¼šè‡ªåŠ¨å…³é—­ã€‚&lt;!-- raw HTML omitted -->
å‘ç°æœ‰äººåæ˜ åœ¨webä¸Šä½¿ç”¨staticçš„dbå®ä¾‹è¿˜æ˜¯ä¼šæœ‰é—®é¢˜ï¼Œå…·ä½“å¯çœ‹é“¾æ¥(&lt;a class="link" href="https://github.com/toptensoftware/PetaPoco/issues/103" target="_blank" rel="noopener"
>Link1&lt;/a>)ï¼ŒStackOverflowä¸­æ¨èwebä¸­æ¯ä¸ªè¯·æ±‚ä½¿ç”¨ä¸€ä¸ªå•ç‹¬çš„dbå®ä¾‹(&lt;a class="link" href="http://stackoverflow.com/questions/7052350/how-to-create-a-dal-using-petapoco/9995413#9995413" target="_blank" rel="noopener"
>Link2&lt;/a>).
1ã€å–ä¸€æ¡è®°å½•&lt;/p>
&lt;pre>&lt;code>var a = db.SingleOrDefault&amp;lt;article&amp;gt;(&amp;quot;SELECT * FROM articles WHERE article_id=@0&amp;quot;, 123));&amp;lt;/article&amp;gt;
&lt;/code>&lt;/pre>
&lt;p>2ã€åˆ†é¡µ&lt;/p>
&lt;pre>&lt;code>// åˆ†é¡µå®è´¨åœ¨å†…éƒ¨æ˜¯ç”¨Row_Number()é‡å†™äº†sqlï¼Œæ”¯æŒjoin
var result=db.Page&amp;lt;article&amp;gt;(1, 20, &amp;quot;SELECT * FROM articles WHERE category=@0 ORDER BY date_created DESC&amp;quot;, &amp;quot;coolstuff&amp;quot;);&amp;lt;/article&amp;gt;
&lt;/code>&lt;/pre>
&lt;p>ä¸Šé¢çš„åˆ†é¡µsqlï¼Œä¼šè¢«æ”¹å†™ä¸ºsqlï¼š&lt;/p>
&lt;pre>&lt;code>SELECT * FROM (
SELECT ROW_NUMBER() OVER (ORDER BY date_created DESC) peta_rn, * FROM articles WHERE category=@0 ) peta_paged
WHERE peta_rn&amp;gt;@1 AND peta_rn
&lt;/code>&lt;/pre>
&lt;p>3ã€éƒ¨åˆ†æ›´æ–°&lt;/p>
&lt;pre>&lt;code>db.Update(&amp;quot;articles&amp;quot;, &amp;quot;article_id&amp;quot;, new { title=&amp;quot;New title&amp;quot; }, 123);
&lt;/code>&lt;/pre>
&lt;p>4ã€sqlæ¡ä»¶æ„é€ &lt;/p>
&lt;pre>&lt;code>var sql = PetaPoco.Sql.Builder
.Append(&amp;quot;SELECT * FROM articles&amp;quot;)
.Append(&amp;quot;WHERE article_id=@0&amp;quot;, id)
.Append(&amp;quot;WHERE date_created&amp;gt;=@0&amp;quot;, start_date.Value)
.Append(&amp;quot;WHERE date_created
&lt;/code>&lt;/pre>
&lt;p>5ã€ç›´æ¥æ‰§è¡Œsql&lt;/p>
&lt;pre>&lt;code>db.Execute(&amp;quot;DELETE FROM articles WHERE draft&amp;lt;&amp;gt;0&amp;quot;);
&lt;/code>&lt;/pre>
&lt;p>6ã€è°ƒç”¨å­˜å‚¨è¿‡ç¨‹&lt;/p>
&lt;pre>&lt;code>//è°ƒç”¨å­˜å‚¨è¿‡ç¨‹
db.Execute(&amp;quot;exec procSomeHandler @0, @1&amp;quot;, 3, &amp;quot;2011-10-01&amp;quot;);
//è°ƒç”¨å¸¦è¾“å‡º(OUTPUT)å‚æ•°çš„å­˜å‚¨è¿‡ç¨‹, å†™çš„sqlè¯­å¥ï¼Œ@0å‚æ•°åçš„â€œoutputâ€æ˜¯å…³é”®
var param = new SqlParameter() { Direction = ParameterDirection.Output, SqlDbType = SqlDbType.Int };
db.Execute(&amp;quot;exec procSomeHandler @0 OUTPUT&amp;quot;, param);
&lt;/code>&lt;/pre>
&lt;p>7ã€ä»£æ›¿è¿”å›å€¼DataTable
æœ‰æ—¶ï¼Œæˆ‘ä»¬å¹¶ä¸æƒ³æ¯æ¡æ‰§è¡Œçš„sqléƒ½éœ€è¦åˆ›å»ºå¯¹åº”çš„å®ä½“ç±»ï¼Œè¿™æ ·ä¼šå¯¼è‡´é¡¹ç›®ä¸­å­˜åœ¨è¿‡å¤šçš„å®ä½“ç±»ï¼Œæœ‰æ–¹æ³•èƒ½åšåˆ°DataTableè¿™æ ·çµæ´»å°±æœ€å¥½äº†ã€‚åœ¨.net4.0ä¸­ï¼ŒPetaPocoå¯ä»¥è¿”å›dynamicç±»å‹ï¼Œå¯ä»¥å¾ˆå¥½åœ°è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè€Œåœ¨.net3.5ä¸­å°±æ²¡åŠæ³•ï¼Œä¸è¿‡å¯ä»¥é€šè¿‡ä¿®æ”¹PetaPocoä»£ç ï¼Œå®ç°ä½¿ç”¨Dictionaryç±»å‹æ¥ä»£æ›¿dynamicåŠ¨æ€ç±»å‹çš„åŠŸèƒ½ã€‚æ”¹åŠ¨ä»£ç å¦‚ä¸‹ï¼š&lt;a class="link" href="https://github.com/bitxeno/PetaPoco/commit/e07746c06977f09ef8e7a0f81b718e520b4513ed" target="_blank" rel="noopener"
>https://github.com/bitxeno/PetaPoco/commit/e07746c06977f09ef8e7a0f81b718e520b4513ed&lt;/a>&lt;/p>
&lt;pre>&lt;code>var list = db.Fetch&amp;gt;(&amp;quot;select article_id,date_created from articles&amp;quot;);
&lt;/code>&lt;/pre>
&lt;p>ä½¿ç”¨petapocoæ—¶æœ‰ç‚¹éœ€è¦æ³¨æ„ï¼Œå°±æ˜¯å½“æ•°æ®åº“å­—æ®µæ•°æ®ç±»å‹æ˜¯varcharç­‰éunicodeå­—ç¬¦ç±»å‹æ—¶ï¼Œpetapocoä¼ å‚éœ€è¦æŠŠstringè½¬æ¢ä¸ºAnsiStringç±»å‹ï¼Œå¦åˆ™ä¼šæœ‰æ€§èƒ½é—®é¢˜ã€‚&lt;/p>
&lt;pre>&lt;code>Ansi String Support
DBA guru Rob Sullivan yesterday pointed out that SQL Server has pretty severe performance overhead if you try to query an index with varchar column using a unicode string parameter. To fix this the parameter needs to be bound as DbType.AnsiString. To facilitate this you can now wrap such string parameters in a new AnsiString class:
var a = db.SingleOrDefault&amp;lt;article&amp;gt;(&amp;quot;WHERE title=@0&amp;quot;, new PetaPoco.AnsiString(&amp;quot;blah&amp;quot;));&amp;lt;/article&amp;gt;
&lt;/code>&lt;/pre>
&lt;p>å‚è€ƒèµ„æ–™ï¼š
&lt;a class="link" href="http://code.google.com/p/dapper-dot-net/" target="_blank" rel="noopener"
>http://code.google.com/p/dapper-dot-net/&lt;/a>
&lt;a class="link" href="http://www.toptensoftware.com/petapoco/" target="_blank" rel="noopener"
>http://www.toptensoftware.com/petapoco/&lt;/a>&lt;/p></description></item><item><title>2011æ€»ç»“</title><link>https://blog.xenori.com/2012/01/summarize2011/</link><pubDate>Wed, 04 Jan 2012 13:59:21 +0000</pubDate><guid>https://blog.xenori.com/2012/01/summarize2011/</guid><description>&lt;p>è™½ç„¶è‡ªå·±å¾ˆæ‡’ï¼Œä¸è¿‡è¿˜æ˜¯æ€»ç»“ä¸‹2011å¹´åšè¿‡çš„äº‹ï¼Œå¯èƒ½ä»¥åå›é¡¾æ—¶ä¼šæœ‰å¦ä¸€ç•ªæ”¶è·ã€‚
ä»Šå¹´å› ä¸ºè½¬å…¥äº†äº’è”ç½‘è¡Œä¸šï¼Œæ‰€ä»¥åœ¨æŠ€æœ¯ä¸Šå­¦åˆ°äº†å¾ˆå¤šæ–°ä¸œè¥¿ï¼Œå¼€å‘æ—¶ä¹Ÿæ›´å…³æ³¨æ€§èƒ½ä¼˜åŒ–å’Œå¹¶å‘ï¼Œå¯¹å•å…ƒæµ‹è¯•ä¹Ÿæ…¢æ…¢ç†Ÿæ‚‰èµ·æ¥ã€‚ä»Šå¹´ç¨æœ‰ç ”ç©¶çš„æŠ€æœ¯æœ‰è¿™äº›ï¼š&lt;/p>
&lt;ol>
&lt;li>è´Ÿè½½å‡è¡¡faioverã€‚ä¸ºäº†ä½¿éƒ¨ç½²æ›´æ–°åˆ°ç”Ÿäº§ç¯å¢ƒæ—¶ï¼Œå‡å°‘å¯¹ç”¨æˆ·çš„å½±å“ï¼Œç‰¹æ„ç ”ç©¶äº†ä¸‹å½“å‰çƒ­é—¨çš„è§£å†³æ–¹æ¡ˆã€‚å½“å‰æµè¡Œçš„è´Ÿè½½å‡è¡¡è½¯ä»¶æœ‰nginxå’ŒHAProxyï¼Œå¯æƒœåˆ°æœ€åè¿˜æ˜¯æ²¡ç”¨åˆ°ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œç°åœ¨è¿˜æ˜¯ä¸æ˜ç™½å½“æˆ‘éƒ¨ç½²ä¸€å°æ—¶ï¼Œæ–°çš„è¿æ¥æ˜¯å¦ä¼šè‡ªåŠ¨è·¯ç”±åˆ°å¦ä¸€ä¸ªwebæœåŠ¡å™¨ã€‚&lt;/li>
&lt;li>ETLå¤§æ•°æ®é‡è½¬ç§»ã€‚æœ€åä½¿ç”¨SSISå®ŒæˆæŠŠMySQLæ•°æ®è½¬ç§»åˆ°SqlServerã€‚&lt;/li>
&lt;li>å¤šçº¿ç¨‹å¼€å‘ã€‚æœ€åæ‰¾åˆ°äº†ä¸ªSmartThreadPoolçš„çº¿ç¨‹æ± ç»„ä»¶ï¼Œå¾ˆå¥½ç”¨ã€‚&lt;/li>
&lt;li>Rediså’ŒMemcachedå­¦ä¹ &lt;/li>
&lt;li>æ•°æ®åº“æ€§èƒ½ä¼˜åŒ–ã€‚å¯¹æ•°æ®åº“ç´¢å¼•æ›´æ·±å…¥çš„ç†è§£ï¼Œä»Šå¹´æ˜¯å¤šå¾—è¿™ä¸ªç½‘ç«™ï¼š&lt;a class="link" href="http://use-the-index-luke.com/" target="_blank" rel="noopener"
>http://use-the-index-luke.com/&lt;/a>ï¼ŒæåŠ›æ¨èçœ‹ç½‘ç«™ä¸Šçš„ebook&lt;/li>
&lt;li>æ¶ˆæ¯é˜Ÿåˆ—ã€‚æ˜¯ä¸ºäº†ä¼˜åŒ–ä¸€ä¸ªç‰©å“äº¤æ˜“ç³»ç»Ÿè€Œå­¦ä¹ çš„ï¼Œè§‰å¾—ä¸é”™çš„æœ‰ZeroMqå’ŒRedisã€‚&lt;/li>
&lt;/ol>
&lt;p>ä»Šå¹´è™½ç„¶æ¥è§¦äº†å¾ˆå¤šæ–°æŠ€æœ¯ï¼Œæ„Ÿè§‰å¾ˆå……å®ï¼Œå¯æƒœçš„æ˜¯ï¼Œè¿˜æ˜¯æ²¡åšå‡ºä¸€ä¸ªä»¤è‡ªå·±æ»¡æ„çš„äº§å“ã€‚æ¯æ¬¡çœ‹è‡ªå·±åšçš„é¡¹ç›®éƒ½åƒä¸€ä¸ªåŠæˆå“ï¼Œå®åœ¨ä¸å¥½æ„æ€å‘æœ‹å‹æ¨èï¼Œä¸‹ä¸€å¹´çš„ç›®æ ‡è¿˜æ˜¯å¸Œæœ›èƒ½åšå‡ºä¸€ä¸ªå¥½äº§å“ã€‚&lt;/p>
&lt;p>ä»Šå¹´å› ä¸ºæœ‰äº†GRå’Œå¾®åšï¼Œå¯¹è¡Œä¸šçš„ä¿¡æ¯æ›´äº†è§£äº†ï¼Œä¹Ÿä»åˆ«äººçš„åˆ†äº«ä¸­äº†è§£å¾ˆå¤šæ–°æŠ€æœ¯ã€‚è€Œè´­ä¹°äº†iPadåï¼Œçœ‹ä¹¦å¾ˆæœ‰åŠ¨åŠ›ï¼Œä»Šå¹´çœ‹äº†å¾ˆå¤šè‹±æ–‡ç‰ˆçš„ä¹¦ï¼Œå¦‚ã€ŠCLR Via C#ã€‹ã€ã€ŠPro Asp.Net MVC 3ã€‹ã€ã€ŠProgramming the Mobile Webã€‹ç­‰ï¼Œå¹´åº¦æœ€å–œçˆ±çš„ä¹¦æ˜¯ã€Šé»‘å®¢ä¸ç”»å®¶ã€‹å’Œã€Šå¤§å®¶çœ‹çš„è®¾è®¡ä¹¦ã€‹(^o^)/ã€‚&lt;/p>
&lt;p>ä»Šå¹´æ„Ÿæƒ…ç”Ÿæ´»è¿˜æ˜¯ä¸€ç‰‡ç©ºç™½ï¼Œä¸è¿‡å¿ƒæƒ…å€’æ˜¯è½»æ¾å¾ˆå¤šã€‚è¿‡å¹´è¿‡èŠ‚çœ‹åˆ°åˆ«äººä¸€å¯¹å¯¹è¿˜æœ‰å„ç§å¾—æ„çš„å°å±å­©ï¼Œå¿ƒé‡Œæ˜¯æœ‰ç‚¹ç¾¡æ…•ï¼Œä¸è¿‡å·²ç»å­¦ä¼šå¾ˆè°ˆç„¶äº†ã€‚ç°åœ¨å¯¹æ„Ÿæƒ…æ–¹é¢åè€Œä¸å¼ºçƒˆï¼Œæ›´å¤šçš„ç²¾åŠ›è¿˜æ˜¯èŠ±åœ¨å·¥ä½œå’Œæ”’æ›´å¤šé’±ä¸Š($$)ã€‚&lt;/p>
&lt;p>ä»Šå¹´å·®ä¸å¤šä¸ä¸Šqäº†ï¼Œæ¸¸æˆä¹Ÿå› ä¸ºå…´è¶£è¶Šæ¥è¶Šå°‘ï¼Œä¹Ÿå¾ˆå°‘ç¢°ã€‚ä¹°æ¥çš„ps3å°±é€šäº†TOXï¼Œå…¶ä»–æ—¶é—´åƒç°ã€‚ã€‚ã€‚å¹³æ—¶å¤§å¤šæ•°æ—¶é—´éƒ½åœ¨åˆ·å¾®åšï¼Œå½“ç„¶ï¼ŒçŸ¥ä¹ä¹Ÿå¾ˆå¥½ï¼Œèƒ½å­¦åˆ°å¾ˆå¤šæœ‰è¶£çš„çŸ¥è¯†ã€‚&lt;/p>
&lt;p>åˆæ–°çš„ä¸€å¹´ï¼Œå³å°†è¿ˆè¿›30å¤§å…³ã€‚ã€‚ã€‚å‰é€”ä»ç„¶è¿·èŒ«å¾—ä¸çŸ¥æ‰€æªã€‚
æ„¿æˆ‘çš„å®¶äººæ°¸è¿œå¥åº·å¹¸ç¦ï¼Œæˆ‘æœ€å¤§çš„æ„¿æœ›ã€‚&lt;/p></description></item><item><title>é—¨æˆ·ç½‘ç«™çš„ipæŸ¥è¯¢æ¥å£</title><link>https://blog.xenori.com/2011/12/ip-lookup/</link><pubDate>Sun, 25 Dec 2011 06:09:12 +0000</pubDate><guid>https://blog.xenori.com/2011/12/ip-lookup/</guid><description>&lt;p>è…¾è®¯ï¼š&lt;a class="link" href="http://ip.qq.com/cgi-bin/searchip?searchip1=121.236.225.37" target="_blank" rel="noopener"
>http://ip.qq.com/cgi-bin/searchip?searchip1=121.236.225.37&lt;/a>
ç°åœ¨åªèƒ½é€šè¿‡è§£æé¡µé¢å†…å®¹åˆ°å–å¾—&lt;/p>
&lt;p>æ–°æµªï¼š&lt;a class="link" href="http://int.dpool.sina.com.cn/iplookup/iplookup.php?format=json&amp;amp;ip=123.124.2.85" target="_blank" rel="noopener"
>http://int.dpool.sina.com.cn/iplookup/iplookup.php?format=json&amp;amp;ip=123.124.2.85&lt;/a>&lt;/p>
&lt;p>ç½‘æ˜“ï¼šÂ &lt;a class="link" href="http://www.youdao.com/smartresult-xml/search.s?type=ip&amp;amp;q=123.124.2.85" target="_blank" rel="noopener"
>http://www.youdao.com/smartresult-xml/search.s?type=ip&amp;amp;q=123.124.2.85&lt;/a>&lt;/p>
&lt;p>ipåœ°å€åœ¨å„ä¸ªå›½å®¶çš„åˆ†é…æƒ…å†µè¡¨ï¼š
&lt;a class="link" href="http://ftp.apnic.net/apnic/stats/apnic/delegated-apnic-latest" target="_blank" rel="noopener"
>http://ftp.apnic.net/apnic/stats/apnic/delegated-apnic-latest&lt;/a>
&lt;a class="link" href="http://www.countryipblocks.net/country-blocks/ip-range-format/" target="_blank" rel="noopener"
>http://www.countryipblocks.net/country-blocks/ip-range-format/&lt;/a>&lt;/p></description></item><item><title>GoAgentç¿»äº†ä¸ªå¢™</title><link>https://blog.xenori.com/2011/12/open-the-doo/</link><pubDate>Sat, 10 Dec 2011 09:19:25 +0000</pubDate><guid>https://blog.xenori.com/2011/12/open-the-doo/</guid><description>&lt;p>GoAgentæ˜¯ä¸ªå¾ˆå¼ºçš„Appspotä»£ç†ç¨‹åºï¼Œçœ‹youtubeæ¯«æ— å‹åŠ›=w=ï¼Œchrome+SwitchySharpä¹Ÿå¾ˆå¥½ç”¨ï¼Œä¸‹é¢æ˜¯ä¸ªç®€å•çš„éƒ¨ç½²æ­¥éª¤ï¼š
1ã€åˆ°http://code.google.com/p/goagent/ä¸‹è½½æœ€æ–°ç‰ˆçš„GoAgent
2ã€é¦–é€‰dnsè¦è®¾ä¸º8.8.8.8
3ã€åˆ°http://code.google.com/p/smarthosts/ä¸‹è½½æœ€æ–°ç¨‹åºæ›´æ–°ä¸‹hosts
4ã€æŒ‰GoAgentéƒ¨ç½²æ•™ç¨‹ä¸Šä¼ ç¨‹åºåˆ°Appspot
5ã€æŠŠSwitchSharpçš„ä»£ç†è®¾ä¸º127.0.0.1:8087ï¼Œå¹¶æŠŠåœ¨ä»£è§„åˆ™æŒ‡å‘ï¼šhttp://autoproxy-gfwlist.googlecode.com/svn/trunk/gfwlist.txt
&lt;img src="http://ww4.sinaimg.cn/large/7ce4a9f6gw1e5q178g3ouj20ol03g0t4.jpg"
loading="lazy"
alt="switchsharp rule setting"
>
6ã€have fun!&lt;/p>
&lt;p>æ›´è¯¦ç»†æ•™ç¨‹ï¼š
&lt;a class="link" href="http://maolihui.com/goagent-detailed-version-of-the-tutorial.html" target="_blank" rel="noopener"
>http://maolihui.com/goagent-detailed-version-of-the-tutorial.html&lt;/a>&lt;/p></description></item><item><title>Luceneå®è·µ</title><link>https://blog.xenori.com/2011/12/lucene-knowledge/</link><pubDate>Wed, 07 Dec 2011 15:51:09 +0000</pubDate><guid>https://blog.xenori.com/2011/12/lucene-knowledge/</guid><description>&lt;p>è¿™æ˜¯å†…éƒ¨æŠ€æœ¯åˆ†äº«çš„ppt&lt;/p>
&lt;!-- raw HTML omitted --></description></item><item><title>xp3ä¸­è¿è¡Œs60 v3æ¨¡æ‹Ÿå™¨ï¼Œå‡ºç°é—ªé€€é—®é¢˜çš„è§£å†³æ–¹æ³•</title><link>https://blog.xenori.com/2011/11/s60emulator-run-terminate/</link><pubDate>Mon, 28 Nov 2011 14:02:21 +0000</pubDate><guid>https://blog.xenori.com/2011/11/s60emulator-run-terminate/</guid><description>&lt;p>åœ¨æˆ‘çš„xp3ä¸Šå®‰è£…S60_3rd_FP2_SDK_v1.1ç‰ˆæœ¬æ¨¡å—å™¨ï¼Œåœ¨è¿è¡Œæ—¶ä¼šå‡ºç°é—ªé€€çš„é—®é¢˜ï¼ˆåœ¨xp2ä¸Šå¥½åƒæ²¡è¿™é—®é¢˜)ï¼Œè§£å†³æ–¹æ³•å¦‚ä¸‹ï¼š&lt;/p>
&lt;p>è¿›å…¥â€œæˆ‘çš„ç”µè„‘-ã€‹å±æ€§-ã€‹é«˜çº§-ã€‹æ€§èƒ½ï¼ˆè®¾ç½®ï¼‰-ã€‹æ•°æ®æ‰§è¡Œä¿æŠ¤â€ï¼ŒæŠŠepoc.exeç¨‹åºåŠ å…¥ä¾‹å¤–ä¸­å°±å¯ä»¥äº†ï¼š
&lt;img src="http://ww4.sinaimg.cn/large/7ce4a9f6gw1e5q0qq4u7hj20el0fuabm.jpg"
loading="lazy"
alt="nokia s60 v3 fp1"
>&lt;/p>
&lt;p>å‡å¦‚ä½ æƒ³æŸ¥çœ‹nokiaæ¨¡æ‹Ÿå™¨è¿è¡Œæ—¥å¿—ï¼Œå¯ä»¥åœ¨è¿è¡Œä¸­æ‰“å¼€â€œ%temp%â€å½“å‰ç”¨æˆ·ä¸´æ—¶æ–‡ä»¶å¤¹ï¼Œå†æœç´¢â€œepocwind.outâ€å°±æ˜¯äº†&lt;/p></description></item></channel></rss>